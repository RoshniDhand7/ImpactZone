{"version":3,"file":"static/js/63.7aee0c62.chunk.js","mappings":"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","sources":["shared/Layout/FormPage.jsx","shared/PageBuilder/PageBuilder.jsx","views/Settings/Agreement/AgreementTemplate/AgreementTemplateForm.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport CustomTransition from '../Transitions/CustomTransition';\r\n\r\nexport default function FormPage({ children, backText, backTo }) {\r\n    const history = useHistory();\r\n\r\n    const onBack = () => {\r\n        if (backTo) {\r\n            history.replace(backTo);\r\n        } else {\r\n            history.goBack();\r\n        }\r\n    };\r\n    return (\r\n        <CustomTransition>\r\n            {backText ? (\r\n                <div className=\"flex mb-3 text-dark-gray\">\r\n                    <i className=\"pi pi-angle-left text-2xl cursor-pointer\" onClick={onBack}></i>\r\n                    <div className=\" my-auto font-semibold text-lg cursor-pointer\" onClick={onBack}>\r\n                        Back to {backText}\r\n                    </div>\r\n                </div>\r\n            ) : null}\r\n            <>{children}</>\r\n        </CustomTransition>\r\n    );\r\n}\r\n","import React, { useRef, useEffect } from 'react';\r\nimport 'grapesjs/dist/css/grapes.min.css';\r\nimport './PageBuilder.css';\r\nimport grapesjs from 'grapesjs';\r\nimport plugin from 'grapesjs-preset-newsletter';\r\nimport constants from '../../constants';\r\nimport { addAssets, deleteAsset, getAssets } from '../../redux/actions/AgreementSettings/AgreementTemplate';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default function PageBuilder() {\r\n    const dispatch = useDispatch();\r\n    const editorRef = useRef(null);\r\n    useEffect(() => {\r\n        const initEditor = () => {\r\n            const editor = grapesjs.init({\r\n                container: editorRef.current,\r\n                plugins: [plugin],\r\n                assetManager: {\r\n                    assets: [],\r\n                    uploadFile: onAddAsset,\r\n                },\r\n            });\r\n\r\n            let panelManager = editor.Panels;\r\n\r\n            let am = editor.AssetManager;\r\n            let assets = am.getAll();\r\n            assets.on('remove', onRemoveAsset);\r\n\r\n            panelManager.addButton('options', {\r\n                id: 'save',\r\n                className: 'fa fa-upload',\r\n                command: 'onSave',\r\n                attributes: { title: 'Save' },\r\n                // active: false,\r\n            });\r\n\r\n            const commands = editor.Commands;\r\n            commands.add('onSave', handleSaveHTML);\r\n\r\n            panelManager.removeButton('devices-c', 'set-device-desktop');\r\n            panelManager.removeButton('devices-c', 'set-device-tablet');\r\n            panelManager.removeButton('devices-c', 'set-device-mobile');\r\n\r\n            panelManager.removeButton('options', 'sw-visibility');\r\n            panelManager.removeButton('options', 'preview');\r\n            panelManager.removeButton('options', 'fullscreen');\r\n            panelManager.removeButton('options', 'export-template');\r\n\r\n            // panelManager.removeButton('options', 'toggle-images');\r\n\r\n            // panelManager.removeButton('options', 'undo');\r\n            // panelManager.removeButton('options', 'redo');\r\n\r\n            // remove the buttons\r\n            // panelManager.removeButton('views', 'open-sm');\r\n            // panelManager.removeButton('views', 'open-layers');\r\n            // panelManager.removeButton('views', 'open-tm');\r\n\r\n            // editor.setComponents(existingHTML);\r\n            editorRef.current = editor;\r\n        };\r\n        initEditor();\r\n        return () => {\r\n            // editorRef.current.destroy();\r\n            // editorRef.current = null;\r\n        };\r\n    }, []);\r\n    useEffect(() => {\r\n        onGetAssets();\r\n    }, []);\r\n\r\n    const onGetAssets = () => {\r\n        dispatch(\r\n            getAssets((data) => {\r\n                let { models } = editorRef.current.AssetManager.getAll();\r\n\r\n                let as = data.map((item) => ({\r\n                    id: item._id,\r\n                    name: item.name,\r\n                    type: 'image',\r\n                    src: constants.baseUrl + item.url,\r\n                }));\r\n                if (models && models.length) {\r\n                    as = as.filter((item) => models.findIndex((item2) => item.id === item2.attributes.id) === -1);\r\n                }\r\n                editorRef.current.AssetManager.add(as);\r\n            }),\r\n        );\r\n    };\r\n\r\n    const onAddAsset = async (e) => {\r\n        dispatch(\r\n            addAssets(e.target.files, (data) => {\r\n                let as = data.map((item) => ({\r\n                    id: item._id,\r\n                    name: item.name,\r\n                    type: 'image',\r\n                    src: constants.baseUrl + item.url,\r\n                }));\r\n                editorRef.current.AssetManager.add(as);\r\n            }),\r\n        );\r\n    };\r\n    const onRemoveAsset = async ({ attributes }) => {\r\n        console.log(attributes);\r\n        dispatch(\r\n            deleteAsset(attributes.id, () => {\r\n                editorRef.current.AssetManager.remove(attributes.src);\r\n            }),\r\n        );\r\n    };\r\n\r\n    let con = {\r\n        htmlContent:\r\n            '<body id=\"i0pi\"><div id=\"inqx\">hello Insert your text here</div><table id=\"ia8e\"><tbody><tr><td id=\"ipaq\"><table class=\"grid-item-row\"><tbody><tr><td class=\"grid-item-cell2-l\"><table class=\"grid-item-card\"><tbody><tr><td class=\"grid-item-card-cell\"><img src=\"https://via.placeholder.com/250x150/78c5d6/fff/\" alt=\"Image\" class=\"grid-item-image\"/><table class=\"grid-item-card-body\"><tbody><tr><td class=\"grid-item-card-content\"><h1 class=\"card-title\">Title here</h1><p class=\"card-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p><a class=\"button\">Button</a></td></tr></tbody></table></td></tr></tbody></table></td><td class=\"grid-item-cell2-r\"><table class=\"grid-item-card\"><tbody><tr><td class=\"grid-item-card-cell\"><img src=\"https://via.placeholder.com/250x150/78c5d6/fff/\" alt=\"Image\" class=\"grid-item-image\"/><table class=\"grid-item-card-body\"><tbody><tr><td class=\"grid-item-card-content\"><h1 class=\"card-title\">Title here</h1><p class=\"card-text\">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></td><td id=\"ikvh\"><img id=\"ituf\" src=\"https://impactzoneapi.appdeft.biz/public/uploads/1708595963701.png\"/></td></tr></tbody></table><table id=\"i6mal\"><tbody><tr><td class=\"divider\"></td></tr></tbody></table></body>',\r\n        cssContent:\r\n            '* { box-sizing: border-box; } body {margin: 0;}*{box-sizing:border-box;}body{margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;}*{box-sizing:border-box;}body{margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;}#inqx{padding-top:10px;padding-right:10px;padding-bottom:10px;padding-left:10px;}#ia8e{height:150px;margin-top:0px;margin-right:auto;margin-bottom:10px;margin-left:auto;padding-top:5px;padding-right:5px;padding-bottom:5px;padding-left:5px;width:100%;}#ipaq{padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;vertical-align:top;width:50%;}#ikvh{padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;vertical-align:top;width:50%;}#ituf{color:black;width:394px;height:330px;}.divider{background-color:rgba(0, 0, 0, 0.1);height:1px;}#i6mal{width:100%;margin-top:10px;margin-bottom:10px;}.button{background-color:#ac2222;border-radius:3px 3px 0px 4px;border:0px solid #250a0a;padding:5px 5px 5px 10px;}',\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     setTimeout(() => {\r\n    //         console.log('worked');\r\n\r\n    //         editorRef.current.setComponents(con.htmlContent);\r\n    //         editorRef.current.setStyle(con.cssContent);\r\n    //     }, 5000);\r\n    // }, []);\r\n\r\n    const handleSaveHTML = async () => {\r\n        const htmlContent = editorRef.current.getHtml();\r\n        const cssContent = editorRef.current.getCss();\r\n        try {\r\n            console.log({ htmlContent, cssContent });\r\n        } catch (error) {\r\n            console.error('Error saving HTML content:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"gpj\" ref={editorRef}></div>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport FormPage from '../../../../shared/Layout/FormPage';\r\nimport PageBuilder from '../../../../shared/PageBuilder/PageBuilder';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function AgreementTemplateForm() {\r\n    const { id } = useParams();\r\n    return (\r\n        <div>\r\n            <FormPage backText=\"Agreement Template\">\r\n                <PageBuilder />\r\n            </FormPage>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["FormPage","_ref","children","backText","backTo","history","useHistory","onBack","replace","goBack","_jsxs","CustomTransition","className","_jsx","onClick","_Fragment","PageBuilder","dispatch","useDispatch","editorRef","useRef","useEffect","initEditor","editor","grapesjs","init","container","current","plugins","plugin","assetManager","assets","uploadFile","onAddAsset","panelManager","Panels","AssetManager","getAll","on","onRemoveAsset","addButton","id","command","attributes","title","Commands","add","handleSaveHTML","removeButton","onGetAssets","getAssets","data","models","as","map","item","_id","name","type","src","constants","baseUrl","url","length","filter","findIndex","item2","async","addAssets","e","target","files","console","log","deleteAsset","remove","htmlContent","getHtml","cssContent","getCss","error","ref","AgreementTemplateForm","useParams"],"sourceRoot":""}