"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[145],{7931:(e,a,t)=>{t.d(a,{Xs:()=>m,bV:()=>h,br:()=>p,gc:()=>v,kx:()=>x,m6:()=>u,mp:()=>y});var s=t(6178),n=t.n(s),i=t(7128),l=t(5659),o=t(346),d=t(7504),r=t(2392),c=t(8085);const m=(e,a)=>async t=>{a&&a(!0);const s={employee:e},n=await(0,i.A)("get",l.A.MANAGE_EMPLOYEE_CERTIFICATES,{},s);n.success&&n.data&&t({type:o.g.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:n.data}),a&&a(!1)},u=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async o=>{var d;if(a(!0),null!==(d=e.certificate)&&void 0!==d&&d.length){let a=await(0,c.Zn)(e.certificate);e.certificate=a[0].path,e.certificateName=a[0].originalname,e.certificateSize=a[0].size}else e.certificate="";const m={...e,acquiredDate:n()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(e.expirationDate).format("MM/DD/YYYY")},u=await(0,i.A)("post",l.A.MANAGE_EMPLOYEE_CERTIFICATES,m);u.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(u.data._id,"/").concat(s)):t.goBack(),o((0,r.P)({severity:"success",summary:u.message}))),a(!1)}},v=(e,a)=>async t=>{t((0,d.r)());const s=await(0,i.A)("get",l.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,d.i)())},p=function(e,a,t,s){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async d=>{var m;if(t(!0),null!==(m=a.certificate)&&void 0!==m&&m.length){let e=await(0,c.Zn)(a.certificate);a.certificate=e[0].path,a.certificateName=e[0].originalname,a.certificateSize=e[0].size}else a.certificate="";const u={...a,acquiredDate:n()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(a.expirationDate).format("MM/DD/YYYY")},v=await(0,i.A)("put",l.A.MANAGE_EMPLOYEE_CERTIFICATES+e,u);v.success&&(o?s.replace("/settings/employee/manage-employee/edit/".concat(v.data._id,"/").concat(o)):s.goBack(),d((0,r.P)({severity:"success",summary:v.message}))),t(!1)}},y=(e,a)=>async t=>{const s=await(0,i.A)("delete",l.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success?(t((0,r.P)({severity:"success",summary:s.message})),a()):t((0,r.P)({severity:"error",summary:s.message}))},x=(e,a,t)=>async s=>{a&&a(!0);const n=await(0,i.A)("get",l.A.NOTES,"",{employee:e});n.success&&n.data&&t&&t(n.data),a&&a(!1)},h=(e,a,t)=>async s=>{a(!0);const n=await(0,i.A)("post",l.A.NOTES,e);n.success?(s((0,r.P)({severity:"success",summary:n.message})),t()):s((0,r.P)({severity:"error",summary:n.message})),a(!1)}},2145:(e,a,t)=>{t.r(a),t.d(a,{default:()=>je});var s=t(5043),n=t(5050),i=t(6443),l=t(3549),o=t(7994),d=t(2468),r=t(7374),c=t(6911),m=t(6038),u=t(8085),v=t(9456),p=t(1688),y=t(4096),x=t(7435),h=t(9358),C=t(579);const j=()=>{var e;const a=(0,v.wA)(),{id:t}=(0,p.g)(),n=(0,p.W6)(),[i,j]=(0,s.useState)(!1);(0,s.useEffect)((()=>{a((0,x.oD)()),a((0,h.Eq)())}),[a]);let{allSecurityRoles:A}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.securityRole));A=null===(e=A)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,s.useEffect)((()=>{t&&a((0,y.l3)(t,(e=>{E({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn,securityRoles:e.securityRoles,isActive:e.isActive})})))}),[t,a]);const{allJobTitle:f}=(0,v.d4)((e=>e.jobTitle)),[g,E]=(0,s.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:null,dob:"",socialSecurity:"",barCode:0,accessCode:"",email:"",multiClubClockIn:!1,securityRoles:[],isActive:!0}),T=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,g);E((e=>({...e,[a]:t,formErrors:s})))},P=e=>{(0,u.nV)(g,E,["jobTitle"])&&a(t?(0,y.JE)(t,g,j,n,e):(0,y.xm)(g,j,n,e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Ay,{col:"12",title:"Personal",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.wi,{name:"firstName",required:!0,col:3,data:g,onChange:T}),(0,C.jsx)(d.wi,{name:"middleInitial",col:1,data:g,onChange:T}),(0,C.jsx)(d.wi,{name:"lastName",required:!0,data:g,onChange:T}),(0,C.jsx)(d.BR,{name:"jobTitle",data:g,onChange:T,options:null===f||void 0===f?void 0:f.map(((e,a)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,C.jsx)(d.wN,{name:"dob",data:g,onChange:T}),(0,C.jsx)(d.wi,{name:"socialSecurity",data:g,onChange:T}),(0,C.jsx)(d.o4,{name:"isActive",data:g,onChange:T})]})}),(0,C.jsx)(l.Ay,{col:"12",title:"System",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.Bt,{name:"barCode",required:!0,data:g,onChange:T}),(0,C.jsx)(d.wi,{name:"accessCode",required:!0,data:g,onChange:T}),(0,C.jsx)(d.wi,{name:"email",required:!0,data:g,onChange:T}),(0,C.jsx)(d.BR,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:r.r4,data:g,onChange:T})]})}),(0,C.jsx)(l.Ay,{col:"12",title:"Select Roles",children:(0,C.jsx)("div",{col:12,children:(0,C.jsx)(c.A,{name:"securityRoles",selected:null===g||void 0===g?void 0:g.securityRoles,sourceData:A,onPickListChange:T})})}),(0,C.jsxs)(o.zp,{children:[(0,C.jsx)(o.Ay,{label:"Save",className:"mx-2",onClick:()=>P(""),loading:i}),(0,C.jsx)(o.Ay,{label:"Save & Next",className:"mx-2",onClick:()=>P("?tab=general"),loading:i}),(0,C.jsx)(o.Ti,{label:"Cancel",onClick:()=>n.replace("/settings/employee")})]})]})};var A=t(5148),f=t(92),g=t(4281),E=t(8702);const T={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},P=e=>{let{name:a,value:t,data:n,onDropChange:i,multiple:l=!0}=e;const[o,d]=(0,s.useState)(t||(null===n||void 0===n?void 0:n[a])||[]);(0,s.useEffect)((()=>{(t||null!==n&&void 0!==n&&n[a])&&JSON.stringify(t||(null===n||void 0===n?void 0:n[a]))!==JSON.stringify(o)&&d(t||(null===n||void 0===n?void 0:n[a]))}),[t||(null===n||void 0===n?void 0:n[a])]),(0,s.useEffect)((()=>{i&&i({name:a,value:o})}),[o,a]);const r=(0,s.useCallback)(((e,a)=>{a.length>0||e.forEach((e=>{o.some((a=>a.name===e.name))||d((a=>[...a,e]))}))}),[o]),{getRootProps:c,getInputProps:m,isDragActive:u,isDragAccept:v,isDragReject:p}=(0,g.VB)({onDrop:r,multiple:l,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),y=(0,s.useMemo)((()=>({...v?{borderColor:"#00e676"}:{},...p?{borderColor:"#ff1744"}:{}})),[v,p]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{...c({style:y}),style:T,children:[(0,C.jsx)("input",{...m()}),u?p?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.e,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.e,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(A.e,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,C.jsx)("div",{className:"flex flex-wrap my-2",children:(null===o||void 0===o?void 0:o.length)>0&&(null===o||void 0===o?void 0:o.map(((e,a)=>(0,C.jsx)(A.e,{className:"p-overlay-badge my-2 mr-3",image:(0,E.b)(e),size:"xlarge",children:(0,C.jsx)(f.E,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{d((a=>a.filter(((a,t)=>t!==e))))})(a)})}))))})]})},N=()=>{var e;const a=(0,v.wA)(),t=(0,p.W6)(),{id:n}=(0,p.g)(),[i,c]=(0,s.useState)([]),[x,h]=(0,s.useState)([]),[j,A]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(0,u.oj)();const e=(0,u.s6)("US");c(e)}),[a]);const[f,g]=(0,s.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",socialMedia:"",alternateEmail:"",image:[]});(0,s.useEffect)((()=>{n&&a((0,y.l3)(n,(e=>{g({hireDate:e.hireDate?new Date(e.hireDate):"",terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:e.emailNotification,onlineNickName:e.onlineNickName,bio:e.bio,socialMedia:e.socialMedia,alternateEmail:e.alternateEmail,image:e.image?[e.image]:[]});const a=(0,u.Wv)("US",e.state);h(a)})))}),[n,a]),(0,s.useEffect)((()=>{const e=(0,m.A)("city",f.city,f);g((a=>({...a,city:f.city,formErrors:e})))}),[f.city]);const E=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,f);if("state"===a){const e=(0,u.Wv)("US",t);h(e);const a={state:"",city:"",zipCode:""},s={...(0,m.A)("state",t,a),...(0,m.A)("city","",a),...(0,m.A)("zipCode","",a)};g((e=>({...e,city:"",zipCode:"",state:t,formErrors:s})))}else g((e=>({...e,[a]:t,formErrors:s})))},T=e=>{(0,u.nV)(f,g)&&n&&a((0,y.JE)(n,f,A,t,e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Ay,{col:"12",title:"Employement",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.wN,{id:"hireDate",name:"hireDate",onChange:E,data:f}),(0,C.jsx)(d.wi,{name:"adpId",onChange:E,data:f})]})}),(0,C.jsx)(l.Ay,{col:"12",title:"Contact",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.SB,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:f}),(0,C.jsx)(d.SB,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:f}),(0,C.jsx)(d.SB,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:f}),(0,C.jsx)(d.SB,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:f}),(0,C.jsx)(d.SB,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:f}),(0,C.jsx)(d.wi,{name:"street",onChange:E,data:f}),(0,C.jsx)(d.BR,{name:"state",options:i,onChange:E,data:f}),(0,C.jsx)(d.BR,{name:"city",options:x,onChange:E,data:f}),(0,C.jsx)(d.wi,{name:"zipCode",onChange:E,data:f,disabled:!f.state}),(0,C.jsx)(d.BR,{name:"emailNotification",options:r.r4,onChange:E,data:f})]})}),(0,C.jsx)(l.Ay,{col:"12",title:"Online",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.wi,{name:"onlineNickName",onChange:E,data:f}),(0,C.jsx)(d.wi,{name:"socialMedia",onChange:E,data:f}),(0,C.jsx)(d.wi,{name:"alternateEmail",label:"Alternate Email",onChange:E,data:f}),(0,C.jsx)(d.Ky,{name:"bio",onChange:E,data:f})]})}),(0,C.jsxs)(l.Ay,{col:"12",title:"Photo",children:[(0,C.jsx)(P,{name:"image",onDropChange:E,data:f,multiple:!1}),(0,C.jsx)("div",{className:"p-error text-sm",children:null===f||void 0===f||null===(e=f.formErrors)||void 0===e?void 0:e.image})]}),(0,C.jsxs)(o.zp,{children:[(0,C.jsx)(o.Ay,{label:"Save",className:"mx-2",onClick:()=>T(""),loading:j}),(0,C.jsx)(o.Ay,{label:"Save & Next",className:"mx-2",onClick:()=>T("?tab=departments"),loading:j}),(0,C.jsx)(o.Ti,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var S=t(1047);const b=()=>{const e=(0,v.wA)(),{id:a}=(0,p.g)(),t=(0,p.W6)(),{clubsDropdown:n}=(0,S.A)(),[i,d]=(0,s.useState)(!1);(0,s.useEffect)((()=>{a&&e((0,y.l3)(a,(e=>{m({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[a,e]);const[r,m]=(0,s.useState)({reportDataAccess:[],clubs:[]}),u=e=>{let{name:a,value:t}=e;m((e=>({...e,[a]:t})))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Ay,{col:"12",title:"Report Data Access",children:(0,C.jsx)(c.A,{name:"reportDataAccess",selected:null===r||void 0===r?void 0:r.reportDataAccess,sourceData:n,onPickListChange:u})}),(0,C.jsx)(l.Ay,{col:"12",title:"Clubs",children:(0,C.jsx)(c.A,{name:"clubs",selected:null===r||void 0===r?void 0:r.clubs,sourceData:n,onPickListChange:u})}),(0,C.jsxs)(o.zp,{children:[(0,C.jsx)(o.Ay,{label:"Save",className:"mx-2",loading:i,onClick:()=>{a&&e((0,y.JE)(a,r,d,t))}}),(0,C.jsx)(o.Ti,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var w=t(7602),D=t(6411),R=t(7931),_=t(6178),I=t.n(_);const O=()=>{const{id:e}=(0,p.g)(),a=(0,v.wA)(),t=(0,v.d4)((e=>e.profile.user));(0,s.useEffect)((()=>{t&&i({...n,takenBy:t.firstName,dateTime:new Date})}),[t]);const[n,i]=(0,s.useState)({takenBy:null===t||void 0===t?void 0:t.firstName,dateTime:new Date,notes:""}),[o,r]=(0,s.useState)(!1),[c,y]=(0,s.useState)([]),x=e=>{a((0,R.kx)(e,j,(e=>{y(e)})))};(0,s.useEffect)((()=>{e&&x(e)}),[e,a]);const[h,j]=(0,s.useState)(!1),A=[{field:"takenBy",header:"Taken By"},{field:"dateTime",body:e=>I()(e.dateTime).format("MM-DD-YYYY hh:mm a"),header:"Date/Time"},{field:"notes",header:"Notes"}],f=()=>{i({notes:""}),r(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>r(!0)}),(0,C.jsx)(w.A,{data:c,columns:A}),(0,C.jsx)(D.A,{width:"100vh",title:"Add Note",visible:o,onCancel:f,loading:h,onSave:()=>{(0,u.nV)(n,i)&&e&&a((0,R.bV)({...n,employee:e},j,(()=>{x(e),f()})))},children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.Ky,{name:"notes",maxLength:"266",data:n,onChange:e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,n);i((e=>({...e,[a]:t,formErrors:s})))},inputClass:"h-17rem\t"})})})]})},L=()=>{const e=(0,v.wA)(),{id:a}=(0,p.g)(),t=(0,p.W6)();(0,s.useEffect)((()=>{e((0,R.Xs)(a))}),[e,a]);const{allCertificates:n}=(0,v.d4)((e=>e.certificates));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(a)}),(0,C.jsx)(w.A,{data:n,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{t.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(a))},onDelete:(t,s)=>{(0,u.QV)((()=>{e((0,R.mp)(t._id,(()=>{e((0,R.Xs)(a))})))}),"Do you want to delete this Certificates ?",s)}})]})};var Y=t(9134),k=t(8465);function M(){const{id:e}=(0,p.g)(),a=(0,v.wA)(),{departmentsDropdown:t}=(0,k.A)();(0,s.useEffect)((()=>{n(e)}),[a]);const n=e=>{a((0,Y.OB)(e,c,(e=>{h(e)})))},[i,o]=(0,s.useState)(!1),[r,c]=(0,s.useState)(!1),[m,y]=(0,s.useState)(null),[x,h]=(0,s.useState)([]),[j,A]=(0,s.useState)({departments:[],wage:0}),f=e=>{let{name:a,value:t}=e;A((e=>({...e,[a]:t})))},g=()=>{o(!1),A({departments:[],wage:0}),y(null)};let E=t.filter((e=>!x.map((e=>e.department)).includes(e.value)));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add Department",onClick:()=>o(!0)}),(0,C.jsx)(w.A,{data:x,columns:[{field:"departmentName",header:"Name"},{field:"wage",header:"Wage"}],onEdit:e=>(e=>{y(e);let a=x.find((a=>a._id===e));A({departments:[a.department],wage:a.wage}),o(!0)})(e._id),onDelete:t=>{(0,u.QV)((()=>{a((0,Y.k7)(t._id,(()=>{n(e),g()})))}),"Do you want to delete this Employee Department?")}}),(0,C.jsx)(D.A,{title:"Add",visible:i,onCancel:g,loading:r,onSave:()=>{a(m?(0,Y.d3)(m,{wage:j.wage},c,(()=>{n(e),g()})):(0,Y.Wz)({...j,employee:e},c,(()=>{n(e),g()})))},children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.Rx,{col:"12",name:"departments",data:j,onChange:f,options:m?t:E,disabled:!!m}),(0,C.jsx)(d.Bt,{col:"12",name:"wage",data:j,onChange:f,minFractionDigits:4,maxFractionDigits:4})]})})]})}var F=t(1731),B=t(7128),V=t(5659),U=t(346),G=t(7504),$=t(2392);const z=(e,a)=>async t=>{a&&a(!0);const s=await(0,B.A)("get",V.A.EMPLOYEE_CLASSES,{},{employee:e});s.success&&s.data&&t({type:U.g.CHANGE_EMPLOYEE_CLASSES,payload:s.data}),a&&a(!1)},q=(e,a,t)=>async s=>{a(!0);const n=await(0,B.A)("post",V.A.EMPLOYEE_CLASSES,e);n.success?t():s((0,$.P)({severity:"error",summary:n.message})),a(!1)},Q=(e,a,t,s)=>async n=>{t(!0);const i=await(0,B.A)("put",V.A.EMPLOYEE_CLASSES+e,a);i.success?s():n((0,$.P)({severity:"error",summary:i.message})),t(!1)},W=e=>{var a;let{visible:t,setVisible:n,id:i,employeeClassId:o,setEmployeeClassId:c}=e;const[p,y]=(0,s.useState)(!1),[x,h]=(0,s.useState)({}),j=(0,v.wA)(),A=()=>{n(!1),S(g),c(null)};(0,s.useEffect)((()=>{o&&f(o)}),[o]);const f=e=>{j(((e,a,t)=>async s=>{a&&a(!0);const n=await(0,B.A)("get",V.A.EMPLOYEE_CLASSES+e);n.success&&n.data&&t&&t(n.data),a&&a(!1)})(e,y,(e=>{h(e)})))},g={payType:"INCREMENTAL_PAY",oneToFiveClients:0,sixToTenClients:0,elevenToFifteenClients:0,sixteenToTwentyClients:0,twentyOneToTwentyFiveClients:0,twentySixPlusClients:0,noRegistrationPay:0,countUnpaidService:!1},E={payType:"PAY_PER_CLASS",payPerClassRate:0,noRegistrationPay:0},T={payType:"PAY_PER_CLIENT",baseRate:0,countUnpaidService:!1,payPerClientRate:0,eachClientOver:[{noOfClients:0,rate:0},{noOfClients:0,rate:0},{noOfClients:0,rate:0}],maxPayPerClient:0,noRegistrationPay:0},P={payType:"PERCENTAGE_RATE",percentage:0,noRegistrationPay:0},[N,S]=(0,s.useState)(g);(0,s.useEffect)((()=>{o||("INCREMENTAL_PAY"===(null===N||void 0===N?void 0:N.payType)?S(g):"PAY_PER_CLASS"===(null===N||void 0===N?void 0:N.payType)?S(E):"PAY_PER_CLIENT"===(null===N||void 0===N?void 0:N.payType)?S(T):"PERCENTAGE_RATE"===(null===N||void 0===N?void 0:N.payType)&&S(P))}),[null===N||void 0===N?void 0:N.payType]),(0,s.useEffect)((()=>{if(o&&x){const{oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:s,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l,payPerClassRate:o,baseRate:d,payPerClientRate:r,maxPayPerClient:c,percentage:m,countUnpaidService:u}=x;let v={};switch(null===x||void 0===x?void 0:x.payType){case"INCREMENTAL_PAY":v={payType:"INCREMENTAL_PAY",oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:s,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l,countUnpaidService:u};break;case"PAY_PER_CLASS":v={payType:"PAY_PER_CLASS",payPerClassRate:o,noRegistrationPay:l};break;case"PAY_PER_CLIENT":v={payType:"PAY_PER_CLIENT",baseRate:d,countUnpaidService:u,payPerClientRate:r,eachClientOver:x.eachClientOver.map((e=>({noOfClients:e.noOfClients,rate:e.rate}))),maxPayPerClient:c,noRegistrationPay:l};break;case"PERCENTAGE_RATE":v={payType:"PERCENTAGE_RATE",percentage:m,noRegistrationPay:l};break;default:v={}}S(v)}}),[x]);const b=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,N);S((e=>({...e,[a]:t,formErrors:s})))},w=(e,a,t)=>{const s=[...N.eachClientOver];s[e][a]=t,S((e=>({...e,eachClientOver:s})))};return(0,C.jsx)("div",{children:(0,C.jsx)(D.A,{title:o?"Edit":"Add",visible:t,onCancel:A,loading:p,onSave:()=>{let e=[];e="INCREMENTAL_PAY"===(null===N||void 0===N?void 0:N.payType)?["payPerClassRate","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLASS"===(null===N||void 0===N?void 0:N.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLIENT"===(null===N||void 0===N?void 0:N.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","percentage","payPerClassRate"]:["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","payPerClassRate"],(0,u.nV)(N,S,e)&&j(o?Q(o,N,y,(()=>{j(z(i)),A()})):q({...N,employee:i},y,(()=>{j(z(i)),A()})))},children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.BR,{name:"payType",data:N,onChange:b,options:r.Gj,col:12,disabled:!!o}),"INCREMENTAL_PAY"===(null===N||void 0===N?void 0:N.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Yh,{label:"1-5 Clients",name:"oneToFiveClients",data:N,onChange:b}),(0,C.jsx)(d.Yh,{label:"6-10 Clients",name:"sixToTenClients",data:N,onChange:b}),(0,C.jsx)(d.Yh,{label:"11-15 Clients",name:"elevenToFifteenClients",data:N,onChange:b}),(0,C.jsx)(d.Yh,{label:"16-20 Clients",name:"sixteenToTwentyClients",data:N,onChange:b}),(0,C.jsx)(d.Yh,{label:"21-25 Clients",data:N,name:"twentyOneToTwentyFiveClients",onChange:b}),(0,C.jsx)(d.Yh,{label:"26+ Clients",data:N,name:"twentySixPlusClients",onChange:b}),(0,C.jsx)(d.Yh,{name:"noRegistrationPay",data:N,onChange:b}),(0,C.jsx)(d.ZD,{name:"countUnpaidService",label:"Count unpaid services",data:N,onChange:b})]}),"PAY_PER_CLASS"===(null===N||void 0===N?void 0:N.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Yh,{data:N,name:"payPerClassRate",onChange:b}),(0,C.jsx)(d.Yh,{name:"noRegistrationPay",data:N,onChange:b})]}),"PAY_PER_CLIENT"===(null===N||void 0===N?void 0:N.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Yh,{name:"baseRate",data:N,onChange:b}),(0,C.jsx)(d.Yh,{name:"payPerClientRate",data:N,onChange:b}),null===N||void 0===N||null===(a=N.eachClientOver)||void 0===a?void 0:a.map(((e,a)=>(0,C.jsx)("div",{className:" col-12 ",children:(0,C.jsxs)("div",{className:"grid",children:[(0,C.jsx)(d.Yh,{name:"noOfClients",value:null===e||void 0===e?void 0:e.noOfClients,onChange:e=>w(a,"noOfClients",e.value),col:6}),(0,C.jsx)(d.Yh,{name:"rate",value:null===e||void 0===e?void 0:e.rate,onChange:e=>w(a,"rate",e.value),col:6})]})},a))),(0,C.jsx)(d.Yh,{data:N,name:"noRegistrationPay",onChange:b}),(0,C.jsx)(d.Yh,{data:N,label:"Max Pay",name:"maxPayPerClient",onChange:b}),(0,C.jsx)(d.ZD,{name:"countUnpaidService",label:"Count unpaid services",data:N,onChange:b})]}),"PERCENTAGE_RATE"===(null===N||void 0===N?void 0:N.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Yh,{data:N,name:"percentage",onChange:b}),(0,C.jsx)(d.Yh,{name:"noRegistrationPay",prefix:"$",data:N,onChange:b,minFractionDigits:4,maxFractionDigits:4})]})]})})})};var X=t(7969);function J(){var e,a,t;const n=(0,v.wA)(),{id:i}=(0,p.g)(),[r,c]=(0,s.useState)(!1),[x,h]=(0,s.useState)({isClassLevel:[],isDefaultPay:""});(0,s.useEffect)((()=>{R()}),[n]),(0,s.useEffect)((()=>{n((0,X.ui)())}),[n]);const{levelDropdown:j}=(0,v.d4)((e=>e.level)),A=(0,s.useId)(),[f,g]=(0,s.useState)({employee:""}),[E,T]=(0,s.useState)(!1),[P,N]=(0,s.useState)(!1),[S,b]=(0,s.useState)(null);let{allEmployeeClasses:w}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));(0,s.useEffect)((()=>{w&&h((e=>{var a;return{...e,isClassLevel:null===(a=w)||void 0===a?void 0:a.isClassLevel}}))}),[w]);const R=()=>{n(z(i))};(0,s.useEffect)((()=>{n((0,y.qV)("class"))}),[n]);let{allEmployeesFilter:_}=(0,v.d4)((e=>e.employees));_=null===(e=_)||void 0===e?void 0:e.filter((e=>e._id!==i));const I=e=>{(0,u.QV)((()=>{n(((e,a)=>async t=>{const s=await(0,B.A)("delete",V.A.EMPLOYEE_CLASSES+e);s.success?a():t((0,$.P)({severity:"error",summary:s.message}))})(e._id,(()=>{R()})))}),"Do you want to delete this Employee Classes?")},O=(e,a)=>{switch(e.payType){case"INCREMENTAL_PAY":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:a+1}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Incremental Pay"})]})]}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium ",children:"1-5 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.oneToFiveClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"6-10 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixToTenClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"11-15 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.elevenToFifteenClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"16-20 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixteenToTwentyClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"21-25 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentyOneToTwentyFiveClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"26+ Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentySixPlusClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null!==e&&void 0!==e&&e.noRegistrationPay?null===e||void 0===e?void 0:e.noRegistrationPay:"0"]})]})]});case"PAY_PER_CLIENT":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:a+1}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Pay Per Client"})]})]}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Base Rate"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.baseRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Per Client"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClientRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[0].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[0].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[1].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[1].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[2].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[2].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-2",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null!==e&&void 0!==e&&e.noRegistrationPay?null===e||void 0===e?void 0:e.noRegistrationPay:"0"]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-2",children:[(0,C.jsx)("div",{className:"font-medium",children:"Max Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PAY_PER_CLASS":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:a+1}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Pay Per Class"})]})]}),(0,C.jsxs)("div",{className:"mx-3 w-1",children:[(0,C.jsx)("div",{className:"font-medium",children:"Price"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClassRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null!==e&&void 0!==e&&e.noRegistrationPay?null===e||void 0===e?void 0:e.noRegistrationPay:"0"]})]})]});case"PERCENTAGE_RATE":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:a+1}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"% Rate"})]})]}),(0,C.jsxs)("div",{className:"mx-3 w-1",children:[(0,C.jsx)("div",{className:"font-medium",children:"Percentage"}),(0,C.jsxs)("div",{children:[null===e||void 0===e?void 0:e.percentage,"%"]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null!==e&&void 0!==e&&e.noRegistrationPay?null===e||void 0===e?void 0:e.noRegistrationPay:"0"]})]})]});default:return(0,C.jsxs)("div",{className:"grid",children:[(0,C.jsx)("div",{className:"col-1",children:a+1}),(0,C.jsx)("div",{className:"col-11",children:e.payType})]})}};return(0,C.jsxs)("div",{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>T(!0),extraClass:"align-items-end ",children:(0,C.jsxs)("div",{className:" flex justify-content-between align-items-end",children:[(0,C.jsx)(d.Rx,{name:"isClassLevel",col:6,options:j,optionLabel:"name",data:x,onChange:e=>{let{name:a,value:t}=e;n(((e,a,t)=>async s=>{const n={employee:e,isClassLevel:a},i=await(0,B.A)("post",V.A.UPDATE_CLASS_LEVEL,n);i.success?t():s((0,$.P)({severity:"error",summary:i.message}))})(i,t,(()=>{}))),h((e=>({...e,[a]:t})))}}),(0,C.jsx)(o.Ay,{name:"Similar To",className:"w-12rem",label:"Similar To",onClick:()=>c(!0)})]})}),(0,C.jsxs)(l.Ay,{col:"12",title:"Pay",children:[(0,C.jsx)(F.U$,{value:null===(a=w)||void 0===a?void 0:a.list,itemTemplate:e=>{const a=w.list.findIndex((a=>a._id===e._id));return(0,C.jsxs)("div",{className:"col-12 grid py-2  ",children:[(0,C.jsx)("div",{className:"col-10",children:O(e,a)}),(0,C.jsx)("div",{className:"col-1 my-auto",children:(0,C.jsx)(d.o4,{name:"isDefaultPay",label:"Default Pay",checked:null===e||void 0===e?void 0:e.isDefaultPay,onChange:a=>((e,a)=>{var t,s;w=null===(t=w)||void 0===t||null===(s=t.list)||void 0===s?void 0:s.map((t=>t._id===e?(n(Q(null===t||void 0===t?void 0:t._id,{isDefaultPay:a},N,(()=>{R()}))),{...t,isDefaultPay:a}):{...t,isDefaultPay:!1}))})(e._id,a.value)})}),(0,C.jsxs)("div",{className:"col-1 my-auto",children:[(0,C.jsx)("i",{className:"mx-3 cursor-pointer pi pi-pencil",onClick:()=>(e=>{b(null===e||void 0===e?void 0:e._id),T(!0)})(e)}),(0,C.jsx)("i",{className:" cursor-pointer pi pi-trash",onClick:()=>I(e)})]})]},A)},paginator:!0,rows:5}),(0,C.jsx)(W,{visible:E,setVisible:T,id:i,employeeClassId:S,setEmployeeClassId:b})]}),(0,C.jsx)(D.A,{title:"Similar To",visible:r,onCancel:()=>c(!1),loading:P,onSave:()=>{var e,a;(0,u.nV)(f,g)&&(n(q({type:"class",employeeClassData:null===f||void 0===f||null===(e=f.employee)||void 0===e?void 0:e.employeeClassData,similarTo:null===f||void 0===f||null===(a=f.employee)||void 0===a?void 0:a.id,employee:i},N,(()=>{n(z(i)),c(!1)}))),g({employee:""}))},children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.BR,{name:"employee",col:12,data:f,onChange:e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,f);g((e=>({...e,[a]:t,formErrors:s})))},options:null===(t=_)||void 0===t?void 0:t.map((e=>({name:"".concat(e.firstName," ").concat(e.middleInitial," ").concat(e.lastName),value:{id:e._id,employeeClassData:e.employeeClassData}})))})})})]})}var H=t(4454);function K(){var e;const{id:a}=(0,p.g)(),t=(0,v.wA)(),[n,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!1),[y,x]=(0,s.useState)(!1),[h,j]=(0,s.useState)({event:"",priority:"MEDIUM"}),[A,f]=(0,s.useState)("");let{isClassLevel:g}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));(0,s.useEffect)((()=>{P(a),t((0,H.kQ)())}),[]);const{allEvents:E}=(0,v.d4)((e=>e.event)),T=null===E||void 0===E||null===(e=E.filter((e=>{var a;return(null===e||void 0===e||null===(a=e.eventLevel)||void 0===a?void 0:a.includes(g))&&"Class"===e.eventType})))||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),P=e=>{t(((e,a,t)=>async s=>{a&&a(!0);const n=await(0,B.A)("get",V.A.SUSTITITION_OPTIONS,"",{employee:e});n.success&&n.data&&t&&t(n.data),a&&a(!1)})(e,c,(e=>{i(e)})))};(0,s.useEffect)((()=>{A&&t(((e,a)=>async t=>{t((0,G.r)());const s=await(0,B.A)("get",V.A.SUSTITITION_OPTIONS+e);s.success&&(t((0,G.i)()),a&&a(s.data)),t((0,G.i)())})(A,(e=>{j({event:e.event,priority:e.priority})})))}),[A,t]);const N=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,h);j((e=>({...e,[a]:t,formErrors:s})))},S=()=>{x(!1),j({event:"",priority:"MEDIUM"}),f(null)};return(0,C.jsxs)("div",{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>x(!0)}),(0,C.jsx)(l.Ay,{col:"12",title:"Classes",children:(0,C.jsx)(w.A,{data:n,columns:[{field:"event",header:"Name"},{field:"priority",header:"Priority"}],onEdit:e=>{f(null===e||void 0===e?void 0:e._id),x(!0)},onDelete:e=>{(0,u.QV)((()=>{t(((e,a)=>async t=>{const s=await(0,B.A)("delete",V.A.SUSTITITION_OPTIONS+e);s.success?(t((0,$.P)({severity:"success",summary:s.message})),a()):t((0,$.P)({severity:"error",summary:s.message}))})(e._id,(()=>{P(a),S()})))}),"Do you want to delete this Substitution Option?")}})}),(0,C.jsx)(D.A,{title:A?"Edit":"Add",visible:y,onCancel:S,loading:o,onSave:()=>{(0,u.nV)(h,j)&&t(A?((e,a,t,s)=>async()=>{t(!0),(await(0,B.A)("put",V.A.SUSTITITION_OPTIONS+e,a)).success&&s(),t(!1)})(A,{...h,employee:a},c,(()=>{P(a),S()})):((e,a,t)=>async s=>{a(!0);const n=await(0,B.A)("post",V.A.SUSTITITION_OPTIONS,e);n.success?t():s((0,$.P)({severity:"error",summary:n.message})),a(!1)})({...h,employee:a},c,(()=>{P(a),S()})))},children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.BR,{name:"event",data:h,onChange:N,options:T,col:12}),(0,C.jsx)(d.BR,{name:"priority",data:h,onChange:N,options:r.ip,col:12})]})})]})}const Z=()=>{const e=[{title:"Pay",content:(0,C.jsx)(J,{})},{title:"Substitute Option",content:(0,C.jsx)(K,{})}];let{isClassLevel:a}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.A,{name:"classes",tabs:e,useIndex:!0,disabledTabIndices:a?[]:[1]})})},ee=(e,a,t)=>async s=>{t&&t(!0);const n=await(0,B.A)("get",V.A.EMPLOYEE_APPOINTMENT,{},{employee:e,type:a});n.success&&n.data&&s({type:U.g.CHANGE_EMPLOYEE_APPOINTMENT_PAY,payload:n.data}),t&&t(!1)},ae=(e,a,t)=>async s=>{a(!0);const n=await(0,B.A)("post",V.A.EMPLOYEE_APPOINTMENT,e);n.success?t():s((0,$.P)({severity:"error",summary:n.message})),a(!1)},te=(e,a,t,s)=>async n=>{let i;t(!0),i="appointment"===e?await(0,B.A)("post",V.A.EMPLOYEE_APPOINTMENT,a):await(0,B.A)("post",V.A.SALES_COMMISSION,a),i.success?s():n((0,$.P)({severity:"error",summary:i.message})),t(!1)},se=e=>{var a;let{funcGetEmpAppointment:t,id:n,setVisible:i,visible:o,employeeAppartId:c,setEmployeeAppartId:p}=e;const y=(0,v.wA)(),x={event:[],priority:"PER-EVENT",type:"PAY",pay:0,amountType:"FIXED"},[h,j]=(0,s.useState)(x),[A,f]=(0,s.useState)(!1);(0,s.useEffect)((()=>{y((0,H.kQ)())}),[y]);let{isAppointmentLevel:g,allAppointmentPayDropdown:E}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));const{allEvents:T}=(0,v.d4)((e=>e.event)),P=null===T||void 0===T||null===(a=T.filter((e=>{var a;return(null===(a=e.eventLevel)||void 0===a?void 0:a.some((e=>g.includes(e))))&&"Appointments"===e.eventType})))||void 0===a?void 0:a.map((e=>({name:e.name,value:e._id}))),N=P.filter((e=>!(null!==E&&void 0!==E&&E.map((e=>e.name)).includes(e.name))||(null===h||void 0===h?void 0:h.event)===(null===e||void 0===e?void 0:e.value))),S=P.filter((e=>!(null!==E&&void 0!==E&&E.map((e=>e.name)).includes(e.name))));(0,s.useEffect)((()=>{c&&y(((e,a,t)=>async s=>{a&&a(!0);const n=await(0,B.A)("get",V.A.EMPLOYEE_APPOINTMENT+e);n.success&&n.data&&t&&t(n.data),a&&a(!1)})(c,f,(e=>{j({event:e.event,priority:e.priority,type:"PAY",pay:e.pay,amountType:e.amountType})})))}),[c,y]);const b=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,h);j((e=>({...e,[a]:t,formErrors:s})))},w=()=>{p(null),j(x),i(!1)};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(D.A,{title:c?"Edit":"Add",visible:o,onCancel:w,loading:A,onSave:()=>{(0,u.nV)(h,j)&&y(c?((e,a,t,s)=>async n=>{t(!0);const i=await(0,B.A)("put",V.A.EMPLOYEE_APPOINTMENT+e,a);i.success?s():n((0,$.P)({severity:"error",summary:i.message})),t(!1)})(c,{...h},f,(()=>{t(),w()})):ae({...h,employee:n},f,(()=>{t(),w()})))},children:(0,C.jsxs)(l.a,{children:[c?(0,C.jsx)(d.BR,{name:"event",data:h,onChange:b,options:N,col:12}):(0,C.jsx)(d.Rx,{name:"event",data:h,onChange:b,options:S,col:12}),(0,C.jsx)(d.BR,{name:"priority",data:h,onChange:b,options:r.y5,col:12}),(0,C.jsx)(d.Bt,{col:8,name:"pay",data:h,onChange:b,minFractionDigits:4,maxFractionDigits:4}),(0,C.jsx)(d.BR,{label:"",name:"amountType",options:r.$b,data:h,onChange:b,col:4})]})})})},ne=()=>{var e,a;const t=(0,v.wA)(),[n,i]=(0,s.useState)(!1),[r,c]=(0,s.useState)(null),[x,h]=(0,s.useState)(!1),[j,A]=(0,s.useState)(!1),{id:f}=(0,p.g)(),[g,E]=(0,s.useState)({isDefaultPay:"",isAppointmentLevel:[]}),[T,P]=(0,s.useState)({employee:""});let{allAppointmentPay:N}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));const S=(0,s.useCallback)((()=>{t(ee(f,"PAY"))}),[t,f]);(0,s.useEffect)((()=>{S()}),[S]),(0,s.useEffect)((()=>{t((0,X.ui)())}),[t]),(0,s.useEffect)((()=>{N&&E((e=>({...e,isAppointmentLevel:null===N||void 0===N?void 0:N.isAppointmentLevel})))}),[N]);const{levelDropdown:b}=(0,v.d4)((e=>e.level));(0,s.useEffect)((()=>{t((0,y.qV)("appointment"))}),[t]);let{allEmployeesFilter:R}=(0,v.d4)((e=>e.employees));R=null===(e=R)||void 0===e?void 0:e.filter((e=>e._id!==f));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>i(!0),extraClass:"align-items-end",children:(0,C.jsxs)("div",{className:" flex justify-content-between align-items-end",children:[(0,C.jsx)(d.Rx,{extraClassName:"w-18rem",name:"isAppointmentLevel",label:"Appointment Level",options:b,optionLabel:"name",data:g,onChange:e=>{let{name:a,value:s}=e;const n=(0,m.A)(a,s,g);"isAppointmentLevel"===a&&(t(((e,a,t)=>async s=>{const n={employee:e,isAppointmentLevel:a},i=await(0,B.A)("post",V.A.UPDATE_APPOINTMENT_CLASS_LEVEL,n);i.success?t():s((0,$.P)({severity:"error",summary:i.message}))})(f,s,(()=>{S()}))),E((e=>({...e,[a]:s,formErrors:n})))),E((e=>({...e,[a]:s,formErrors:n})))}}),(0,C.jsx)(o.Ay,{name:"Similar To",className:"w-12rem",label:"Similar To",onClick:()=>h(!0)})]})}),(0,C.jsx)(w.A,{data:null===N||void 0===N?void 0:N.list,columns:[{field:"event",header:"Name"},{field:"priority",header:"Priority"},{field:"pay",header:"Pay"}],onEdit:e=>{c(null===e||void 0===e?void 0:e._id),i(!0)},onDelete:e=>{(0,u.QV)((()=>{t(((e,a)=>async t=>{const s=await(0,B.A)("delete",V.A.EMPLOYEE_APPOINTMENT+e);s.success?a():t((0,$.P)({severity:"error",summary:s.message}))})(e._id,(()=>{S(),i(!1)})))}),"Do you want to delete this Appartment Pay?")}}),(0,C.jsx)(se,{funcGetEmpAppointment:S,id:f,setVisible:i,visible:n,employeeAppartId:r,setEmployeeAppartId:c}),(0,C.jsx)(D.A,{title:"Similar To",visible:x,onCancel:()=>h(!1),loading:j,onSave:()=>{if((0,u.nV)(T,P)){var e,a,s;const n=null===T||void 0===T||null===(e=T.employee)||void 0===e||null===(a=e.employeeAppointmentData)||void 0===a?void 0:a.filter((e=>{var a;return!(null!==N&&void 0!==N&&null!==(a=N.list)&&void 0!==a&&a.some((a=>a.eventId===e.event)))}));t(ae({type:"PAY",employeeAppointmentData:n,similarTo:null===T||void 0===T||null===(s=T.employee)||void 0===s?void 0:s.id,employee:f},A,(()=>{t(ee(f,"PAY")),h(!1)}))),P({employee:""})}},children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.BR,{name:"employee",col:12,data:T,onChange:e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,T);P((e=>({...e,[a]:t,formErrors:s})))},options:null===(a=R)||void 0===a?void 0:a.map((e=>{var a;return{name:"".concat(e.firstName," ").concat(e.middleInitial," ").concat(e.lastName),value:{id:e._id,employeeAppointmentData:null===(a=e.employeeAppointmentData)||void 0===a?void 0:a.filter((e=>"PAY"===e.type))}}}))})})})]})};var ie=t(4437),le=t(1584);const oe=e=>{var a,t,n;let{type:i}=e;const c=(0,v.wA)(),{id:x}=(0,p.g)(),[h,j]=(0,s.useState)(!1),A={bonusType:"SERVICE_VALUE",sessionsValue:0,ofSessions:0,over:0,duration:"DAYS",bonusAmount:0,type:"BONUS",amountType:"FIXED",services:[]},[f,g]=(0,s.useState)(!1),[E,T]=(0,s.useState)(!1),[P,N]=(0,s.useState)(null),[S,b]=(0,s.useState)([]),[R,_]=(0,s.useState)(A),[I,O]=(0,s.useState)({employee:""});(0,s.useEffect)((()=>{c((0,y.qV)("appointment"===i?"appointment":"salesCommission"))}),[c,i]);let{allEmployeesFilter:L}=(0,v.d4)((e=>e.employees));L=null===(a=L)||void 0===a?void 0:a.filter((e=>e._id!==x));const Y=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,R);_((e=>({...e,[a]:t,formErrors:s})))};(0,s.useEffect)((()=>{c((0,le.mP)()),c((0,H.kQ)())}),[c]);const{catalogServiceDropdown:k}=(0,v.d4)((e=>e.catalogItems));let{isAppointmentLevel:M}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));const{allEvents:F}=(0,v.d4)((e=>e.event)),U=null===F||void 0===F||null===(t=F.filter((e=>{var a;return(null===e||void 0===e||null===(a=e.eventLevel)||void 0===a?void 0:a.includes(M))&&"Appointments"===e.eventType})))||void 0===t?void 0:t.map((e=>({name:e.name,value:e._id})));(0,s.useEffect)((()=>{z(x)}),[]);const z=e=>{c("appointment"===i?ee(e,"BONUS",T):(0,ie.Kb)(e,"BONUS",T,(e=>{b(e)})))};let{allAppointmentPay:q}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));(0,s.useEffect)((()=>{P&&c(((e,a,t)=>async s=>{let n;s((0,G.r)()),n="appointment"===e?await(0,B.A)("get",V.A.EMPLOYEE_APPOINTMENT+a):await(0,B.A)("get",V.A.SALES_COMMISSION+a),n.success&&(s((0,G.i)()),t&&t(n.data)),s((0,G.i)())})(i,P,(e=>{_({bonusType:e.bonusType,sessionsValue:e.sessionsValue,ofSessions:e.ofSessions,over:e.selectTimeframe.over,duration:e.selectTimeframe.duration,bonusAmount:e.bonusAmount,type:"BONUS",amountType:e.amountType,services:e.services})})))}),[P,c]);const Q=()=>{N(null),_(A),g(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>g(!0),children:(0,C.jsx)("div",{className:" flex justify-content-between align-items-end",children:(0,C.jsx)(o.Ay,{name:"Similar To",className:"w-12rem",label:"Similar To",onClick:()=>j(!0)})})}),(0,C.jsx)(w.A,{data:"appointment"===i?null===q||void 0===q?void 0:q.list:S,columns:[{field:"bonusType",body:e=>"SERVICE_VALUE"===e.bonusType?"Service Value":"Single Client",header:"Bonus Type"},{field:"Session",body:e=>"SERVICE_VALUE"===e.bonusType?e.sessionsValue:e.ofSessions,header:"Value"},{field:"selectTimeframe.over",body:e=>e.selectTimeframe.over+" "+e.selectTimeframe.duration.toLowerCase(),header:"Time Frame"},{field:"bonusAmount",body:e=>"FIXED"===e.amountType?"$"+e.bonusAmount:e.bonusAmount+"%",header:"Bonus Amount"},{field:"services",body:e=>{var a,t;return null===(a=e.services)||void 0===a||null===(t=a.map((e=>e.name)))||void 0===t?void 0:t.join(",")},header:"Services"}],onEdit:e=>{N(null===e||void 0===e?void 0:e._id),g(!0)},onDelete:e=>{(0,u.QV)((()=>{c(((e,a,t)=>async s=>{let n;n="appointment"===e?await(0,B.A)("delete",V.A.EMPLOYEE_APPOINTMENT+a):await(0,B.A)("delete",V.A.SALES_COMMISSION+a),n.success?(s((0,$.P)({severity:"success",summary:n.message})),t()):s((0,$.P)({severity:"error",summary:n.message}))})(i,e._id,(()=>{z(x),Q()})))}),"Do you want to delete this Bonus?")}}),(0,C.jsx)(D.A,{title:P?"Edit":"Add",visible:f,onCancel:Q,loading:E,onSave:()=>{let e=[];if(e="SINGLE_CLIENT"===(null===R||void 0===R?void 0:R.bonusType)?["sessionsValue"]:["ofSessions"],(0,u.nV)(R,_,e)){const{over:e,duration:a,...t}=R;c(P?((e,a,t,s,n)=>async()=>{let i;s(!0),i="appointment"===e?await(0,B.A)("put",V.A.EMPLOYEE_APPOINTMENT+a,t):await(0,B.A)("put",V.A.SALES_COMMISSION+a,t),i.success&&n(),s(!1)})(i,P,{...t,selectTimeframe:{over:e,duration:a}},T,(()=>{z(x),Q()})):te(i,{...t,selectTimeframe:{over:e,duration:a},employee:x},T,(()=>{z(x),Q()})))}},width:"90vh",children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.BR,{label:"",name:"bonusType",data:R,onChange:Y,options:r.lG,col:6}),"SINGLE_CLIENT"===(null===R||void 0===R?void 0:R.bonusType)?(0,C.jsx)(d.Bt,{col:6,label:"No of Sessions",name:"ofSessions",data:R,onChange:Y}):(0,C.jsx)(d.Bt,{col:6,name:"sessionsValue",data:R,onChange:Y,minFractionDigits:4,maxFractionDigits:4}),(0,C.jsx)(d.Bt,{col:"6",name:"over",data:R,onChange:Y}),(0,C.jsx)(d.BR,{label:"",name:"duration",data:R,onChange:Y,col:6,options:r.bH}),(0,C.jsx)(d.Bt,{col:8,name:"bonusAmount",data:R,onChange:Y,minFractionDigits:4,maxFractionDigits:4}),(0,C.jsx)(d.BR,{label:"",name:"amountType",options:r.$b,data:R,onChange:Y,col:4}),(0,C.jsx)(d.Rx,{col:"12",name:"services",data:R,onChange:Y,options:"appointment"===i?U:k})]})}),(0,C.jsx)(D.A,{title:"Similar To",visible:h,onCancel:()=>j(!1),loading:E,onSave:()=>{var e,a,t;(0,u.nV)(I,O)&&(c(te(i,{..."appointment"===i?{employeeBonusData:null===I||void 0===I||null===(e=I.employee)||void 0===e?void 0:e.employeeAppointmentData}:{employeeSalesCommissionData:null===I||void 0===I||null===(a=I.employee)||void 0===a?void 0:a.employeeSalesCommissionData,type:"bonus"},similarTo:null===I||void 0===I||null===(t=I.employee)||void 0===t?void 0:t.id,employee:x},T,(()=>{z(x),j(!1)}))),O({employee:""}))},children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.BR,{name:"employee",col:12,data:I,onChange:e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,I);O((e=>({...e,[a]:t,formErrors:s})))},options:null===(n=L)||void 0===n?void 0:n.map((e=>{var a,t;return{name:"".concat(e.firstName," ").concat(e.middleInitial," ").concat(e.lastName),value:"appointment"===i?{id:e._id,employeeAppointmentData:null===(a=e.employeeAppointmentData)||void 0===a?void 0:a.filter((e=>"BONUS"===e.type))}:{id:e._id,employeeSalesCommissionData:null===(t=e.employeeSalesCommissionData)||void 0===t?void 0:t.filter((e=>"BONUS"===e.type))}}}))})})})]})},de=()=>{const e=(0,v.wA)(),{id:a}=(0,p.g)();(0,s.useEffect)((()=>{e((0,H.kQ)()),e(ee(a,"PAY"))}),[e]);let{allEvents:t}=(0,v.d4)((e=>e.event)),{isAppointmentLevel:n}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));const[i,l]=(0,s.useState)([]);(0,s.useEffect)((()=>{if(t){const e=null===t||void 0===t?void 0:t.filter((e=>{var a;return(null===e||void 0===e||null===(a=e.eventLevel)||void 0===a?void 0:a.includes(n))&&"Appointments"===e.eventType}));l(e)}}),[n,t]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"shadow-2 bg-blue-300 p-3 mb-2  text-white",children:"Please Click & hold the icon to drag & Sort the events"}),(0,C.jsx)(w.A,{data:i,columns:[{field:"name",header:"Event"},{field:"eventType",header:"Event Type"}],reorderableRows:!0,onRowReorder:a=>{l(a.value),e((0,y.Y$)(a.value,(()=>{e((0,H.kQ)())})))}})]})},re=()=>{const e=[{title:"Pay",content:(0,C.jsx)(ne,{})},{title:"Bonus",content:(0,C.jsx)(oe,{type:"appointment"})},{title:"Calendar Default",content:(0,C.jsx)(de,{})}];let{isAppointmentLevel:a}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees));return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.A,{name:"appointment",tabs:e,useIndex:!0,disabledTabIndices:a?[]:[1,2]})})};var ce=t(1085);const me=()=>{var e,a;const t=(0,v.wA)(),[n,i]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),[h,j]=(0,s.useState)(!1),[A,f]=(0,s.useState)(null),[g,E]=(0,s.useState)([]),T={commissionGroup:"",type:"ITEM_COMMISSION",commissionType:"PER_ITEM",amountType:"FIXED",pay:"0"},[P,N]=(0,s.useState)(T),{id:S}=(0,p.g)(),[b,R]=(0,s.useState)({employee:""});(0,s.useEffect)((()=>{t((0,y.qV)("salesCommission"))}),[t]);let{allEmployeesFilter:_}=(0,v.d4)((e=>e.employees));_=null===(e=_)||void 0===e?void 0:e.filter((e=>e._id!==S));(0,s.useEffect)((()=>{O(S),t((0,ce.St)())}),[]);const{commissionGroupsDropdown:I}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.commissionGroup)),O=e=>{t((0,ie.Kb)(e,"ITEM_COMMISSION",j,(e=>{E(e)})))};(0,s.useEffect)((()=>{A&&t((0,ie.DI)(A,j,(e=>{N({commissionGroup:e.commissionGroup,type:e.type,commissionType:e.commissionType,amountType:e.amountType,pay:e.pay})})))}),[A,t]);const L=()=>{f(null),N(T),x(!1)},Y=e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,P);N((e=>({...e,[a]:t,formErrors:s})))};let k=I.filter((e=>!g.map((e=>e.commissionGroupId)).includes(e.value)));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{buttonTitle:"Add",onClick:()=>x(!0),children:(0,C.jsx)("div",{className:" flex justify-content-between align-items-end",children:(0,C.jsx)(o.Ay,{name:"Similar To",className:"w-12rem",label:"Similar To",onClick:()=>i(!0)})})}),(0,C.jsx)(w.A,{data:g,columns:[{field:"commissionGroup",header:"Commission Group"},{field:"commissionType",header:"Commission Type"},{field:"pay",header:"Pay"}],onEdit:e=>{f(null===e||void 0===e?void 0:e._id),x(!0)},onDelete:e=>{(0,u.QV)((()=>{t((0,ie.E2)(e._id,(()=>{O(S),L()})))}),"Do you want to delete this Item Commission?")}}),(0,C.jsx)(D.A,{title:A?"Edit":"Add",visible:c,onCancel:L,loading:h,onSave:()=>{(0,u.nV)(P,N)&&t(A?(0,ie.m6)(A,{...P},j,(()=>{O(S),L()})):(0,ie.N3)({...P,employee:S},j,(()=>{O(S),L()})))},children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.BR,{name:"commissionGroup",data:P,onChange:Y,options:A?I:k,disabled:!!A,optionLabel:"name",col:12}),(0,C.jsx)(d.BR,{name:"commissionType",data:P,onChange:Y,options:r.YB,col:12}),(0,C.jsx)(d.Yh,{name:"pay",data:P,onChange:Y}),(0,C.jsx)(d.BR,{label:"",name:"amountType",options:r.$b,data:P,onChange:Y,col:4})]})}),(0,C.jsx)(D.A,{title:"Similar To",visible:n,onCancel:()=>i(!1),loading:h,onSave:()=>{var e,a;(0,u.nV)(b,R)&&(t((0,ie.N3)({employeeSalesCommissionData:null===b||void 0===b||null===(e=b.employee)||void 0===e?void 0:e.employeeSalesCommissionData,similarTo:null===b||void 0===b||null===(a=b.employee)||void 0===a?void 0:a.id,employee:S,type:"itemCommission"},j,(()=>{O(S),i(!1)}))),R({employee:""}))},children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.BR,{name:"employee",col:12,data:b,onChange:e=>{let{name:a,value:t}=e;const s=(0,m.A)(a,t,b);R((e=>({...e,[a]:t,formErrors:s})))},options:null===(a=_)||void 0===a?void 0:a.map((e=>{var a;return{name:"".concat(e.firstName," ").concat(e.middleInitial," ").concat(e.lastName),value:{id:e._id,employeeSalesCommissionData:null===(a=e.employeeSalesCommissionData)||void 0===a?void 0:a.filter((e=>"ITEM_COMMISSION"===e.type))}}}))})})})]})},ue=()=>{const[e,a]=(0,s.useState)({name:""}),{id:t}=(0,p.g)(),n=(0,v.wA)();(0,s.useEffect)((()=>{n((0,ie.SS)(t,(e=>{a((a=>({...a,name:e.name})))})))}),[n,t]);const i=(0,v.d4)((e=>e.loader.isLoading));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.Ay,{col:"12",title:"Sales Code",children:(0,C.jsx)(l.a,{children:(0,C.jsx)(d.wi,{name:"name",onChange:t=>{let{name:s,value:n}=t;const i=(0,m.A)(s,n,e);a((e=>({...e,[s]:n,formErrors:i})))},data:e})})}),(0,C.jsx)(o.zp,{children:(0,C.jsx)(o.Ay,{label:"Save",className:"mx-2",onClick:()=>{(0,u.nV)(e,a)&&n((0,ie.J)({name:e.name,employee:t}))},loading:i})})]})},ve=()=>{const e=[{title:"Item Commission",content:(0,C.jsx)(me,{})},{title:"Bonus",content:(0,C.jsx)(oe,{type:"salesCommission"})},{title:"Sales Code",content:(0,C.jsx)(ue,{})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.A,{name:"sales-commission",tabs:e,useIndex:!0})})};var pe=t(3536),ye=t.n(pe),xe=t(1830),he=t(6303);const Ce=()=>{const e=(0,v.wA)(),{id:a}=(0,p.g)();const t={filterType:"AND",from:I()().utc().startOf("week").toDate(),to:I()().utc().endOf("week").toDate(),club:null,department:null},[n,i]=(0,s.useState)(t);(0,s.useEffect)((()=>{e((0,y.tG)(ye(),a,n))}),[e,a]);const{employeeTimeSheet:r}=(0,v.d4)((e=>null===e||void 0===e?void 0:e.employees)),c=[{field:"club",header:"Club"},{field:"department",header:"Department"},{field:"clockIn",body:e=>I()(null===e||void 0===e?void 0:e.clockIn).format("hh:mm a"),header:"ClockIn"},{field:"clockOut",body:e=>I()(null===e||void 0===e?void 0:e.clockOut).format("hh:mm a"),header:"ClockOut"},{field:"duration",body:e=>(0,u.VU)(null===e||void 0===e?void 0:e.clockOut,null===e||void 0===e?void 0:e.clockIn),header:"Duration"},{field:"modifiedOn",header:"Modified On"}],{tableData:m,onFilterOpen:x,onFilterClose:h,onApplyFilters:j,filters:A,isFilterVisible:f}=(0,he.A)(r,"backend",a,y.tG),g=e=>{let{name:a,value:t}=e;i((e=>({...e,[a]:t})))},{clubsDropdown:E}=(0,S.A)(),{departmentsDropdown:T}=(0,k.A)();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.oU,{contentPosition:"end",children:(0,C.jsx)("div",{className:"text-end w-full",children:(0,C.jsx)(o.Ay,{label:"Filter",icon:"pi pi-filter",onClick:x,className:"mx-2 "})})}),(0,C.jsx)(xe.A,{value:A,onApply:j,visible:f,onHide:h,data:n,handleChange:g,setData:i,initailData:t,children:(0,C.jsxs)(l.a,{children:[(0,C.jsx)(d.Rx,{col:12,label:"Club",name:"club",options:E,data:n,onChange:g,showClear:!0}),(0,C.jsx)(d.Rx,{col:12,label:"Department",name:"department",options:T,data:n,onChange:g,showClear:!0}),(0,C.jsx)(d.wN,{name:"from",data:n,onChange:g,col:12}),(0,C.jsx)(d.wN,{name:"to",data:n,onChange:g,col:12})]})}),(0,C.jsx)(w.A,{data:m,columns:c})]})},je=()=>{const{id:e}=(0,p.g)(),a=[{title:"Security",content:(0,C.jsx)(j,{})},{title:"General",content:(0,C.jsx)(N,{})},{title:"Departments",content:(0,C.jsx)(M,{})},{title:"Clubs",content:(0,C.jsx)(b,{})},{title:"Classes Setup",content:(0,C.jsx)(Z,{})},{title:"Appointment Setup",content:(0,C.jsx)(re,{})},{title:"Sales Commision",content:(0,C.jsx)(ve,{})},{title:"Time Sheet",content:(0,C.jsx)(Ce,{})},{title:"Notes",content:(0,C.jsx)(O,{})},{title:"Certifications",content:(0,C.jsx)(L,{})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(n.A,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,C.jsx)(i.A,{tabs:a,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9],scrollable:!0})})})}}}]);
//# sourceMappingURL=145.b8b49679.chunk.js.map