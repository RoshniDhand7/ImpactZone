{"version":3,"file":"static/js/470.fd6846ae.chunk.js","mappings":"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","sources":["views/PointOfSale/Cart/SearchMembers.jsx","views/PointOfSale/Category/Categories.jsx","views/PointOfSale/Catalog/FilterPopup.jsx","views/PointOfSale/Catalog/CatalogItems.jsx","views/PointOfSale/Cart/SelectDiscountPopup.jsx","views/PointOfSale/Cart/SpecialDiscountPopup.jsx","views/PointOfSale/Cart/CartItem.jsx","redux/actions/POS/PosActions.js","views/PointOfSale/Cart/CartDetails.jsx","views/PointOfSale/Cart/Drawer/CashCalculator.jsx","redux/actions/helperActions.js","views/PointOfSale/Cart/Drawer/OpenDrawerModel.jsx","views/PointOfSale/Cart/Drawer/CloseDraweModel.jsx","views/PointOfSale/Cart/Drawer/DrawerSelector.jsx","views/PointOfSale/Cart/AddDropPopup.jsx","views/PointOfSale/Cart/NoSalePopup.jsx","redux/actions/POS/noSaleActions.js","views/PointOfSale/Cart/QuickCashPopup.jsx","views/PointOfSale/Cart/Cart.jsx","views/PointOfSale/Cart/VariationPopup.jsx","views/PointOfSale/Cart/SaveCartPopup.jsx","views/PointOfSale/Category/SearchCatalog.jsx","views/PointOfSale/Cart/CheckoutPopup.jsx","views/PointOfSale/PointOfSale.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CustomAsyncReactSelect } from '../../../shared/Input/AllInputs';\r\nimport { useMemo } from 'react';\r\nimport { addRecentMemberAction } from '../../../redux/actions/POS/saleActions';\r\nimport { getMembers } from '../../../redux/actions/MembersPortal/memberPortalActions';\r\n\r\nexport default function SearchMembers({ selectedMember, setSelectedMember }) {\r\n    const dispatch = useDispatch();\r\n    let allMembers = useSelector((state) => state.membersPortal.members);\r\n    const { recentMembers } = useSelector((state) => state?.pos);\r\n\r\n    const options = useMemo(() => allMembers.map((item) => ({ name: `${item.firstName} ${item?.MI} ${item?.lastName}`, value: item?._id })), [allMembers]);\r\n    const suggestions = useMemo(\r\n        () => recentMembers.map((item) => ({ name: `${item.firstName} ${item?.MI} ${item?.lastName}`, value: item?._id })),\r\n        [recentMembers],\r\n    );\r\n\r\n    useEffect(() => {\r\n        dispatch(getMembers());\r\n    }, [dispatch]);\r\n    useEffect(() => {\r\n        dispatch(addRecentMemberAction());\r\n    }, [dispatch, allMembers]);\r\n\r\n    return (\r\n        <div>\r\n            <CustomAsyncReactSelect\r\n                suggestions={suggestions}\r\n                options={options}\r\n                placeholder=\"Search Member\"\r\n                showLabel={false}\r\n                value={selectedMember}\r\n                onChange={({ value }) => setSelectedMember(value)}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getCategories } from '../../../redux/actions/Settings/InventorySetup/categoriesAction';\r\n\r\nexport default function Categories({ active, setActive }) {\r\n    const { allCategory } = useSelector((state) => state.category);\r\n    let categories = allCategory.filter((item) => item?.hasCatalog && item?.displayInPos);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getCategories());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div className=\"px-1 h-full\">\r\n            <div className=\"div-shadow mt-2 pb-2 h-full\">\r\n                <div className=\"text-xl font-semibold p-2\">Categories</div>\r\n                <div className={`py-2 px-3 sidebar-item ${!active && 'active'}`} onClick={() => setActive('')}>\r\n                    <i className=\"pi pi-history mr-1\"></i> Most Recent\r\n                </div>\r\n                {categories.map((item) => (\r\n                    <div key={item?._id} className={`py-2 px-3 sidebar-item ${item?._id === active && 'active'}`} onClick={() => setActive(item?._id)}>\r\n                        <i className=\"pi pi-th-large mr-1\"></i> {item?.posButtonLabel || item?.name}\r\n                    </div>\r\n                ))}\r\n                <div className={`py-2 px-3 sidebar-item ${active === 'PRE_PAY' && 'active'}`} onClick={() => setActive('PRE_PAY')}>\r\n                    <i className=\"pi pi-money-bill mr-1\"></i> Pre Pay\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomCheckBoxInput } from '../../../shared/Input/AllInputs';\r\nimport { useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function FilterPopup({ visible, onClose, filters, onApplyFilters }) {\r\n    const { filterSetDropDown } = useSelector((state) => state.filterSet);\r\n    const { tagsDropDown } = useSelector((state) => state.tags);\r\n    const [data, setData] = useState({\r\n        filters: [],\r\n        tags: [],\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (filters) {\r\n            setData(filters);\r\n        }\r\n    }, [filters]);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const onApply = () => {\r\n        onApplyFilters(data);\r\n        setData({\r\n            filters: [],\r\n            tags: [],\r\n        });\r\n    };\r\n\r\n    const onClear = () => {\r\n        setData({\r\n            filters: [],\r\n            tags: [],\r\n        });\r\n        onApplyFilters(null);\r\n    };\r\n\r\n    return (\r\n        <CustomDialog icon=\"pi-filter\" title=\"Apply Filters\" visible={visible} onCancel={onClose} onApply={onApply} onClear={onClear}>\r\n            <CustomCheckBoxInput label=\"Filter Set\" name=\"filters\" options={filterSetDropDown} data={data} onChange={handleChange} />\r\n            <CustomCheckBoxInput label=\"Tags\" name=\"tags\" options={tagsDropDown} data={data} onChange={handleChange} />\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport CustomCard from '../../../shared/Cards/CustomCard';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport placeholder from '../../../assets/images/placeholder.png';\r\nimport { getImageURL } from '../../../utils/imageUrl';\r\nimport { useMemo } from 'react';\r\nimport FilterPopup from './FilterPopup';\r\nimport { roundOfNumber } from '../../../utils/taxHelpers';\r\nimport CustomAnimatedCard from '../../../shared/Transitions/CustomAnimatedCard';\r\nimport { getCatalogItems } from '../../../redux/actions/POS/catalogActions';\r\nimport { getFilterSets } from '../../../redux/actions/Settings/InventorySetup/filterSetsAction';\r\nimport { getTags } from '../../../redux/actions/Settings/InventorySetup/tagAction';\r\n\r\nexport default function CatalogItems({ selectedCategory, onSelectProduct }) {\r\n    let posCatalog = useSelector((state) => state.pos.catalogs);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(getCatalogItems());\r\n        dispatch(getFilterSets());\r\n        dispatch(getTags());\r\n    }, [dispatch]);\r\n\r\n    console.log(selectedCategory, posCatalog, 'selectedCategory');\r\n\r\n    posCatalog = useMemo(() => {\r\n        if (!selectedCategory) {\r\n            return posCatalog.filter((item) => item.type !== 'PRE_PAY');\r\n        } else if (selectedCategory === 'PRE_PAY') {\r\n            return posCatalog.filter((item) => item.type === 'PRE_PAY');\r\n        } else {\r\n            return posCatalog.filter((item) => item.category === selectedCategory);\r\n        }\r\n    }, [selectedCategory, posCatalog]);\r\n\r\n    const [filters, setFilters] = useState(null);\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    posCatalog = useMemo(() => {\r\n        if (filters) {\r\n            let arr = posCatalog;\r\n            if (filters.filters?.length) {\r\n                arr = arr.filter((item) => filters.filters.some((filter) => item.filterSet.includes(filter.value)));\r\n            }\r\n            if (filters.tags?.length) {\r\n                arr = arr.filter((item) => filters.tags.some((tag) => item.tags.includes(tag.value)));\r\n            }\r\n\r\n            return arr;\r\n        }\r\n        return posCatalog;\r\n    }, [filters, posCatalog]);\r\n\r\n    const onApplyFilters = (filter) => {\r\n        setFilters(filter);\r\n        onClose();\r\n    };\r\n    const onClose = () => {\r\n        setVisible(false);\r\n    };\r\n    return (\r\n        <>\r\n            <FilterPopup visible={visible} onClose={onClose} filters={filters} onApplyFilters={onApplyFilters} />\r\n            <CustomCard\r\n                extraClassName=\"h-full flex flex-column\"\r\n                bodyClassName=\"h-full\"\r\n                title=\"Most Purchased Items\"\r\n                col={12}\r\n                name=\"Filter\"\r\n                onClick={() => setVisible(true)}\r\n            >\r\n                <div className=\"grid\" style={{ maxHeight: '90vh', overflowY: 'auto' }}>\r\n                    {posCatalog.map((item, i) => (\r\n                        <Item index={i} key={item._id} item={item} onSelectProduct={onSelectProduct} />\r\n                    ))}\r\n                </div>\r\n            </CustomCard>\r\n        </>\r\n    );\r\n}\r\n\r\nfunction Item(props) {\r\n    let item = props?.item;\r\n    return (\r\n        <CustomAnimatedCard index={props.index} className=\"col-3 p-1 cursor-pointer\" onClick={() => props?.onSelectProduct(item)}>\r\n            <div className=\"bg-white border-1 surface-border p-2 border-round-md\">\r\n                <img\r\n                    className=\"bg-lightest-blue border-round-md\"\r\n                    src={getImageURL(item?.catalogImage)}\r\n                    alt={item?.itemCaption}\r\n                    style={{ aspectRatio: '1/1' }}\r\n                    onError={(e) => (e.target.src = placeholder)}\r\n                />\r\n                <div className=\"bg-lightest-blue border-round-md\">\r\n                    <div className=\"text-center px-2 ellipsis-text\">{item?.itemCaption}</div>\r\n                    <div className=\"text-center font-semibold\">${roundOfNumber(item?.netPrice)}</div>\r\n                </div>\r\n            </div>\r\n        </CustomAnimatedCard>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getDiscountTypes } from '../../../redux/actions/PosSettings/discountType';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomDropDown } from '../../../shared/Input/AllInputs';\r\n\r\nexport default function SelectDiscountPopup({ visible, setVisible, onApply }) {\r\n    const dispatch = useDispatch();\r\n    let { allDiscountTypes } = useSelector((state) => state.discountType);\r\n    let allDiscountDropdown = allDiscountTypes.map((item) => ({ name: item?.discountName, value: item?._id }));\r\n\r\n    const [data, setData] = useState({});\r\n\r\n    useEffect(() => {\r\n        dispatch(getDiscountTypes());\r\n    }, [dispatch]);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (visible) {\r\n            setData({ discount: visible.item?._id });\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (data.discount) {\r\n            let _newDiscount = allDiscountTypes.filter((item) => item._id === data.discount);\r\n            onApply(visible.index, _newDiscount[0]);\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CustomDialog title=\"Select Discount\" visible={visible} onCancel={onClose} onApply={onSubmit}>\r\n            <CustomDropDown name=\"discount\" col={12} data={data} onChange={handleChange} options={allDiscountDropdown} />\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomDropDown, CustomInputNumber } from '../../../shared/Input/AllInputs';\r\nimport { amountTypeOptions } from '../../../utils/dropdownConstants';\r\nimport { CustomGridLayout } from '../../../shared/Cards/CustomCard';\r\n\r\nexport default function SpecialDiscountPopup({ visible, setVisible, onApply }) {\r\n    const [data, setData] = useState({ amountType: 'FIXED', amount: 0 });\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData({ amountType: 'FIXED', amount: 0 });\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (visible?.item) {\r\n            setData(visible?.item);\r\n        }\r\n    }, [visible]);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (data?.amount) {\r\n            onApply(visible.index, data);\r\n            onClose();\r\n        }\r\n    };\r\n    return (\r\n        <CustomDialog title=\"Add Special Discount\" visible={visible} onCancel={onClose} onApply={onSubmit}>\r\n            <CustomGridLayout>\r\n                <CustomDropDown name=\"amountType\" options={amountTypeOptions} data={data} onChange={handleChange} col={4} />\r\n                <CustomInputNumber\r\n                    label={`Amount (${data?.amountType === 'FIXED' ? '$' : '%'})`}\r\n                    name=\"amount\"\r\n                    data={data}\r\n                    onChange={handleChange}\r\n                    required\r\n                    maxFractionDigits={4}\r\n                    col={8}\r\n                />\r\n            </CustomGridLayout>\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import { confirmPopup } from 'primereact/confirmpopup';\r\nimport React from 'react';\r\n\r\nexport default function CartItem(props) {\r\n    const { onDeleteCartItem, onWaiveTax, onQtyChange, onOverrideDiscount, onAddSpecialDiscount, onRemoveSpecialDiscount } = props;\r\n    const { item, index } = props;\r\n    const { itemCaption, name, taxWaived } = item;\r\n    const { allowDiscount, defaultDiscount, overrideDiscount, specialDiscount, promoDiscount } = item;\r\n    const { waivedTaxAmount, netPrice, finalNetPrice, finalTotal } = item;\r\n    const { minimumQuantity, maximumQuantity, quantity, allowUnlimited } = item;\r\n\r\n    const onDelete = (event) => {\r\n        confirmPopup({\r\n            target: event.currentTarget,\r\n            message: 'Do you want to delete this item?',\r\n            icon: 'pi pi-info-circle',\r\n            rejectClassName: 'p-button p-button-outlined p-button-secondary',\r\n            acceptClassName: 'btn-dark',\r\n            defaultFocus: 'reject',\r\n            accept: () => {\r\n                onDeleteCartItem(index);\r\n            },\r\n            reject: () => {},\r\n        });\r\n    };\r\n    const applyTax = (event) => {\r\n        confirmPopup({\r\n            target: event.currentTarget,\r\n            message: 'Do you want to apply tax on this item?',\r\n            icon: 'pi pi-info-circle',\r\n            rejectClassName: 'p-button p-button-outlined p-button-secondary',\r\n            acceptClassName: 'btn-dark',\r\n            defaultFocus: 'reject',\r\n            accept: () => {\r\n                onWaiveTax(index, false);\r\n            },\r\n            reject: () => {},\r\n        });\r\n    };\r\n    const waiveTax = (event) => {\r\n        confirmPopup({\r\n            target: event.currentTarget,\r\n            message: 'Do you want to waive tax on this item?',\r\n            icon: 'pi pi-info-circle',\r\n            rejectClassName: 'p-button p-button-outlined p-button-secondary',\r\n            acceptClassName: 'btn-dark',\r\n            defaultFocus: 'reject',\r\n            accept: () => {\r\n                onWaiveTax(index, true);\r\n            },\r\n            reject: () => {},\r\n        });\r\n    };\r\n    const onInc = () => {\r\n        let _qty = quantity + 1;\r\n        if (_qty <= maximumQuantity || allowUnlimited) {\r\n            onQtyChange(index, _qty);\r\n        }\r\n    };\r\n    const onDec = () => {\r\n        let _qty = quantity - 1;\r\n        if (_qty >= minimumQuantity) {\r\n            onQtyChange(index, _qty);\r\n        }\r\n    };\r\n    const showDiscountMenu = () => {\r\n        if (allowDiscount && !defaultDiscount) {\r\n            onOverrideDiscount(index, defaultDiscount);\r\n        } else if (defaultDiscount && overrideDiscount) {\r\n            onOverrideDiscount(index, defaultDiscount);\r\n        }\r\n    };\r\n    const showSpecialDiscount = () => {\r\n        if (allowDiscount) {\r\n            onAddSpecialDiscount(index, specialDiscount);\r\n        }\r\n    };\r\n    const removeSpecialDiscount = () => {\r\n        onRemoveSpecialDiscount(index);\r\n    };\r\n\r\n    const discountTemplate = (obj, icon, onRemove) => {\r\n        return (\r\n            <>\r\n                {allowDiscount && obj && (\r\n                    <div className=\"bg-green-100 text-green-900 border-round-sm px-1 mx-1 my-auto\">\r\n                        {icon && <i className={`pi ${icon} text-sm mr-1`}></i>}\r\n                        {obj?.amountType === 'PERCENTAGE' && `${obj?.amount}% OFF`}\r\n                        {obj?.amountType === 'FIXED' && `$${obj?.amount} OFF`}\r\n                        {onRemove && <i className=\"pi pi-times ml-2 cursor-pointer\" onClick={onRemove}></i>}\r\n                    </div>\r\n                )}\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"flex justify-content-between text-xl font-medium\">\r\n                <div>{name}</div>\r\n                <div>${finalTotal}</div>\r\n            </div>\r\n            <div className=\"text-dark-gray ellipsis-text w-9\">{itemCaption}</div>\r\n            <div className=\"flex justify-content-between\">\r\n                <div className=\"flex\">\r\n                    <div className=\"mr-2 text-lg font-medium my-auto\">${finalNetPrice}</div>\r\n                    {finalNetPrice !== netPrice && <div className=\"mr-2 text-lg font-medium line-through text-dark-gray my-auto\">${netPrice}</div>}\r\n                    {discountTemplate(defaultDiscount, null)}\r\n                    {discountTemplate(specialDiscount, null, removeSpecialDiscount)}\r\n                    {discountTemplate(promoDiscount, 'pi-bookmark', null)}\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 align-items-center\">\r\n                    <i className={`pi pi-minus-circle text-xl text-gray-400 text-red-600 `} onClick={onDec}></i>\r\n                    <div className=\"text-xl font-medium text-center\" style={{ minWidth: '20px' }}>\r\n                        {quantity}\r\n                    </div>\r\n                    <i className={`pi pi-plus-circle text-xl text-gray- text-green-600`} onClick={onInc}></i>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex justify-content-between my-3 \">\r\n                <div className=\"flex ellipsis-text\">\r\n                    {taxWaived ? (\r\n                        <div className=\"py-1 px-3 bg-green-100 text-green-900 border-round-md mr-2 cursor-pointer\" onClick={applyTax}>\r\n                            ${waivedTaxAmount} Tax Waived\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"py-1 px-3 bg-primary-dark border-round-md mr-2 text-white cursor-pointer\" onClick={waiveTax}>\r\n                            % Waive Tax\r\n                        </div>\r\n                    )}\r\n                    {allowDiscount && (\r\n                        <>\r\n                            <div className=\"py-1 px-3 border-400 border-round-md mr-2 border-1 cursor-pointer ellipsis-text\" onClick={showDiscountMenu}>\r\n                                {defaultDiscount ? (\r\n                                    `${defaultDiscount?.discountCode} Applied`\r\n                                ) : (\r\n                                    <>\r\n                                        <i className=\"pi pi-dollar\"></i>\r\n                                        Apply Discount\r\n                                    </>\r\n                                )}\r\n                                {overrideDiscount && <i className=\"ml-1 my-auto pi pi-chevron-circle-down\"></i>}\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                    {allowDiscount && (\r\n                        <>\r\n                            <div className=\"py-1 px-2 bg-blue-100 border-round-md cursor-pointer\" onClick={showSpecialDiscount}>\r\n                                <i className=\"pi pi-gift text-xl text-blue-600\"></i>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"py-1 px-2 bg-red-100 border-round-md cursor-pointer\" onClick={onDelete}>\r\n                    <i className=\"pi pi-trash text-xl text-red-600\"></i>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            <br />\r\n        </>\r\n    );\r\n}\r\n","import endPoints from '../../../services/endPoints';\r\nimport { types } from '../../types/types';\r\nimport api from '../../../services/api';\r\nimport { showToast } from '../toastAction';\r\nimport { hideLoaderAction, showLoaderAction } from '../loaderAction';\r\n\r\nconst verifyCashRegisterAccessCode = (accessCode, registerId, next) => async (dispatch) => {\r\n    dispatch(showLoaderAction());\r\n    const res = await api('get', endPoints.VERIFY_ACCESS_CODE, {}, { accessCode, registerId });\r\n    if (res.success) {\r\n        next(res);\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    dispatch(hideLoaderAction());\r\n};\r\nconst cashRegisterCheckIn = (payload, next) => async (dispatch) => {\r\n    dispatch(showLoaderAction());\r\n    const res = await api('post', endPoints.CASH_REGISTER_CHECK_IN, payload);\r\n    if (res.success) {\r\n        next();\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    dispatch(hideLoaderAction());\r\n};\r\nconst cashRegisterCheckOut = (data, cashRegister, accessCode, next) => async (dispatch) => {\r\n    dispatch(showLoaderAction());\r\n    const res = await api('post', endPoints.CASH_REGISTER_CHECK_OUT, {\r\n        ...data,\r\n        cashRegister,\r\n        accessCode,\r\n    });\r\n    if (res.success) {\r\n        next();\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    dispatch(hideLoaderAction());\r\n};\r\nexport const clearPOSPromo = () => {\r\n    return {\r\n        type: types.CLEAR_POS_PROMO,\r\n        payload: [],\r\n    };\r\n};\r\n\r\nconst validatePromoCodeAction = (promoCode, next) => async (dispatch) => {\r\n    const res = await api('post', endPoints.VALIDATE_PROMO_CODE, { promoCode });\r\n    next(res);\r\n};\r\n\r\nconst addDropCheck = (data, setLoading, next) => async (dispatch) => {\r\n    setLoading(true);\r\n    const res = await api('post', endPoints.POS.ADD_DROP, data);\r\n    if (res.success) {\r\n        dispatch(showToast({ severity: 'success', summary: res.message }));\r\n        next();\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    setLoading(false);\r\n};\r\nconst getPreBalance = (memberId, returnData) => async (dispatch) => {\r\n    const res = await api('get', endPoints.PREPAY_BALANCE, {}, { id: memberId });\r\n    if (res.success) {\r\n        if (res.data) {\r\n            returnData(res.data);\r\n        }\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n};\r\n\r\nexport { verifyCashRegisterAccessCode, cashRegisterCheckIn, cashRegisterCheckOut, validatePromoCodeAction, addDropCheck, getPreBalance };\r\n","import React, { useState, useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Messages } from 'primereact/messages';\r\nimport PrimaryButton, { CustomButton } from '../../../shared/Button/CustomButton';\r\nimport { validatePromoCodeAction } from '../../../redux/actions/POS/PosActions';\r\n\r\nexport default function CartDetails({\r\n    cartDetails,\r\n    setAppliedPromo,\r\n    appliedPromo,\r\n    onOpenSaveCartPopup,\r\n    onOpenCheckout,\r\n    cartItems,\r\n    memberDetail,\r\n    showPrePay,\r\n    setShowPrePay,\r\n    additionalPrePay,\r\n    setAdditionalPrePay,\r\n}) {\r\n    const dispatch = useDispatch();\r\n    let { tax, discount, specialDiscount, promoDiscount, waivedTaxAmount, gradTotal, netTotal } = cartDetails;\r\n    const [promo, setPromo] = useState('');\r\n    const msgs = useRef(null);\r\n\r\n    const validatePromo = () => {\r\n        if (promo.trim().length) {\r\n            dispatch(\r\n                validatePromoCodeAction(promo, (res) => {\r\n                    if (res.success) {\r\n                        setAppliedPromo(res.data);\r\n                        setPromo('');\r\n                    } else {\r\n                        msgs.current.show({ severity: 'error', detail: res?.message });\r\n                    }\r\n                }),\r\n            );\r\n        }\r\n    };\r\n\r\n    const onRemovePromo = () => {\r\n        setAppliedPromo(null);\r\n    };\r\n\r\n    const handleAddPrePay = () => {\r\n        const roundedTotal = Math.ceil(gradTotal / 10) * 10;\r\n        const additionalAmount = roundedTotal - gradTotal;\r\n        console.log(roundedTotal, additionalAmount, 'roundedTotal');\r\n        setAdditionalPrePay(additionalAmount);\r\n        setShowPrePay(!showPrePay);\r\n    };\r\n    const handlePrePayChange = (e) => {\r\n        const parsedValue = parseInt(e.target.value) || 0;\r\n        setAdditionalPrePay(parsedValue);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {cartItems?.length > 0 && (\r\n                <>\r\n                    <div className=\"flex justify-content-between\">\r\n                        <div className=\"text-xl font-medium mb-2\">\r\n                            <div>Pricing Detail</div>\r\n                        </div>\r\n                        <div className=\"text-lg font-semibold mb-2 underline text-blue-500 cursor-pointer\" onClick={handleAddPrePay}>\r\n                            <div>Add Prepay</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-content-between\">\r\n                        <div className=\"text-dark-gray\">Net Total:</div>\r\n                        <div className=\"font-medium \">${netTotal?.toFixed(2)}</div>\r\n                    </div>\r\n                    <div className=\"flex justify-content-between\">\r\n                        <div className=\"text-dark-gray\">Tax:</div>\r\n                        <div className=\"font-medium text-red-600\">+${tax?.toFixed(2)}</div>\r\n                    </div>\r\n                    {discount > 0 && (\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Discounts:</div>\r\n                            <div className=\"font-medium text-green-600\">-${discount?.toFixed(2)}</div>\r\n                        </div>\r\n                    )}\r\n                    {specialDiscount > 0 && (\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Special Discount:</div>\r\n                            <div className=\"font-medium text-green-600\">-${specialDiscount?.toFixed(2)}</div>\r\n                        </div>\r\n                    )}\r\n                    {promoDiscount > 0 && (\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Promo Discount:</div>\r\n                            <div className=\"font-medium text-green-600\">-${promoDiscount?.toFixed(2)}</div>\r\n                        </div>\r\n                    )}\r\n                    {waivedTaxAmount > 0 && (\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Waived Tax:</div>\r\n                            <div className=\"font-medium text-green-600\">-${waivedTaxAmount?.toFixed(2)}</div>\r\n                        </div>\r\n                    )}\r\n                    {/* <div className=\"flex justify-content-between\">\r\n                    <div className=\"text-dark-gray\">Total:</div>\r\n                    <div className=\"font-medium \">${total}</div>\r\n                </div> */}\r\n                    {/* <div className=\"flex justify-content-between\">\r\n                    <div className=\"text-dark-gray\">Account Balance:</div>\r\n                    <div className=\"font-medium text-red-600\">$2.00</div>\r\n                </div> */}\r\n                    {showPrePay && (\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Additional PrePay:</div>\r\n                            <input type=\"number\" name=\"additionalPrePay\" onChange={handlePrePayChange} value={additionalPrePay} style={{ width: '45px' }} />\r\n                        </div>\r\n                    )}\r\n                    <div className=\"flex justify-content-between\">\r\n                        <div className=\"text-dark-gray\">Final Total:</div>\r\n                        <div className=\"font-medium \">${gradTotal?.toFixed(2)}</div>\r\n                    </div>\r\n                    {memberDetail && (\r\n                        <div className=\"flex justify-content-between bg-white py-2 px-3 border-round-md text-lg my-2 \">\r\n                            <div className=\"text-dark-gray\">Pre-Pay Balance</div>\r\n                            <div className=\"font-medium text-green-600\">${memberDetail?.prepayBalance}</div>\r\n                        </div>\r\n                    )}\r\n                    {appliedPromo ? (\r\n                        <div className=\"flex justify-content-between bg-white py-2 px-3 border-round-md my-2 border-1 border-green-600 border-dashed \">\r\n                            <div className=\"text-dark-gray text-green-600\">Promo {appliedPromo?.discountCode} Applied</div>\r\n                            <i className=\"font-medium text-red-600 pi pi-times my-auto\" onClick={onRemovePromo}></i>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"flex justify-content-between bg-white py-2 px-3 border-round-md text-lg my-2  \">\r\n                            <input\r\n                                value={promo}\r\n                                onChange={({ target }) => setPromo(target.value)}\r\n                                type=\"text\"\r\n                                className=\"promo w-10 border-none h-full\"\r\n                                placeholder=\"Apply Promocode\"\r\n                            />\r\n                            <div className=\" pb-1  px-3 bg-primary-dark text-sm border-round-md text-white cursor-pointer\" onClick={validatePromo}>\r\n                                Apply\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    <Messages className=\"promo-error\" ref={msgs} />\r\n                </>\r\n            )}\r\n\r\n            <div className=\"flex gap-2 mt-2\">\r\n                <PrimaryButton label=\"Checkout\" className=\"w-full\" onClick={onOpenCheckout} />\r\n                <CustomButton label=\"Save\" severity=\"secondary\" className=\"w-full\" onClick={onOpenSaveCartPopup} />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useState, useMemo, useEffect } from 'react';\r\nimport { CustomGridLayout } from '../../../../shared/Cards/CustomCard';\r\nimport { denominationsToDollarConverter } from '../../../../utils/commonFunctions';\r\nimport { CustomInputCurrentChange, CustomInputNumber } from '../../../../shared/Input/AllInputs';\r\n\r\nexport default function CashCalculator({ name = 'totalCash', onChange }) {\r\n    const [data, setData] = useState({\r\n        pennies: 0,\r\n        nickels: 0,\r\n        dimes: 0,\r\n        quarters: 0,\r\n        singles: 0,\r\n        fives: 0,\r\n        tens: 0,\r\n        twenties: 0,\r\n        fifties: 0,\r\n        hundreds: 0,\r\n    });\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    let sum = useMemo(\r\n        () =>\r\n            Object.keys(data)\r\n                .map((name) => denominationsToDollarConverter(data, name))\r\n                .reduce((a, b) => a + b, 0),\r\n        [data],\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (onChange) {\r\n            onChange({ name, value: sum });\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [sum]);\r\n\r\n    const increaseValue = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value + 1 }));\r\n    };\r\n    const decreseValue = ({ name, value }) => {\r\n        if (value) {\r\n            setData((prev) => ({ ...prev, [name]: value - 1 }));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CustomGridLayout>\r\n            <CustomInputCurrentChange name=\"pennies\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"nickels\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"dimes\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"quarters\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"singles\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"fives\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"tens\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"twenties\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"fifties\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputCurrentChange name=\"hundreds\" data={data} handleChange={handleChange} onAdd={increaseValue} onSub={decreseValue} />\r\n            <CustomInputNumber name=\"total\" col=\"8\" disabled={true} value={sum} prefix=\"$\" />\r\n        </CustomGridLayout>\r\n    );\r\n}\r\n","import api from '../../services/api';\r\nimport endPoints from '../../services/endPoints';\r\nimport { showToast } from './toastAction';\r\n\r\nconst validateAccessCodeAction = (accessCode, setLoading, next) => async (dispatch) => {\r\n    if (setLoading) {\r\n        setLoading(true);\r\n    }\r\n    const res = await api('get', endPoints.VALIDATE_ACCESS_CODE + accessCode);\r\n    if (res.success) {\r\n        next(res.data);\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    if (setLoading) {\r\n        setLoading(false);\r\n    }\r\n};\r\n\r\nconst createEndpoint = (base, paths) => {\r\n    return Object.fromEntries(Object.entries(paths).map(([key, value]) => [key, `${base}${value}/`]));\r\n};\r\n\r\nexport { validateAccessCodeAction, createEndpoint };\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport CustomDialog from '../../../../shared/Overlays/CustomDialog';\r\nimport { useState } from 'react';\r\nimport { CustomDropDown, CustomInput, CustomTextArea } from '../../../../shared/Input/AllInputs';\r\nimport CashCalculator from './CashCalculator';\r\nimport { CustomListItem } from '../../../../shared/Cards/CustomCard';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { validateAccessCodeAction } from '../../../../redux/actions/helperActions';\r\nimport { getRegisterAction, startRegisterAction } from '../../../../redux/actions/POS/registerActions';\r\n\r\nexport default function OpenDrawerModel({ visible, setVisible }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [data, setData] = useState({ register: '', accessCode: '', totalCash: 0, comment: '' });\r\n    const [access, setAccess] = useState(null);\r\n    const [register, setRegister] = useState({});\r\n    const [loading, setLoading] = useState(null);\r\n    const { registers } = useSelector((state) => state.pos);\r\n    const registersDropdown = useMemo(\r\n        () => registers.filter((item) => item?.registerStatus !== 'OPEN').map((item) => ({ name: item.name, value: item._id })),\r\n        [registers],\r\n    );\r\n    useEffect(() => {\r\n        if (data?.register) {\r\n            dispatch(\r\n                getRegisterAction(data?.register, ({ registerStatus }) => {\r\n                    setRegister(registerStatus);\r\n                }),\r\n            );\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [access]);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData({ register: '', accessCode: '', totalCash: 0, comment: '' });\r\n        setAccess(null);\r\n        setRegister(null);\r\n    };\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (access) {\r\n            dispatch(startRegisterAction(data, setLoading, onClose));\r\n        } else {\r\n            if (data?.accessCode && data?.register) {\r\n                dispatch(\r\n                    validateAccessCodeAction(data?.accessCode, setLoading, (e) => {\r\n                        setAccess(e);\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    };\r\n    return (\r\n        <CustomDialog\r\n            title=\"Open Register\"\r\n            visible={visible}\r\n            onCancel={onClose}\r\n            onSave={onSubmit}\r\n            saveLabel={access ? 'Start Drawer' : 'Next'}\r\n            width={access ? '65vw' : '30vw'}\r\n            loading={loading}\r\n        >\r\n            {access ? (\r\n                <>\r\n                    <CashCalculator onChange={handleChange} />\r\n                    <div className=\"grid\">\r\n                        <CustomTextArea col={6} data={data} name=\"comment\" onChange={handleChange} />\r\n                        <div className=\"col flex flex-column pb-1\">\r\n                            <div className=\"text-sm font-semibold mb-1\">Last Close Out</div>\r\n                            <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full\">\r\n                                <CustomListItem\r\n                                    label=\"Closed By:\"\r\n                                    value={`${register?.closedBy?.firstName ? register?.closedBy?.firstName : ''} ${register?.closedBy?.lastName ? register?.closedBy?.lastName : ''}`}\r\n                                />\r\n                                <CustomListItem label=\"Closed At:\" value={register?.updatedAt ? register?.updatedAt : ''} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <CustomDropDown data={data} onChange={handleChange} name=\"register\" options={registersDropdown} required col={12} />\r\n                    <CustomInput data={data} onChange={handleChange} name=\"accessCode\" required col={12} autocomplete=\"off\" />\r\n                </>\r\n            )}\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport CustomDialog from '../../../../shared/Overlays/CustomDialog';\r\nimport { useState } from 'react';\r\nimport { CustomDropDown, CustomInput, CustomTextArea } from '../../../../shared/Input/AllInputs';\r\nimport CashCalculator from './CashCalculator';\r\nimport { CustomListItem } from '../../../../shared/Cards/CustomCard';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { validateAccessCodeAction } from '../../../../redux/actions/helperActions';\r\nimport { closeRegisterAction, getRegisterAction } from '../../../../redux/actions/POS/registerActions';\r\n\r\nexport default function CloseDraweModel({ visible, setVisible }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [data, setData] = useState({ register: '', accessCode: '', totalCash: 0, comment: '' });\r\n    const [access, setAccess] = useState(null);\r\n    const [register, setRegister] = useState({});\r\n    const [loading, setLoading] = useState(null);\r\n\r\n    const { registers } = useSelector((state) => state.pos);\r\n    const registersDropdown = useMemo(\r\n        () => registers.filter((item) => item?.registerStatus === 'OPEN').map((item) => ({ name: item.name, value: item._id })),\r\n        [registers],\r\n    );\r\n    useEffect(() => {\r\n        if (data?.register) {\r\n            dispatch(\r\n                getRegisterAction(data?.register, (e) => {\r\n                    setRegister(e);\r\n                    if (e?.sales) {\r\n                        setSales({ cash: e?.sales?.CASH, cheque: e?.sales?.CHEQUE });\r\n                        setAddDrop({ add: e?.addDrop?.ADD, drop: e?.addDrop?.DROP });\r\n                    }\r\n                }),\r\n            );\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [access]);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData({ register: '', accessCode: '', totalCash: 0, comment: '' });\r\n        setAccess(null);\r\n        setRegister(null);\r\n    };\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const registerStatus = register?.registerStatus;\r\n    const openedBy = `${registerStatus?.openedBy?.firstName ? registerStatus?.openedBy?.firstName : ''} ${registerStatus?.openedBy?.lastName ? registerStatus?.openedBy?.lastName : ''}`;\r\n    const openedAt = registerStatus?.createdAt ? registerStatus?.createdAt : '';\r\n\r\n    let [sales, setSales] = useState({\r\n        cash: 0,\r\n        cheque: 0,\r\n    });\r\n\r\n    let [addDrop, setAddDrop] = useState({\r\n        add: 0,\r\n        drop: 0,\r\n    });\r\n\r\n    //Cash added in drawer when drawer started\r\n    let cashAtStart = registerStatus?.cashAtStart;\r\n    //Total cash that is currently in drawer including cash that we added at start\r\n    let totalCash = data?.totalCash;\r\n\r\n    //Total cash sale for that drawer\r\n    let cashSale = sales?.cash;\r\n\r\n    let cashAdd = addDrop?.add;\r\n\r\n    let cashDrop = addDrop?.drop;\r\n\r\n    let amountToLeftIn = register?.amountToLeftIn;\r\n\r\n    const cashDifference = useMemo(() => {\r\n        let _total = cashAtStart + cashSale + cashAdd;\r\n        _total = _total - cashDrop;\r\n        let _diff = totalCash - _total;\r\n        return _diff;\r\n    }, [cashAtStart, cashSale, totalCash, cashAdd, cashDrop]);\r\n\r\n    const totalCashOut = useMemo(() => {\r\n        let _total = cashAtStart + cashSale;\r\n        let _finalTotal = _total + cashDifference;\r\n        _finalTotal = _finalTotal - amountToLeftIn;\r\n        return _finalTotal;\r\n    }, [cashAtStart, cashSale, amountToLeftIn, cashDifference]);\r\n\r\n    const onSubmit = () => {\r\n        if (access) {\r\n            dispatch(\r\n                closeRegisterAction(\r\n                    { ...data, id: registerStatus?._id, cashAtStart, cashSale, amountToLeftIn, cashDifference, totalCashOut },\r\n                    setLoading,\r\n                    onClose,\r\n                ),\r\n            );\r\n        } else {\r\n            if (data?.accessCode && data?.register) {\r\n                dispatch(\r\n                    validateAccessCodeAction(data?.accessCode, setLoading, (e) => {\r\n                        setAccess(e);\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CustomDialog\r\n            title=\"Close Register\"\r\n            visible={visible}\r\n            onCancel={onClose}\r\n            onSave={onSubmit}\r\n            saveLabel={access ? 'Close Drawer' : 'Next'}\r\n            width={access ? '75vw' : '30vw'}\r\n            loading={loading}\r\n        >\r\n            {access ? (\r\n                <div className=\"grid\">\r\n                    <div className=\"col-3 flex flex-column justify-content-between\">\r\n                        <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full\">\r\n                            <CustomListItem label=\"Drawer Name:\" value={register?.name} />\r\n                            <CustomListItem label=\"Opened By:\" value={openedBy} />\r\n                            <CustomListItem label=\"Opened At:\" value={openedAt} />\r\n                        </div>\r\n                        <CustomTextArea data={data} name=\"comment\" onChange={handleChange} />\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        <CashCalculator onChange={handleChange} />\r\n                        <div className=\"grid\">\r\n                            <div className=\"col flex flex-column pb-1\">\r\n                                <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full mb-2\">\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Cheque Counted:</div>\r\n                                        <div className=\"font-medium text-green-600\">-</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full mb-2\">\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Total Cheque in Drawer:</div>\r\n                                        <div className=\"font-medium text-green-600\">${0}</div>\r\n                                    </div>\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Total Cheque Sales:</div>\r\n                                        <div className=\"font-medium text-green-600\">${sales?.cheque}</div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full\">\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Cheque Difference:</div>\r\n                                        <div className=\"font-medium text-green-600\">${0}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col flex flex-column pb-1\">\r\n                                <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full\">\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Cash at Start:</div>\r\n                                        <div className=\"font-medium text-green-600\">${cashAtStart}</div>\r\n                                    </div>\r\n                                    {cashAdd > 0 && (\r\n                                        <div className=\"flex justify-content-between\">\r\n                                            <div className=\"text-dark-gray\">Cash Add:</div>\r\n                                            <div className=\"font-medium text-green-600\">${cashAdd}</div>\r\n                                        </div>\r\n                                    )}\r\n                                    {cashDrop > 0 && (\r\n                                        <div className=\"flex justify-content-between\">\r\n                                            <div className=\"text-dark-gray\">Cash Drop:</div>\r\n                                            <div className=\"font-medium text-red-600\">$-{cashDrop}</div>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Total Cash Sales:</div>\r\n                                        <div className=\"font-medium text-green-600\">${cashSale}</div>\r\n                                    </div>\r\n                                    {cashDifference !== 0 && (\r\n                                        <div className=\"flex justify-content-between\">\r\n                                            <div className=\"text-dark-gray\">Cash Difference:</div>\r\n                                            {cashDifference > 0 ? (\r\n                                                <div className=\"font-medium text-green-600\">${cashDifference}</div>\r\n                                            ) : (\r\n                                                <div className=\"font-medium text-red-600\">${cashDifference}</div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Amount to leave in Drawer:</div>\r\n                                        <div className=\"font-medium text-red-600\">${amountToLeftIn}</div>\r\n                                    </div>\r\n                                    <div className=\"flex justify-content-between\">\r\n                                        <div className=\"text-dark-gray\">Total Cash close out:</div>\r\n                                        <div className=\"font-medium text-green-600\">${totalCashOut}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <>\r\n                    <CustomDropDown data={data} onChange={handleChange} name=\"register\" options={registersDropdown} required col={12} />\r\n                    <CustomInput data={data} onChange={handleChange} name=\"accessCode\" required col={12} autocomplete=\"off\" />\r\n                </>\r\n            )}\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { onSelectDrawerAction } from '../../../../redux/actions/POS/registerActions';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function DrawerSelector() {\r\n    const dispatch = useDispatch();\r\n    const { drawer, registers } = useSelector((state) => state.pos);\r\n    const registersDropdown = useMemo(\r\n        () => registers.filter((item) => item?.registerStatus === 'OPEN').map((item) => ({ name: item.name, value: item._id })),\r\n        [registers],\r\n    );\r\n\r\n    const handleChange = (e) => {\r\n        dispatch(onSelectDrawerAction(e.target.value));\r\n        localStorage.setItem('drawer', e.target.value);\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (registersDropdown.length) {\r\n            let _drawer = localStorage.getItem('drawer');\r\n            if (_drawer) {\r\n                if (registersDropdown.find((item) => item.value === _drawer)) {\r\n                    dispatch(onSelectDrawerAction(_drawer));\r\n                } else {\r\n                    dispatch(onSelectDrawerAction(''));\r\n                }\r\n            } else {\r\n                dispatch(onSelectDrawerAction(''));\r\n            }\r\n        } else {\r\n            dispatch(onSelectDrawerAction(''));\r\n        }\r\n    }, [registersDropdown, dispatch]);\r\n\r\n    return (\r\n        <select className=\"mx-2 drawer-select\" onChange={handleChange} value={drawer}>\r\n            <option value=\"\">Select Drawer</option>\r\n            {registersDropdown?.map((item) => (\r\n                <option key={item?.value} value={item?.value}>\r\n                    {item?.name}\r\n                </option>\r\n            ))}\r\n        </select>\r\n    );\r\n}\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { CustomDropDown, CustomInput, CustomInputNumber } from '../../../shared/Input/AllInputs';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { addDropOptions } from '../../../utils/dropdownConstants';\r\nimport { useState } from 'react';\r\nimport { showFormErrors } from '../../../utils/commonFunctions';\r\nimport { addDropCheck } from '../../../redux/actions/POS/PosActions';\r\nimport { showToast } from '../../../redux/actions/toastAction';\r\nimport formValidation from '../../../utils/validations';\r\n\r\nconst AddDropPopup = ({ visible, setVisible }) => {\r\n    const dispatch = useDispatch();\r\n    const [loading, setLoading] = useState(false);\r\n    const drawer = useSelector((state) => state.pos.drawer);\r\n    const initialData = { paymentType: '', amount: '', accessCode: '' };\r\n\r\n    const [data, setData] = useState(initialData);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData(initialData);\r\n    };\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        const formErrors = formValidation(name, value, data);\r\n        setData((prev) => ({ ...prev, [name]: value, formErrors }));\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (showFormErrors(data, setData)) {\r\n            if (!drawer) {\r\n                dispatch(showToast({ severity: 'error', summary: 'Please select a drawer to proceed further.' }));\r\n                return;\r\n            }\r\n            data.cashRegister = drawer;\r\n            dispatch(\r\n                addDropCheck(data, setLoading, () => {\r\n                    setVisible(false);\r\n                    setData(initialData);\r\n                }),\r\n            );\r\n        }\r\n    };\r\n    return (\r\n        <CustomDialog title=\"Add/Drop\" visible={visible} onCancel={onClose} onApply={onSubmit} loading={loading}>\r\n            <CustomDropDown label=\"Select\" name=\"paymentType\" col={12} data={data} onChange={handleChange} options={addDropOptions} required />\r\n            <CustomInputNumber name=\"amount\" col={12} data={data} onChange={handleChange} required />\r\n            <CustomInput label=\"Access Code\" name=\"accessCode\" col={12} data={data} onChange={handleChange} autoComplete=\"off\" required />\r\n        </CustomDialog>\r\n    );\r\n};\r\n\r\nexport default AddDropPopup;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { CustomDropDown, CustomInput } from '../../../shared/Input/AllInputs';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { useEffect, useState } from 'react';\r\nimport { showFormErrors } from '../../../utils/commonFunctions';\r\nimport formValidation from '../../../utils/validations';\r\nimport { addNoSale } from '../../../redux/actions/POS/saleActions';\r\nimport { getNoSaleReasons } from '../../../redux/actions/POS/noSaleActions';\r\n\r\nconst NoSalePopup = ({ visible, setVisible }) => {\r\n    const dispatch = useDispatch();\r\n    const [loading, setLoading] = useState(false);\r\n    const drawer = useSelector((state) => state.pos.drawer);\r\n    const initialData = { reasonCode: '', accessCode: '' };\r\n    const noSaleReasons = useSelector((state) => state.pos.noSaleReasons);\r\n\r\n    const [data, setData] = useState(initialData);\r\n\r\n    useEffect(() => {\r\n        dispatch(getNoSaleReasons(setLoading));\r\n    }, [dispatch]);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData(initialData);\r\n    };\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        const formErrors = formValidation(name, value, data);\r\n        setData((prev) => ({ ...prev, [name]: value, formErrors }));\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        if (showFormErrors(data, setData)) {\r\n            data.cashRegister = drawer;\r\n            dispatch(\r\n                addNoSale(data, setLoading, () => {\r\n                    setVisible(false);\r\n                    setData(initialData);\r\n                }),\r\n            );\r\n        }\r\n    };\r\n    return (\r\n        <CustomDialog title=\"No Sale\" visible={visible} onCancel={onClose} onApply={onSubmit} loading={loading}>\r\n            <CustomDropDown\r\n                label=\"Select Reason\"\r\n                name=\"reasonCode\"\r\n                col={12}\r\n                data={data}\r\n                onChange={handleChange}\r\n                options={noSaleReasons}\r\n                optionLabel=\"reasonCode\"\r\n                optionValue=\"_id\"\r\n                required\r\n            />\r\n            <CustomInput label=\"Access Code\" name=\"accessCode\" col={12} data={data} onChange={handleChange} autoComplete=\"off\" required />\r\n        </CustomDialog>\r\n    );\r\n};\r\n\r\nexport default NoSalePopup;\r\n","import endPoints from '../../../services/endPoints';\r\nimport { types } from '../../types/types';\r\nimport api from '../../../services/api';\r\n\r\nconst getNoSaleReasons = (setLoading) => async (dispatch) => {\r\n    setLoading(true);\r\n    const res = await api('get', endPoints.POS.NO_SALE_REASON_CODE);\r\n    if (res.success) {\r\n        if (res.data) {\r\n            dispatch({\r\n                type: types.POS.NO_SALE_REASON_CODE,\r\n                payload: res.data,\r\n            });\r\n        }\r\n    }\r\n    setLoading(false);\r\n};\r\n\r\nexport { getNoSaleReasons };\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { useEffect, useState } from 'react';\r\nimport formValidation from '../../../utils/validations';\r\nimport CashCalculator from './Drawer/CashCalculator';\r\nimport PrimaryButton from '../../../shared/Button/CustomButton';\r\nimport { getReasonsDetails } from '../../../redux/actions/Settings/Business/reasonActions';\r\n\r\nconst QuickCashPopup = ({ visible, setVisible, cartDetails, onCheckout }) => {\r\n    const dispatch = useDispatch();\r\n    const [loading, setLoading] = useState(false);\r\n    const drawer = useSelector((state) => state.pos.drawer);\r\n    const initialData = { paymentType: '', accessCode: '' };\r\n    const [data, setData] = useState(initialData);\r\n    let { gradTotal } = cartDetails;\r\n    gradTotal = (gradTotal || 0).toFixed(2);\r\n    const totalCash = (data.totalCash || 0).toFixed(2);\r\n\r\n    const returnMoney = totalCash - gradTotal;\r\n\r\n    useEffect(() => {\r\n        dispatch(getReasonsDetails());\r\n    }, [dispatch]);\r\n\r\n    const onClose = () => {\r\n        setVisible(false);\r\n        setData(initialData);\r\n    };\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        const formErrors = formValidation(name, value, data);\r\n        setData((prev) => ({ ...prev, [name]: value, formErrors }));\r\n    };\r\n\r\n    const checkoutHandler = () => {\r\n        data.cashRegister = drawer;\r\n        onCheckout({ method: 'CASH', printReceiept: false }, setLoading, () => {\r\n            onClose();\r\n        });\r\n    };\r\n\r\n    const onSubmit = () => {\r\n        checkoutHandler();\r\n    };\r\n\r\n    return (\r\n        <CustomDialog\r\n            width=\"65vw\"\r\n            title=\"Quick Cash\"\r\n            applyLabel=\"Sale\"\r\n            visible={visible}\r\n            onCancel={onClose}\r\n            onApply={onSubmit}\r\n            loading={loading}\r\n            applydisabled={returnMoney < 0}\r\n        >\r\n            <CashCalculator onChange={handleChange} />\r\n            <div className=\"mt-3 py-2 px-4 flex justify-content-between border-1 border-dashed\">\r\n                <PrimaryButton label=\"Exact Change\" onClick={checkoutHandler} loading={loading} />\r\n                <div className=\"\">\r\n                    <div className=\"flex gap-2\">\r\n                        <div className=\"text-dark-gray pe-2\">Item Total:</div>\r\n                        <div className=\"font-medium text-green-600\">${gradTotal}</div>\r\n                    </div>\r\n                    <div className=\"flex gap-2\">\r\n                        <div className=\"text-dark-gray pe-2\">Received:</div>\r\n                        <div className=\"font-medium text-green-600\">${totalCash}</div>\r\n                    </div>\r\n                    {returnMoney > 0 && (\r\n                        <div className=\"flex gap-2\">\r\n                            <div className=\"text-dark-gray pe-2\">Return:</div>\r\n                            <div className=\"font-medium text-green-600\">${returnMoney}</div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </CustomDialog>\r\n    );\r\n};\r\n\r\nexport default QuickCashPopup;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Menu } from 'primereact/menu';\r\nimport CustomCard from '../../../shared/Cards/CustomCard';\r\nimport PrimaryButton, { CustomButton } from '../../../shared/Button/CustomButton';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getDiscountTypes } from '../../../redux/actions/PosSettings/discountType';\r\nimport SelectDiscountPopup from './SelectDiscountPopup';\r\nimport SpecialDiscountPopup from './SpecialDiscountPopup';\r\nimport CartItem from './CartItem';\r\nimport CartDetails from './CartDetails';\r\nimport OpenDrawerModel from './Drawer/OpenDrawerModel';\r\nimport CloseDraweModel from './Drawer/CloseDraweModel';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport emptyCartAnimation from '../../../assets/lottie/emptyCart.json';\r\nimport Lottie from 'lottie-react';\r\nimport DrawerSelector from './Drawer/DrawerSelector';\r\nimport CustomAnimatedCard from '../../../shared/Transitions/CustomAnimatedCard';\r\nimport AddDropPopup from './AddDropPopup';\r\nimport NoSalePopup from './NoSalePopup';\r\nimport QuickCashPopup from './QuickCashPopup';\r\nimport { showToast } from '../../../redux/actions/toastAction';\r\n\r\nexport default function Cart({\r\n    cartItems,\r\n    setSelectedItems,\r\n    cartDetails,\r\n    setAppliedPromo,\r\n    appliedPromo,\r\n    onOpenSaveCartPopup,\r\n    onOpenCheckout,\r\n    ifCartValidated,\r\n    onCheckout,\r\n    memberDetail,\r\n    loading,\r\n    loading1,\r\n    setLoading,\r\n    setLoading1,\r\n    additionalPrePay,\r\n    setAdditionalPrePay,\r\n}) {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const drawer = useSelector((state) => state.pos.drawer);\r\n    const menu = useRef(null);\r\n    useEffect(() => {\r\n        dispatch(getDiscountTypes());\r\n    }, [dispatch]);\r\n    const [discountPopup, setDiscountPopup] = useState(false);\r\n    const [specialDiscountPopup, setSpecialDiscountPopup] = useState(false);\r\n    let { gradTotal } = cartDetails;\r\n\r\n    const onDeleteCartItem = (index) => {\r\n        setSelectedItems((prev) => {\r\n            let _arr = [...prev];\r\n            _arr.splice(index, 1);\r\n            return _arr;\r\n        });\r\n    };\r\n    const onQtyChange = (index, qty) => {\r\n        setSelectedItems((prev) => {\r\n            let _prev = [...prev];\r\n            _prev[index].quantity = qty;\r\n\r\n            return _prev;\r\n        });\r\n    };\r\n    const onWaiveTax = (index, condition) => {\r\n        setSelectedItems((prev) => {\r\n            let _arr = [...prev];\r\n            let _obj = _arr[index];\r\n            _obj.taxWaived = condition;\r\n            _arr[index] = _obj;\r\n            return _arr;\r\n        });\r\n    };\r\n    const onOverrideDiscount = (index, item) => {\r\n        setDiscountPopup({ index, item });\r\n    };\r\n    const onAddSpecialDiscount = (index, item) => {\r\n        setSpecialDiscountPopup({ index, item });\r\n    };\r\n    const onApplyDiscount = (index, discount) => {\r\n        setSelectedItems((prev) => {\r\n            let _arr = [...prev];\r\n            let _obj = _arr[index];\r\n            _obj.defaultDiscount = discount;\r\n            _arr[index] = _obj;\r\n            return _arr;\r\n        });\r\n    };\r\n    const onApplySpecialDiscount = (index, discount) => {\r\n        setSelectedItems((prev) => {\r\n            let _arr = [...prev];\r\n            let _obj = _arr[index];\r\n            _obj.specialDiscount = discount;\r\n            _arr[index] = _obj;\r\n            return _arr;\r\n        });\r\n    };\r\n    const onRemoveSpecialDiscount = (index) => {\r\n        setSelectedItems((prev) => {\r\n            let _arr = [...prev];\r\n            let _obj = _arr[index];\r\n            _obj.specialDiscount = null;\r\n            _arr[index] = _obj;\r\n            return _arr;\r\n        });\r\n    };\r\n\r\n    const [openQuickCash, setOpenQuickCash] = useState(false);\r\n    const [openNoSale, setOpenNoSale] = useState(false);\r\n    const [openDrawer, setOpenDrawer] = useState(false);\r\n    const [closeDrawer, setCloseDrawer] = useState(false);\r\n    const [openAddDrop, setOpenAddDrop] = useState(false);\r\n    const [showPrePay, setShowPrePay] = useState(false);\r\n\r\n    let items = [\r\n        { label: 'Add/Drop', command: () => setOpenAddDrop(true) },\r\n        { label: 'Receipts', command: () => history.push('/more/pos/receipts') },\r\n        { label: 'Drawer Summary', command: () => history.push('/more/pos/drawers') },\r\n        { label: 'Open Register', command: () => setOpenDrawer(true) },\r\n        { label: 'Close Register', command: () => setCloseDrawer(true) },\r\n        { label: 'Saved Carts', command: () => history.push('/more/pos/saved-carts') },\r\n    ];\r\n\r\n    const headers = <DrawerSelector />;\r\n    const [height, setHeight] = useState(0);\r\n    const ref = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setHeight(ref?.current?.clientHeight);\r\n    }, [setHeight]);\r\n\r\n    const handleQuickCash = () => {\r\n        ifCartValidated() && onCheckout({ paymentType: [{ type: 'CASH', amount: gradTotal }], printReceiept: false, setLoading });\r\n    };\r\n\r\n    console.log(memberDetail?.prepayBalance >= gradTotal, 'prePay');\r\n\r\n    const handlePrePay = () => {\r\n        ifCartValidated() &&\r\n            memberDetail?.prepayBalance >= gradTotal &&\r\n            memberDetail?.prepayBalance !== 0 &&\r\n            onCheckout({ paymentType: [{ type: 'PRE_PAY', amount: gradTotal }], printReceiept: false, setLoading: setLoading1 });\r\n    };\r\n\r\n    const handleNoSale = () => {\r\n        if (!drawer) {\r\n            dispatch(showToast({ severity: 'error', summary: 'Please select a drawer to proceed further.' }));\r\n            return;\r\n        }\r\n        setOpenNoSale(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"h-full flex flex-column justify-content-between\">\r\n            <div className=\"h-full\">\r\n                <CustomCard\r\n                    extraClassName=\"h-full flex flex-column\"\r\n                    bodyClassName=\"h-full\"\r\n                    title=\"Cart\"\r\n                    col={12}\r\n                    name=\"More Options\"\r\n                    headers={headers}\r\n                    onClick={(event) => menu.current.toggle(event)}\r\n                >\r\n                    <div className=\"h-full flex flex-column justify-content-between\" ref={ref}>\r\n                        <div style={{ maxHeight: `${height - 200}px`, overflowY: 'auto' }}>\r\n                            {cartItems?.length ? (\r\n                                <>\r\n                                    {cartItems?.map((item, i) => (\r\n                                        <CustomAnimatedCard key={item?._id}>\r\n                                            <CartItem\r\n                                                index={i}\r\n                                                item={item}\r\n                                                onDeleteCartItem={onDeleteCartItem}\r\n                                                onQtyChange={onQtyChange}\r\n                                                onWaiveTax={onWaiveTax}\r\n                                                onOverrideDiscount={onOverrideDiscount}\r\n                                                onAddSpecialDiscount={onAddSpecialDiscount}\r\n                                                onRemoveSpecialDiscount={onRemoveSpecialDiscount}\r\n                                            />\r\n                                        </CustomAnimatedCard>\r\n                                    ))}\r\n                                </>\r\n                            ) : (\r\n                                <Lottie style={{ height: '90%' }} animationData={emptyCartAnimation} loop={true} />\r\n                            )}\r\n                        </div>\r\n                        <div>\r\n                            <CartDetails\r\n                                cartItems={cartItems}\r\n                                cartDetails={cartDetails}\r\n                                setAppliedPromo={setAppliedPromo}\r\n                                appliedPromo={appliedPromo}\r\n                                onOpenSaveCartPopup={onOpenSaveCartPopup}\r\n                                onOpenCheckout={onOpenCheckout}\r\n                                memberDetail={memberDetail}\r\n                                showPrePay={showPrePay}\r\n                                setShowPrePay={setShowPrePay}\r\n                                additionalPrePay={additionalPrePay}\r\n                                setAdditionalPrePay={setAdditionalPrePay}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </CustomCard>\r\n            </div>\r\n            <div className=\"flex gap-2\">\r\n                <CustomButton className=\"w-full px-2\" label=\"No Sale\" severity=\"secondary\" onClick={handleNoSale} />\r\n                <PrimaryButton className=\"w-full px-1\" label=\"Quick Cash\" onClick={handleQuickCash} loading={loading} />\r\n                <PrimaryButton className=\"w-full px-2\" label=\"Pre-Pay\" onClick={handlePrePay} loading={loading1} />\r\n                <PrimaryButton className=\"w-full px-1\" label=\"Card File\" />\r\n            </div>\r\n\r\n            <NoSalePopup visible={openNoSale} setVisible={setOpenNoSale} />\r\n            <QuickCashPopup visible={openQuickCash} setVisible={setOpenQuickCash} cartDetails={cartDetails} onCheckout={onCheckout} />\r\n            <AddDropPopup visible={openAddDrop} setVisible={setOpenAddDrop} />\r\n            <OpenDrawerModel visible={openDrawer} setVisible={setOpenDrawer} />\r\n            <CloseDraweModel visible={closeDrawer} setVisible={setCloseDrawer} />\r\n            <Menu model={items} popup ref={menu} />\r\n            <SelectDiscountPopup visible={discountPopup} setVisible={setDiscountPopup} onApply={onApplyDiscount} />\r\n            <SpecialDiscountPopup visible={specialDiscountPopup} setVisible={setSpecialDiscountPopup} onApply={onApplySpecialDiscount} />\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomDropDown } from '../../../shared/Input/AllInputs';\r\nimport { useState } from 'react';\r\nimport { useMemo } from 'react';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function VariationPopup({ visible, onCancel, onAddItemIntoCart }) {\r\n    const [data, setData] = useState({\r\n        variation: '',\r\n        subVariation: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        setData({\r\n            variation: '',\r\n            subVariation: '',\r\n        });\r\n    }, [visible]);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const variationsDropdown = useMemo(() => {\r\n        return visible?.variations.map((item) => ({ ...item, variationId: item._id, name: item.variationName }));\r\n    }, [visible]);\r\n\r\n    const subVariationDropdown = useMemo(() => data?.variation?.subVariations?.map((item) => ({ ...item, name: item.subVariation })), [data?.variation]);\r\n\r\n    const onAddVariationInCart = () => {\r\n        if (data?.subVariation) {\r\n            let product = visible;\r\n            let { netPrice, defaultQuantity, minimumQuantity, maximumQuantity, _id, name } = data?.subVariation;\r\n\r\n            let productObj = {\r\n                ...product,\r\n                subVariationId: _id,\r\n                itemCaption: `${product?.itemCaption}(${name})`,\r\n                netPrice,\r\n                defaultQuantity,\r\n                minimumQuantity,\r\n                maximumQuantity,\r\n            };\r\n\r\n            onAddItemIntoCart(productObj);\r\n            onCancel();\r\n        }\r\n    };\r\n    return (\r\n        <CustomDialog title=\"Select Variation\" visible={visible} onCancel={onCancel} onSave={onAddVariationInCart} saveLabel=\"Add To Cart\">\r\n            <CustomDropDown data={data} onChange={handleChange} col={12} label=\"Variations\" name=\"variation\" options={variationsDropdown} />\r\n            <CustomDropDown data={data} onChange={handleChange} col={12} label=\"Sub Variations\" name=\"subVariation\" options={subVariationDropdown} />\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomInput } from '../../../shared/Input/AllInputs';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { onSaveCartAction } from '../../../redux/actions/POS/savedCartActions';\r\nimport { showToast } from '../../../redux/actions/toastAction';\r\n\r\nexport default function SaveCartPopup({ visible, onCancel, onCartSaved, details }) {\r\n    const dispatch = useDispatch();\r\n    const [data, setData] = useState({\r\n        name: '',\r\n    });\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n    const onSave = () => {\r\n        if (data.name) {\r\n            if (details?.selectedMember) {\r\n                let payload = {\r\n                    member: details?.selectedMember,\r\n                    name: data?.name,\r\n                    amount: details?.cartDetails?.gradTotal,\r\n                    items: details?.selectedItems,\r\n                };\r\n                dispatch(\r\n                    onSaveCartAction(payload, setLoading, () => {\r\n                        onCartSaved();\r\n                        setData({ name: '' });\r\n                    }),\r\n                );\r\n            } else {\r\n                dispatch(showToast({ severity: 'warn', summary: 'Member not selected.' }));\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <CustomDialog title=\"Save Cart\" visible={visible} onCancel={onCancel} onSave={onSave} loading={loading}>\r\n            <CustomInput col={12} data={data} onChange={handleChange} name=\"name\" />\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { CustomAsyncReactSelect } from '../../../shared/Input/AllInputs';\r\n\r\nexport default function SearchCatalog({ onSelectProduct }) {\r\n    let { posCatalog } = useSelector((state) => state.catalogItems);\r\n    const options = useMemo(() => {\r\n        let arr = [];\r\n        posCatalog.forEach((item) => {\r\n            if (item.variations?.length) {\r\n                item.variations.forEach((variation) => {\r\n                    variation.subVariations.forEach((subVariationItem) => {\r\n                        let { netPrice, defaultQuantity, minimumQuantity, maximumQuantity, _id, subVariation, upc } = subVariationItem;\r\n                        let productObj = {\r\n                            ...item,\r\n                            subVariationId: _id,\r\n                            itemCaption: `${item?.itemCaption}(${subVariation})`,\r\n                            netPrice,\r\n                            defaultQuantity,\r\n                            minimumQuantity,\r\n                            maximumQuantity,\r\n                            variations: [],\r\n                        };\r\n                        arr.push({ name: `${item.name} ${subVariation}(${upc})`, value: productObj });\r\n                    });\r\n                });\r\n            }\r\n            arr.push({ name: `${item.name} (${item.upc})`, value: item });\r\n        });\r\n\r\n        return arr;\r\n    }, [posCatalog]);\r\n\r\n    return (\r\n        <div>\r\n            <CustomAsyncReactSelect\r\n                name=\"memberSell\"\r\n                field=\"fullName\"\r\n                suggestions={[]}\r\n                options={options}\r\n                placeholder=\"Search by Item\"\r\n                showLabel={false}\r\n                onChange={({ value }) => onSelectProduct(value)}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\r\nimport CustomDialog from '../../../shared/Overlays/CustomDialog';\r\nimport { CustomButton } from '../../../shared/Button/CustomButton';\r\nimport { CustomCheckbox, CustomInputNumber } from '../../../shared/Input/AllInputs';\r\nimport { formatLetter } from '../../../utils/commonFunctions';\r\n\r\nexport default function CheckoutPopup({ visible, onCancel, cartDetails, onCheckout, memberDetail }) {\r\n    let { tax, discount, specialDiscount, promoDiscount, waivedTaxAmount, gradTotal, netTotal } = cartDetails;\r\n    const [method, setMethod] = useState([]);\r\n    const [printReceiept, setPrintReceiept] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    let paymentMethods = ['CASH', 'CHEQUE', 'CLUB', 'COUPON'];\r\n    if (memberDetail?.prepayBalance) {\r\n        paymentMethods.splice(2, 0, 'PRE_PAY');\r\n    }\r\n    useEffect(() => {\r\n        setMethod([{ type: 'CASH', amount: gradTotal }]);\r\n    }, [gradTotal]);\r\n\r\n    const onClose = () => {\r\n        onCancel();\r\n    };\r\n    const onSubmit = () => {\r\n        onCheckout({ paymentType: method, printReceiept, setLoading });\r\n    };\r\n\r\n    const handleMethodToggle = (type) => {\r\n        setMethod((prev) => {\r\n            const exists = prev.find((method) => method.type === type);\r\n            if (exists && prev.length === 1) {\r\n                return prev.map((method) => ({ ...method, amount: gradTotal }));\r\n            }\r\n            if (exists) {\r\n                const remainingMethods = prev.filter((method) => method.type !== type);\r\n                if (remainingMethods.length === 1) {\r\n                    return remainingMethods.map((method) => ({ ...method, amount: gradTotal }));\r\n                }\r\n                const totalRemainingAmount = remainingMethods.reduce((sum, method) => sum + method.amount, 0);\r\n                const removedAmount = exists.amount;\r\n                const adjustedMethods = remainingMethods.map((method) => ({\r\n                    ...method,\r\n                    amount: parseInt(((method.amount / totalRemainingAmount) * (totalRemainingAmount + removedAmount)).toFixed(0)),\r\n                }));\r\n\r\n                return adjustedMethods;\r\n            }\r\n            return [...prev, { type, amount: 0 }];\r\n        });\r\n    };\r\n    const handleAmountChange = (type, amount) => {\r\n        adjustAmounts(type, amount, gradTotal);\r\n    };\r\n    const adjustAmounts = useCallback(\r\n        (updatedMethodType, enteredAmount, finalTotal) => {\r\n            setMethod((prev) => {\r\n                const cappedEnteredAmount = Math.min(enteredAmount, finalTotal);\r\n                let remainingTotal = finalTotal - cappedEnteredAmount;\r\n                const updatedMethods = prev.map((method) => (method.type === updatedMethodType ? { ...method, amount: cappedEnteredAmount } : method));\r\n                const otherMethods = updatedMethods.filter((method) => method.type !== updatedMethodType);\r\n                const totalOtherAmounts = otherMethods.reduce((sum, method) => sum + method.amount, 0);\r\n                return updatedMethods.map((method) => {\r\n                    if (method.type === updatedMethodType) {\r\n                        return method;\r\n                    }\r\n\r\n                    if (remainingTotal === 0 || totalOtherAmounts === 0) {\r\n                        return { ...method, amount: 0 };\r\n                    }\r\n\r\n                    const adjustedAmount = (method.amount / totalOtherAmounts) * remainingTotal;\r\n\r\n                    console.log(adjustedAmount);\r\n                    return { ...method, amount: parseInt(adjustedAmount.toFixed(0)) };\r\n                });\r\n            });\r\n        },\r\n        [setMethod],\r\n    );\r\n\r\n    console.log(method);\r\n\r\n    return (\r\n        <CustomDialog title=\"Complete Sale\" visible={visible} onCancel={onClose} onSave={onSubmit} saveLabel=\"Finish\" loading={loading} width={'60vw'}>\r\n            <div className=\"grid\">\r\n                <div className=\"col-2\">\r\n                    {paymentMethods.map((type) => (\r\n                        <CustomButton\r\n                            key={type}\r\n                            className={`w-full px-4 ${method.find((m) => m.type === type) ? 'btn-dark' : ' btn-lightblue'}`}\r\n                            onClick={() => handleMethodToggle(type)}\r\n                        >\r\n                            {formatLetter(type)}\r\n                        </CustomButton>\r\n                    ))}\r\n                </div>\r\n                <div className=\"col flex flex-column pb-1\">\r\n                    <div className=\"text-sm font-semibold mb-1\">Payment Method</div>\r\n                    <div className=\"border-round-md border-1 border-gray-300 py-2 px-3 h-full\">\r\n                        {method.map((met) => (\r\n                            <div key={met.type} className=\"flex align-items-center justify-content-between mb-2 mr-5\">\r\n                                <div className=\"mr-2\">{met.type}:</div>\r\n                                {console.log(met.amount)}\r\n                                <CustomInputNumber\r\n                                    name={formatLetter(met.type)}\r\n                                    value={met.amount}\r\n                                    onChange={(e) => handleAmountChange(met.type, e.value)}\r\n                                    placeholder=\"Enter amount\"\r\n                                    min={0}\r\n                                    max={gradTotal}\r\n                                    showLabel={false}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"grid\">\r\n                <div className=\"col-2\">\r\n                    <CustomCheckbox\r\n                        label=\"printReceiept\"\r\n                        col={12}\r\n                        value={printReceiept}\r\n                        onChange={({ value }) => {\r\n                            setPrintReceiept(value);\r\n                        }}\r\n                    />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <div className=\"border-round-md border-1 border-gray-300 py-2 px-3\">\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Net Total:</div>\r\n                            <div className=\"font-medium \">${netTotal?.toFixed(2)}</div>\r\n                        </div>\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Tax:</div>\r\n                            <div className=\"font-medium text-red-600\">+${tax?.toFixed(2)}</div>\r\n                        </div>\r\n                        {discount > 0 && (\r\n                            <div className=\"flex justify-content-between\">\r\n                                <div className=\"text-dark-gray\">Discounts:</div>\r\n                                <div className=\"font-medium text-green-600\">-${discount?.toFixed(2)}</div>\r\n                            </div>\r\n                        )}\r\n                        {specialDiscount > 0 && (\r\n                            <div className=\"flex justify-content-between\">\r\n                                <div className=\"text-dark-gray\">Special Discount:</div>\r\n                                <div className=\"font-medium text-green-600\">-${specialDiscount?.toFixed(2)}</div>\r\n                            </div>\r\n                        )}\r\n                        {promoDiscount > 0 && (\r\n                            <div className=\"flex justify-content-between\">\r\n                                <div className=\"text-dark-gray\">Promo Discount:</div>\r\n                                <div className=\"font-medium text-green-600\">-${promoDiscount?.toFixed(2)}</div>\r\n                            </div>\r\n                        )}\r\n                        {waivedTaxAmount > 0 && (\r\n                            <div className=\"flex justify-content-between\">\r\n                                <div className=\"text-dark-gray\">Waived Tax:</div>\r\n                                <div className=\"font-medium text-green-600\">-${waivedTaxAmount?.toFixed(2)}</div>\r\n                            </div>\r\n                        )}\r\n                        <div className=\"flex justify-content-between\">\r\n                            <div className=\"text-dark-gray\">Final Total:</div>\r\n                            <div className=\"font-medium \">${gradTotal?.toFixed(2)}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CustomDialog>\r\n    );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport SearchMembers from './Cart/SearchMembers';\r\nimport Categories from './Category/Categories';\r\nimport CatalogItems from './Catalog/CatalogItems';\r\nimport Cart from './Cart/Cart';\r\nimport { calculateDiscountedAmount, calculateTax, roundOfNumber } from '../../utils/taxHelpers';\r\nimport VariationPopup from './Cart/VariationPopup';\r\nimport SaveCartPopup from './Cart/SaveCartPopup';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getSavedCartAction } from '../../redux/actions/POS/savedCartActions';\r\nimport { getRegistersAction } from '../../redux/actions/POS/registerActions';\r\nimport SearchCatalog from './Category/SearchCatalog';\r\nimport CheckoutPopup from './Cart/CheckoutPopup';\r\nimport { showToast } from '../../redux/actions/toastAction';\r\nimport { onCheckoutAction } from '../../redux/actions/POS/saleActions';\r\nimport { PrintReceipt } from '../More/POS/Receipt';\r\nimport { useReactToPrint } from 'react-to-print';\r\nimport { getPreBalance } from '../../redux/actions/POS/PosActions';\r\n\r\nexport default function PointOfSale2() {\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n\r\n    useEffect(() => {\r\n        dispatch(getRegistersAction());\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        let id = location?.state?.savedCartId;\r\n        if (id) {\r\n            dispatch(\r\n                getSavedCartAction(id, (e) => {\r\n                    if (e.items) {\r\n                        setSelectedItems(e.items);\r\n                    }\r\n                }),\r\n            );\r\n        }\r\n    }, [location, dispatch]);\r\n    const { drawer } = useSelector((state) => state.pos);\r\n    const [selectedMember, setSelectedMember] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n    const [appliedPromo, setAppliedPromo] = useState(null);\r\n    const [cartItems, setCartItems] = useState([]);\r\n    const [selectedItems, setSelectedItems] = useState([]);\r\n    const [cartDetails, setCartDetails] = useState({});\r\n    const [additionalPrePay, setAdditionalPrePay] = useState(0);\r\n\r\n    const [variationProduct, setVariationProduct] = useState(null);\r\n    const [memberDetail, setMemberDetail] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [loading1, setLoading1] = useState(false);\r\n\r\n    //PrepayBalance\r\n\r\n    useEffect(() => {\r\n        if (selectedMember) {\r\n            dispatch(\r\n                getPreBalance(selectedMember, (data) => {\r\n                    setMemberDetail(data);\r\n                }),\r\n            );\r\n        } else {\r\n            setMemberDetail(null);\r\n        }\r\n    }, [selectedMember, dispatch]);\r\n\r\n    //Count final detailed price and calculations\r\n    useEffect(() => {\r\n        let netTotal = 0;\r\n        let tax = 0;\r\n        let discount = 0;\r\n        let specialDiscount = 0;\r\n        let promoDiscount = 0;\r\n        let waivedTaxAmount = 0;\r\n        let total = 0;\r\n        let gradTotal = 0;\r\n        cartItems.forEach((item) => {\r\n            netTotal += item?.netPrice * item?.quantity;\r\n            if (item?.defaultDiscount) {\r\n                discount += item?.defaultDiscount?.amountAfterDiscount * item?.quantity;\r\n            }\r\n            if (item?.specialDiscount) {\r\n                specialDiscount += item?.specialDiscount?.amountAfterDiscount * item?.quantity;\r\n            }\r\n            if (item?.promoDiscount) {\r\n                promoDiscount += item?.promoDiscount?.amountAfterDiscount * item?.quantity;\r\n            }\r\n            if (item?.taxWaived) {\r\n                waivedTaxAmount += item?.totalTax;\r\n            }\r\n            tax += item?.totalTax;\r\n            total += item?.finalTotal;\r\n        });\r\n        gradTotal = total + tax - waivedTaxAmount;\r\n        gradTotal = gradTotal + additionalPrePay;\r\n        setCartDetails({ netTotal, total, tax, discount, specialDiscount, promoDiscount, waivedTaxAmount, gradTotal });\r\n    }, [cartItems, additionalPrePay]);\r\n\r\n    //will create cart arr obj from selected items, will calculate all the dynamic pricing and dynamic discounts here\r\n    useEffect(() => {\r\n        let discounts = {};\r\n\r\n        selectedItems.forEach((item) => {\r\n            let { defaultDiscount } = item;\r\n            if (defaultDiscount) {\r\n                if (discounts[defaultDiscount._id]) {\r\n                    discounts[defaultDiscount._id].count = discounts[defaultDiscount._id].count + 1;\r\n                } else {\r\n                    discounts[defaultDiscount._id] = { ...defaultDiscount, count: 1 };\r\n                }\r\n            }\r\n        });\r\n        let _cart = selectedItems.map((item) => {\r\n            item = JSON.parse(JSON.stringify(item));\r\n            let { netPrice } = item;\r\n\r\n            const { quantity, taxPercentage } = item;\r\n            const { allowDiscount, defaultDiscount, specialDiscount } = item;\r\n            let { promoDiscount } = item;\r\n            const { moreThan1, moreThan2, moreThan3, unitDiscount1, unitDiscount2, unitDiscount3 } = item;\r\n\r\n            //Setting up the dynamic pricing according to the individual item count.\r\n            if (quantity > moreThan3) {\r\n                netPrice = netPrice - unitDiscount3;\r\n            } else if (quantity > moreThan2) {\r\n                netPrice = netPrice - unitDiscount2;\r\n            } else if (quantity > moreThan1) {\r\n                netPrice = netPrice - unitDiscount1;\r\n            }\r\n            // here We are getting the final net price after dynamic pricing\r\n            let finalNetPrice = netPrice;\r\n\r\n            //if discounts are allowed on item\r\n            if (allowDiscount) {\r\n                //modifing the defaultDiscount obj according to the number of products using the same discount code\r\n                if (defaultDiscount?.multiItemDiscountCheck) {\r\n                    let count = discounts?.[defaultDiscount?._id]?.count;\r\n\r\n                    if (count) {\r\n                        defaultDiscount?.multiItemDiscount.forEach((discount) => {\r\n                            if (count >= discount?.noOfItems) {\r\n                                defaultDiscount.amount = discount.amount;\r\n                                defaultDiscount.amountType = discount.amountType;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                //calculating the discounts according to the discount type.\r\n                if (defaultDiscount?.amountType === 'FIXED') {\r\n                    defaultDiscount.amountAfterDiscount = defaultDiscount?.amount;\r\n                }\r\n                if (defaultDiscount?.amountType === 'PERCENTAGE') {\r\n                    defaultDiscount.amountAfterDiscount = calculateDiscountedAmount(finalNetPrice, defaultDiscount?.amount);\r\n                }\r\n                //If any discount is applied on item , so we subtract the discount amount from finalNetPrice\r\n                if (defaultDiscount) {\r\n                    finalNetPrice = finalNetPrice - defaultDiscount.amountAfterDiscount;\r\n                }\r\n\r\n                // calculating the special discount according to the type\r\n                if (specialDiscount && specialDiscount?.amountType === 'FIXED') {\r\n                    specialDiscount.amountAfterDiscount = specialDiscount?.amount;\r\n                }\r\n                if (specialDiscount && specialDiscount?.amountType === 'PERCENTAGE') {\r\n                    specialDiscount.amountAfterDiscount = calculateDiscountedAmount(finalNetPrice, specialDiscount?.amount);\r\n                }\r\n                //If any special discount is applied on item, so we subtract the discount amount from finalNetPrice\r\n                if (specialDiscount && specialDiscount?.amountAfterDiscount) {\r\n                    finalNetPrice = finalNetPrice - specialDiscount?.amountAfterDiscount;\r\n                }\r\n\r\n                if (appliedPromo) {\r\n                    promoDiscount = appliedPromo;\r\n\r\n                    if (promoDiscount?.amountType === 'FIXED') {\r\n                        promoDiscount.amountAfterDiscount = promoDiscount?.amount;\r\n                    }\r\n                    if (promoDiscount?.amountType === 'PERCENTAGE') {\r\n                        promoDiscount.amountAfterDiscount = calculateDiscountedAmount(finalNetPrice, promoDiscount?.amount);\r\n                    }\r\n                    //If any discount is applied on item , so we subtract the discount amount from finalNetPrice\r\n                    if (promoDiscount) {\r\n                        finalNetPrice = finalNetPrice - promoDiscount.amountAfterDiscount;\r\n                    }\r\n                }\r\n            }\r\n            finalNetPrice = roundOfNumber(finalNetPrice);\r\n\r\n            const finalTotal = roundOfNumber(finalNetPrice * quantity);\r\n\r\n            const totalTax = calculateTax(finalTotal, taxPercentage);\r\n            netPrice = roundOfNumber(netPrice);\r\n\r\n            return { ...item, promoDiscount, netPrice, finalNetPrice, finalTotal, totalTax };\r\n        });\r\n\r\n        setCartItems(_cart);\r\n    }, [selectedItems, appliedPromo]);\r\n\r\n    //When we add something in selected items.\r\n    const onAddItemIntoCart = (product) => {\r\n        const index = selectedItems.findIndex((item) => item._id === product._id && item.subVariationId === product.subVariationId);\r\n        if (index >= 0) {\r\n            let _selected = [...selectedItems];\r\n            let _item = _selected[index];\r\n            if (_item.quantity < _item.maximumQuantity) {\r\n                _item.quantity = _item.quantity + 1;\r\n            } else {\r\n                return;\r\n            }\r\n            _selected[index] = _item;\r\n            setSelectedItems(_selected);\r\n        } else {\r\n            const { _id, itemCaption, name, subVariationId, type } = product;\r\n            const { defaultQuantity, minimumQuantity, maximumQuantity, allowUnlimited } = product;\r\n            const { netPrice, taxes, allowDiscount, defaultDiscount, overrideDiscount } = product;\r\n            const { moreThan1, moreThan2, moreThan3, unitDiscount1, unitDiscount2, unitDiscount3 } = product;\r\n            const taxPercentage = taxes.reduce((sum, item) => sum + item?.taxRatePercentage, 0);\r\n            const taxWaived = false;\r\n            const dynamicPricing = false;\r\n            const quantity = defaultQuantity;\r\n\r\n            const specialDiscount = null;\r\n            let obj = {\r\n                _id,\r\n                subVariationId,\r\n                name,\r\n                itemCaption,\r\n                type,\r\n                taxWaived,\r\n\r\n                netPrice,\r\n                dynamicPricing,\r\n\r\n                promoDiscount: null,\r\n                defaultDiscount,\r\n                specialDiscount,\r\n                allowDiscount,\r\n                overrideDiscount,\r\n\r\n                taxes,\r\n                taxPercentage,\r\n\r\n                defaultQuantity,\r\n                minimumQuantity,\r\n                maximumQuantity,\r\n                quantity,\r\n                allowUnlimited,\r\n\r\n                moreThan1,\r\n                moreThan2,\r\n                moreThan3,\r\n                unitDiscount1,\r\n                unitDiscount2,\r\n                unitDiscount3,\r\n            };\r\n            setSelectedItems((prev) => {\r\n                return [...prev, obj];\r\n            });\r\n        }\r\n    };\r\n\r\n    const onSelectProduct = (product) => {\r\n        if (product?.variations?.length) {\r\n            setVariationProduct(product);\r\n        } else {\r\n            onAddItemIntoCart(product);\r\n        }\r\n    };\r\n\r\n    const onCloseVariation = () => {\r\n        setVariationProduct(null);\r\n    };\r\n\r\n    const [saveCartPopup, setSaveCartPopup] = useState(false);\r\n    const onCloseSaveCartPopup = () => {\r\n        setSaveCartPopup(false);\r\n    };\r\n\r\n    const onOpenSaveCartPopup = () => {\r\n        if (!selectedItems.length) {\r\n            dispatch(showToast({ severity: 'warn', summary: 'Your cart is empty. Add items to proceed.' }));\r\n            return;\r\n        }\r\n        if (!selectedMember) {\r\n            dispatch(showToast({ severity: 'warn', summary: 'Please select a member to continue.' }));\r\n            return;\r\n        }\r\n        setSaveCartPopup(true);\r\n    };\r\n\r\n    const onCartSaved = () => {\r\n        setSaveCartPopup(false);\r\n        setSelectedItems([]);\r\n    };\r\n\r\n    const [checkoutPopup, setCheckoutPopup] = useState(false);\r\n    const [receiptData, setReceiptData] = useState({});\r\n    const printRef = useRef();\r\n\r\n    const handlePrint = useReactToPrint({\r\n        content: () => printRef.current,\r\n    });\r\n\r\n    const ifCartValidated = () => {\r\n        if (!drawer) {\r\n            dispatch(showToast({ severity: 'warn', summary: 'Please select drawers to proceed with checkout.' }));\r\n            return;\r\n        }\r\n        if (!selectedItems.length) {\r\n            dispatch(showToast({ severity: 'warn', summary: 'Your cart is empty. Add items to proceed.' }));\r\n            return;\r\n        }\r\n        if (!selectedMember) {\r\n            dispatch(showToast({ severity: 'warn', summary: 'Please select a member to continue.' }));\r\n            return;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    const onOpenCheckout = () => {\r\n        ifCartValidated() && setCheckoutPopup(true);\r\n    };\r\n    const onCloseCheckout = () => {\r\n        setCheckoutPopup(false);\r\n    };\r\n\r\n    const onCheckout = ({ paymentType, printReceiept, setLoading }) => {\r\n        let payload = {\r\n            member: selectedMember,\r\n            paymentType: paymentType,\r\n            amount: cartDetails?.gradTotal,\r\n            cartItems,\r\n            cartDetails,\r\n            cashRegister: drawer,\r\n            additionalPrePay,\r\n        };\r\n        dispatch(\r\n            onCheckoutAction(payload, setLoading, (e) => {\r\n                setSelectedItems([]);\r\n                setSelectedMember('');\r\n                onCloseCheckout();\r\n                setAdditionalPrePay(0);\r\n                if (printReceiept) {\r\n                    setReceiptData(e);\r\n                }\r\n            }),\r\n        );\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (receiptData?._id) {\r\n            handlePrint();\r\n        }\r\n        //eslint-disable-next-line\r\n    }, [receiptData]);\r\n\r\n    console.log(selectedCategory, 'selectedCategory');\r\n\r\n    return (\r\n        <div className=\"pos grid\">\r\n            <div className=\"col-2 flex flex-column\">\r\n                <SearchCatalog onSelectProduct={onSelectProduct} />\r\n                <Categories active={selectedCategory} setActive={setSelectedCategory} />\r\n            </div>\r\n            <div className=\"col-6 flex flex-column\">\r\n                <CatalogItems selectedCategory={selectedCategory} onSelectProduct={onSelectProduct} />\r\n            </div>\r\n            <div className=\"col-4 flex flex-column\">\r\n                <SearchMembers selectedMember={selectedMember} setSelectedMember={setSelectedMember} />\r\n                <Cart\r\n                    cartItems={cartItems}\r\n                    setSelectedItems={setSelectedItems}\r\n                    cartDetails={cartDetails}\r\n                    setAppliedPromo={setAppliedPromo}\r\n                    appliedPromo={appliedPromo}\r\n                    onOpenSaveCartPopup={onOpenSaveCartPopup}\r\n                    onOpenCheckout={onOpenCheckout}\r\n                    ifCartValidated={ifCartValidated}\r\n                    onCheckout={onCheckout}\r\n                    memberDetail={memberDetail}\r\n                    loading={loading}\r\n                    loading1={loading1}\r\n                    setLoading={setLoading}\r\n                    setLoading1={setLoading1}\r\n                    additionalPrePay={additionalPrePay}\r\n                    setAdditionalPrePay={setAdditionalPrePay}\r\n                />\r\n            </div>\r\n            <VariationPopup visible={variationProduct} onCancel={onCloseVariation} onAddItemIntoCart={onAddItemIntoCart} />\r\n            <SaveCartPopup\r\n                visible={saveCartPopup}\r\n                onCancel={onCloseSaveCartPopup}\r\n                details={{ selectedMember, selectedItems, cartDetails }}\r\n                onCartSaved={onCartSaved}\r\n            />\r\n\r\n            <CheckoutPopup onCheckout={onCheckout} cartDetails={cartDetails} visible={checkoutPopup} onCancel={onCloseCheckout} memberDetail={memberDetail} />\r\n            <div className=\"hidden\">\r\n                <PrintReceipt ref={printRef} data={receiptData} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["SearchMembers","_ref","selectedMember","setSelectedMember","dispatch","useDispatch","allMembers","useSelector","state","membersPortal","members","recentMembers","pos","options","useMemo","map","item","name","concat","firstName","MI","lastName","value","_id","suggestions","useEffect","getMembers","addRecentMemberAction","_jsx","children","CustomAsyncReactSelect","placeholder","showLabel","onChange","_ref2","Categories","active","setActive","allCategory","category","categories","filter","hasCatalog","displayInPos","getCategories","className","_jsxs","onClick","posButtonLabel","FilterPopup","visible","onClose","filters","onApplyFilters","filterSetDropDown","filterSet","tagsDropDown","tags","data","setData","useState","handleChange","prev","CustomDialog","icon","title","onCancel","onApply","onClear","CustomCheckBoxInput","label","CatalogItems","selectedCategory","onSelectProduct","posCatalog","catalogs","getCatalogItems","getFilterSets","getTags","console","log","type","setFilters","setVisible","_filters$filters","_filters$tags","arr","length","some","includes","tag","_Fragment","CustomCard","extraClassName","bodyClassName","col","style","maxHeight","overflowY","i","Item","index","props","CustomAnimatedCard","src","getImageURL","catalogImage","alt","itemCaption","aspectRatio","onError","e","target","roundOfNumber","netPrice","SelectDiscountPopup","allDiscountTypes","discountType","allDiscountDropdown","discountName","getDiscountTypes","_visible$item","discount","onSubmit","_newDiscount","CustomDropDown","SpecialDiscountPopup","amountType","amount","CustomGridLayout","amountTypeOptions","CustomInputNumber","required","maxFractionDigits","CartItem","onDeleteCartItem","onWaiveTax","onQtyChange","onOverrideDiscount","onAddSpecialDiscount","onRemoveSpecialDiscount","taxWaived","allowDiscount","defaultDiscount","overrideDiscount","specialDiscount","promoDiscount","waivedTaxAmount","finalNetPrice","finalTotal","minimumQuantity","maximumQuantity","quantity","allowUnlimited","discountTemplate","obj","onRemove","removeSpecialDiscount","onDec","_qty","minWidth","onInc","event","confirmPopup","currentTarget","message","rejectClassName","acceptClassName","defaultFocus","accept","reject","showDiscountMenu","discountCode","showSpecialDiscount","validatePromoCodeAction","promoCode","next","async","res","api","endPoints","VALIDATE_PROMO_CODE","getPreBalance","memberId","returnData","PREPAY_BALANCE","id","success","showToast","severity","summary","CartDetails","cartDetails","setAppliedPromo","appliedPromo","onOpenSaveCartPopup","onOpenCheckout","cartItems","memberDetail","showPrePay","setShowPrePay","additionalPrePay","setAdditionalPrePay","tax","gradTotal","netTotal","promo","setPromo","msgs","useRef","handleAddPrePay","roundedTotal","Math","ceil","additionalAmount","toFixed","parsedValue","parseInt","width","prepayBalance","onRemovePromo","validatePromo","trim","current","show","detail","Messages","ref","PrimaryButton","CustomButton","CashCalculator","pennies","nickels","dimes","quarters","singles","fives","tens","twenties","fifties","hundreds","sum","Object","keys","denominationsToDollarConverter","reduce","a","b","increaseValue","_ref3","decreseValue","_ref4","CustomInputCurrentChange","onAdd","onSub","disabled","prefix","validateAccessCodeAction","accessCode","setLoading","VALIDATE_ACCESS_CODE","OpenDrawerModel","_register$closedBy","_register$closedBy2","_register$closedBy3","_register$closedBy4","register","totalCash","comment","access","setAccess","setRegister","loading","registers","registersDropdown","registerStatus","getRegisterAction","onSave","startRegisterAction","saveLabel","CustomTextArea","CustomListItem","closedBy","updatedAt","CustomInput","autocomplete","CloseDraweModel","_registerStatus$opene","_registerStatus$opene2","_registerStatus$opene3","_registerStatus$opene4","_e$sales","_e$sales2","_e$addDrop","_e$addDrop2","sales","setSales","cash","CASH","cheque","CHEQUE","setAddDrop","add","addDrop","ADD","drop","DROP","openedBy","openedAt","createdAt","cashAtStart","cashSale","cashAdd","cashDrop","amountToLeftIn","cashDifference","_total","totalCashOut","_finalTotal","closeRegisterAction","DrawerSelector","drawer","_drawer","localStorage","getItem","find","onSelectDrawerAction","setItem","initialData","paymentType","formErrors","formValidation","showFormErrors","cashRegister","addDropCheck","POS","ADD_DROP","addDropOptions","autoComplete","reasonCode","noSaleReasons","NO_SALE_REASON_CODE","types","payload","getNoSaleReasons","addNoSale","optionLabel","optionValue","onCheckout","returnMoney","getReasonsDetails","checkoutHandler","method","printReceiept","applyLabel","applydisabled","Cart","setSelectedItems","ifCartValidated","loading1","setLoading1","history","useHistory","menu","discountPopup","setDiscountPopup","specialDiscountPopup","setSpecialDiscountPopup","_arr","splice","qty","_prev","condition","_obj","openQuickCash","setOpenQuickCash","openNoSale","setOpenNoSale","openDrawer","setOpenDrawer","closeDrawer","setCloseDrawer","openAddDrop","setOpenAddDrop","items","command","push","headers","height","setHeight","_ref$current","clientHeight","toggle","Lottie","animationData","emptyCartAnimation","loop","handleNoSale","handleQuickCash","handlePrePay","NoSalePopup","QuickCashPopup","AddDropPopup","Menu","model","popup","onApplyDiscount","onApplySpecialDiscount","VariationPopup","onAddItemIntoCart","variation","subVariation","variationsDropdown","variations","variationId","variationName","subVariationDropdown","_data$variation","_data$variation$subVa","subVariations","onAddVariationInCart","product","defaultQuantity","productObj","subVariationId","SaveCartPopup","onCartSaved","details","_details$cartDetails","member","selectedItems","onSaveCartAction","SearchCatalog","catalogItems","forEach","_item$variations","subVariationItem","upc","field","CheckoutPopup","setMethod","setPrintReceiept","paymentMethods","adjustAmounts","useCallback","updatedMethodType","enteredAmount","cappedEnteredAmount","min","remainingTotal","updatedMethods","otherMethods","totalOtherAmounts","adjustedAmount","m","exists","remainingMethods","totalRemainingAmount","removedAmount","adjustedMethods","handleMethodToggle","formatLetter","met","handleAmountChange","max","CustomCheckbox","PointOfSale2","location","useLocation","getRegistersAction","_location$state","savedCartId","getSavedCartAction","setSelectedCategory","setCartItems","setCartDetails","variationProduct","setVariationProduct","setMemberDetail","total","_item$defaultDiscount","_item$specialDiscount","_item$promoDiscount","amountAfterDiscount","totalTax","discounts","count","_cart","JSON","parse","stringify","taxPercentage","moreThan1","moreThan2","moreThan3","unitDiscount1","unitDiscount2","unitDiscount3","multiItemDiscountCheck","_discounts$defaultDis","multiItemDiscount","noOfItems","calculateDiscountedAmount","_promoDiscount","_promoDiscount3","_promoDiscount2","_promoDiscount4","calculateTax","findIndex","_selected","_item","taxes","taxRatePercentage","dynamicPricing","_product$variations","saveCartPopup","setSaveCartPopup","checkoutPopup","setCheckoutPopup","receiptData","setReceiptData","printRef","handlePrint","useReactToPrint","content","onCloseCheckout","onCheckoutAction","onCloseVariation","onCloseSaveCartPopup","PrintReceipt"],"sourceRoot":""}