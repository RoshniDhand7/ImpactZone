"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[169],{3585:(e,a,t)=>{t.d(a,{GJ:()=>u,Jb:()=>d,Uf:()=>C,lU:()=>y,mv:()=>l,tG:()=>E,xJ:()=>p});var s=t(2426),n=t.n(s),c=t(1526),i=t(988),r=t(1529),o=t(3048),m=t(4499);const u=(e,a)=>async t=>{a&&a(!0);const s={employee:e},n=await(0,c.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},s);n.success&&n.data&&t({type:r.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:n.data}),a&&a(!1)},d=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{a(!0);const o={...e,acquiredDate:n()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(e.expirationDate).format("MM/DD/YYYY")},u=await(0,c.Z)("post",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,o);u.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(u.data._id,"/").concat(s)):t.goBack(),r((0,m.C)({severity:"success",summary:u.message}))),a(!1)}},l=(e,a)=>async t=>{t((0,o.f)());const s=await(0,c.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,o.t)())},E=function(e,a,t,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async o=>{t(!0);const u={...a,acquiredDate:n()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(a.expirationDate).format("MM/DD/YYYY")},d=await(0,c.Z)("put",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,u);d.success&&(r?s.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(r)):s.goBack(),o((0,m.C)({severity:"success",summary:d.message}))),t(!1)}},p=(e,a)=>async t=>{const s=await(0,c.Z)("delete",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success?(t((0,m.C)({severity:"success",summary:s.message})),a()):t((0,m.C)({severity:"error",summary:s.message}))},C=(e,a,t)=>async s=>{a&&a(!0);const n=await(0,c.Z)("get",i.Z.NOTES,"",{employee:e});n.success&&n.data&&t&&t(n.data),a&&a(!1)},y=(e,a,t)=>async s=>{a(!0);const n=await(0,c.Z)("post",i.Z.NOTES,e);n.success?(s((0,m.C)({severity:"success",summary:n.message})),t()):s((0,m.C)({severity:"error",summary:n.message})),a(!1)}},3169:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var s=t(2791),n=t(6886),c=t(3e3),i=t(952),r=t(9434),o=t(4880),m=t(7480),u=t(3585),d=t(184);const l=()=>{const{id:e,employeeId:a}=(0,o.UO)(),t=(0,r.I0)(),l=(0,o.k6)(),[E,p]=(0,s.useState)({name:"",certificationNumber:"",issuer:"",acquiredDate:"",expirationDate:"",uploadCertificate:"",employee:""});(0,s.useEffect)((()=>{e?t((0,u.mv)(e,(e=>{p({name:e.name,certificationNumber:e.certificationNumber,issuer:e.issuer,acquiredDate:e.acquiredDate?new Date:"",expirationDate:e.expirationDate?new Date:"",uploadCertificate:e.uploadCertificate?[e.uploadCertificate]:[],description:e.description,employee:a})}))):p({...E,employee:a})}),[e,t]);const[C,y]=(0,s.useState)(!1),g=e=>{let{name:a,value:t}=e;p((e=>({...e,[a]:t})))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(n.Z,{backText:"Certifications",children:[(0,d.jsx)(c.ZP,{col:"12",title:"Personal",children:(0,d.jsxs)(c.R0,{children:[(0,d.jsx)(i.t7,{name:"name",data:E,onChange:g}),(0,d.jsx)(i.t7,{name:"certificationNumber",data:E,onChange:g}),(0,d.jsx)(i.t7,{name:"issuer",data:E,onChange:g}),(0,d.jsx)(i.FB,{name:"acquiredDate",data:E,onChange:g}),(0,d.jsx)(i.FB,{name:"expirationDate",data:E,onChange:g}),(0,d.jsx)(i.Ks,{name:"description",data:E,onChange:g})]})}),(0,d.jsxs)(m.GG,{children:[(0,d.jsx)(m.ZP,{label:"Save",className:"mx-2",loading:C,onClick:()=>{t(e?(0,u.tG)(e,E,y,l):(0,u.Jb)(E,y,l))}}),(0,d.jsx)(m.ah,{label:"Cancel",onClick:()=>l.replace("/settings/employee")})]})]})})}}}]);
//# sourceMappingURL=169.e285fbad.chunk.js.map