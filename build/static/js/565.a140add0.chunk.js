"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[565],{3585:(e,s,a)=>{a.d(s,{GJ:()=>r,Jb:()=>m,Uf:()=>y,lU:()=>h,mv:()=>u,tG:()=>v,xJ:()=>x});var t=a(2426),n=a.n(t),i=a(1526),l=a(988),o=a(1529),d=a(3048),c=a(4499);const r=(e,s)=>async a=>{s&&s(!0);const t={employee:e},n=await(0,i.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},t);n.success&&n.data&&a({type:o.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:n.data}),s&&s(!1)},m=function(e,s,a){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async o=>{s(!0);const d={...e,acquiredDate:n()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(e.expirationDate).format("MM/DD/YYYY")},r=await(0,i.Z)("post",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,d);r.success&&(t?a.replace("/settings/employee/manage-employee/edit/".concat(r.data._id,"/").concat(t)):a.goBack(),o((0,c.C)({severity:"success",summary:r.message}))),s(!1)}},u=(e,s)=>async a=>{a((0,d.f)());const t=await(0,i.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success&&t.data&&s&&s(t.data),a((0,d.t)())},v=function(e,s,a,t){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async d=>{a(!0);const r={...s,acquiredDate:n()(s.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(s.expirationDate).format("MM/DD/YYYY")},m=await(0,i.Z)("put",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,r);m.success&&(o?t.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(o)):t.goBack(),d((0,c.C)({severity:"success",summary:m.message}))),a(!1)}},x=(e,s)=>async a=>{const t=await(0,i.Z)("delete",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(a((0,c.C)({severity:"success",summary:t.message})),s()):a((0,c.C)({severity:"error",summary:t.message}))},y=(e,s,a)=>async t=>{s&&s(!0);const n=await(0,i.Z)("get",l.Z.NOTES,"",{employee:e});n.success&&n.data&&a&&a(n.data),s&&s(!1)},h=(e,s,a)=>async t=>{s(!0);const n=await(0,i.Z)("post",l.Z.NOTES,e);n.success?(t((0,c.C)({severity:"success",summary:n.message})),a()):t((0,c.C)({severity:"error",summary:n.message})),s(!1)}},565:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ne});var t=a(2791),n=a(6886),i=a(9809),l=a(3e3),o=a(7480),d=a(952),c=a(7929),r=a(3890),m=a(9387),u=a(1520),v=a(9434),x=a(4880),y=a(4418),h=a(2433),p=a(7099),C=a(184);const j=()=>{var e;const s=(0,v.I0)(),{id:a}=(0,x.UO)(),n=(0,x.k6)(),[i,j]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s((0,h.ip)()),s((0,p.Oh)())}),[s]);let{allSecurityRoles:g}=(0,v.v9)((e=>null===e||void 0===e?void 0:e.securityRole));g=null===(e=g)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,t.useEffect)((()=>{a&&s((0,y.Jf)(a,(e=>{f({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn.toString(),securityRoles:e.securityRoles})})))}),[a,s]);const{allJobTitle:T}=(0,v.v9)((e=>e.jobTitle)),[E,f]=(0,t.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:"",dob:"",socialSecurity:"",barCode:"",accessCode:"",email:"",multiClubClockIn:"",securityRoles:[]}),P=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,E);f((e=>({...e,[s]:a,formErrors:t})))},N=e=>{(0,u.Ao)(E,f,["jobTitle"])&&s(a?(0,y.to)(a,E,j,n,e):(0,y.tx)(E,j,n,e))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.ZP,{col:"12",title:"Personal",children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.t7,{name:"firstName",required:!0,col:3,data:E,onChange:P}),(0,C.jsx)(d.t7,{name:"middleInitial",col:1,data:E,onChange:P}),(0,C.jsx)(d.t7,{name:"lastName",required:!0,data:E,onChange:P}),(0,C.jsx)(d.T3,{name:"jobTitle",data:E,onChange:P,options:null===T||void 0===T?void 0:T.map(((e,s)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,C.jsx)(d.FB,{name:"dob",data:E,onChange:P}),(0,C.jsx)(d.t7,{name:"socialSecurity",data:E,onChange:P})]})}),(0,C.jsx)(l.ZP,{col:"12",title:"System",children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.t7,{name:"barCode",required:!0,data:E,onChange:P}),(0,C.jsx)(d.t7,{name:"accessCode",required:!0,data:E,onChange:P}),(0,C.jsx)(d.t7,{name:"email",required:!0,data:E,onChange:P}),(0,C.jsx)(d.T3,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:c.yM,data:E,onChange:P})]})}),(0,C.jsx)(l.ZP,{col:"12",title:"Select Roles",children:(0,C.jsx)("div",{col:12,children:(0,C.jsx)(r.Z,{name:"securityRoles",selected:null===E||void 0===E?void 0:E.securityRoles,sourceData:g,onPickListChange:P})})}),(0,C.jsxs)(o.GG,{children:[(0,C.jsx)(o.ZP,{label:"Save",className:"mx-2",onClick:()=>N(""),loading:i}),(0,C.jsx)(o.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>N("?tab=general"),loading:i}),(0,C.jsx)(o.ah,{label:"Cancel",onClick:()=>n.replace("/settings/employee")})]})]})};var g=a(7162),T=a(7083),E=a(3954),f=a(4053);const P={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},N=e=>{let{name:s,value:a,data:n,onDropChange:i,multiple:l=!0}=e;const[o,d]=(0,t.useState)(a||(null===n||void 0===n?void 0:n[s])||[]);(0,t.useEffect)((()=>{(a||null!==n&&void 0!==n&&n[s])&&JSON.stringify(a||(null===n||void 0===n?void 0:n[s]))!==JSON.stringify(o)&&d(a||(null===n||void 0===n?void 0:n[s]))}),[a||(null===n||void 0===n?void 0:n[s])]),(0,t.useEffect)((()=>{i&&i({name:s,value:o})}),[o,s]);const c=(0,t.useCallback)(((e,s)=>{s.length>0||e.forEach((e=>{o.some((s=>s.name===e.name))?console.log('File "'.concat(e.name,'" is already selected.')):d((s=>[...s,e]))}))}),[o]),{getRootProps:r,getInputProps:m,isDragActive:u,isDragAccept:v,isDragReject:x}=(0,E.uI)({onDrop:c,multiple:l,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),y=(0,t.useMemo)((()=>({...v?{borderColor:"#00e676"}:{},...x?{borderColor:"#ff1744"}:{}})),[v,x]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{...r({style:y}),style:P,children:[(0,C.jsx)("input",{...m()}),u?x?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.q,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.q,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.q,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,C.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,C.jsx)("div",{className:"flex flex-wrap my-2",children:(null===o||void 0===o?void 0:o.length)>0&&(null===o||void 0===o?void 0:o.map(((e,s)=>(0,C.jsx)(g.q,{className:"p-overlay-badge my-2 mr-3",image:(0,f.Q)(e),size:"xlarge",children:(0,C.jsx)(T.C,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{d((s=>s.filter(((s,a)=>a!==e))))})(s)})}))))})]})},S=()=>{const e=(0,v.I0)(),s=(0,x.k6)(),{id:a}=(0,x.UO)(),[n,i]=(0,t.useState)([]),[r,h]=(0,t.useState)([]),[p,j]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(0,u.v9)();const e=(0,u.ec)("US");i(e)}),[e]),(0,t.useEffect)((()=>{a&&e((0,y.Jf)(a,(e=>{var s;T({hireDate:new Date(e.hireDate),terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:null===(s=e.emailNotification)||void 0===s?void 0:s.toString(),onlineNickName:e.onlineNickName,bio:e.bio,image:e.image?[e.image]:[]});const a=(0,u.gb)("US",e.state);h(a)})))}),[a,e]);const[g,T]=(0,t.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",image:[]}),E=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,g);if("state"===s){const e=(0,u.gb)("US",a);h(e),T((e=>({...e,[s]:a,city:"",formErrors:t})))}else T((e=>({...e,[s]:a,formErrors:t})))},f=t=>{(0,u.Ao)(g,T)&&a&&e((0,y.to)(a,g,j,s,t))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.ZP,{col:"12",title:"Employement",children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.FB,{id:"hireDate",name:"hireDate",onChange:E,data:g}),(0,C.jsx)(d.t7,{name:"adpId",onChange:E,data:g})]})}),(0,C.jsx)(l.ZP,{col:"12",title:"Contact",children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.XX,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:g}),(0,C.jsx)(d.XX,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:g}),(0,C.jsx)(d.XX,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:g}),(0,C.jsx)(d.XX,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:g}),(0,C.jsx)(d.XX,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:E,data:g}),(0,C.jsx)(d.t7,{name:"street",onChange:E,data:g}),(0,C.jsx)(d.T3,{name:"state",options:n,onChange:E,data:g}),(0,C.jsx)(d.T3,{name:"city",options:r,onChange:E,data:g}),(0,C.jsx)(d.t7,{name:"zipCode",onChange:E,data:g}),(0,C.jsx)(d.T3,{name:"emailNotification",options:c.yM,onChange:E,data:g})]})}),(0,C.jsxs)(l.ZP,{col:"12",title:"Online",children:[(0,C.jsx)(d.t7,{name:"onlineNickName",onChange:E,data:g}),(0,C.jsx)(d.Ks,{name:"bio",onChange:E,data:g})]}),(0,C.jsx)(l.ZP,{col:"12",title:"Photo",children:(0,C.jsx)(N,{name:"image",onDropChange:E,data:g,multiple:!1})}),(0,C.jsxs)(o.GG,{children:[(0,C.jsx)(o.ZP,{label:"Save",className:"mx-2",onClick:()=>f(""),loading:p}),(0,C.jsx)(o.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>f("?tab=departments"),loading:p}),(0,C.jsx)(o.ah,{label:"Cancel",onClick:()=>s.replace("/settings/employee")})]})]})};var b=a(2666);const A=()=>{const e=(0,v.I0)(),{id:s}=(0,x.UO)(),a=(0,x.k6)();(0,t.useEffect)((()=>{e((0,b.Er)())}),[e]);let{clubsDropdown:n}=(0,v.v9)((e=>e.clubs));const[i,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s&&e((0,y.Jf)(s,(e=>{m({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[s,e]);const[c,m]=(0,t.useState)({reportDataAccess:[],clubs:[]}),u=e=>{let{name:s,value:a}=e;m((e=>({...e,[s]:a})))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.ZP,{col:"12",title:"Report Data Access",children:(0,C.jsx)(r.Z,{name:"reportDataAccess",selected:null===c||void 0===c?void 0:c.reportDataAccess,sourceData:n,onPickListChange:u})}),(0,C.jsx)(l.ZP,{col:"12",title:"Clubs",children:(0,C.jsx)(r.Z,{name:"clubs",selected:null===c||void 0===c?void 0:c.clubs,sourceData:n,onPickListChange:u})}),(0,C.jsxs)(o.GG,{children:[(0,C.jsx)(o.ZP,{label:"Save",className:"mx-2",loading:i,onClick:()=>{s&&e((0,y.to)(s,c,d,a))}}),(0,C.jsx)(o.ah,{label:"Cancel",onClick:()=>a.replace("/settings/employee")})]})]})};a(494);var I=a(8932),O=a(4622),w=a(3585),Z=a(2426),_=a.n(Z);const R=()=>{const{id:e}=(0,x.UO)(),s=(0,v.I0)(),a=((0,x.k6)(),(0,v.v9)((e=>e.profile.user)));(0,t.useEffect)((()=>{a&&i({...n,takenBy:a.firstName,dateTime:new Date})}),[a]);const[n,i]=(0,t.useState)({takenBy:null===a||void 0===a?void 0:a.firstName,dateTime:new Date,notes:""}),[o,c]=(0,t.useState)(!1),[r,y]=(0,t.useState)([]),h=e=>{s((0,w.Uf)(e,j,(e=>{y(e)})))};(0,t.useEffect)((()=>{e&&h(e)}),[e,s]);const[p,j]=(0,t.useState)(!1),g=[{field:"takenBy",header:"Taken By"},{field:"dateTime",body:e=>_()(e.dateTime).format("MM-DD-YYYY hh:mm a"),header:"Date/Time"},{field:"notes",header:"Notes"}],T=()=>{i({notes:""}),c(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>c(!0)}),(0,C.jsx)(I.Z,{data:r,columns:g}),(0,C.jsx)(O.Z,{width:"100vh",title:"Add Note",visible:o,onCancel:T,loading:p,onSave:()=>{(0,u.Ao)(n,i)&&e&&s((0,w.lU)({...n,employee:e},j,(()=>{h(e),T()})))},children:(0,C.jsx)(l.R0,{children:(0,C.jsx)(d.Ks,{name:"notes",maxLength:"266",data:n,onChange:e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,n);i((e=>({...e,[s]:a,formErrors:t})))},inputClass:"h-17rem\t"})})})]})},D=()=>{const e=(0,v.I0)(),{id:s}=(0,x.UO)(),a=(0,x.k6)();(0,t.useEffect)((()=>{e((0,w.GJ)(s))}),[e]);const{allCertificates:n}=(0,v.v9)((e=>e.certificates));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(s)}),(0,C.jsx)(I.Z,{data:n,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{a.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(s))},onDelete:(a,t)=>{(0,u.j3)((()=>{e((0,w.xJ)(a._id,(()=>{e((0,w.GJ)(s))})))}),"Do you want to delete this Certificates ?",t)}})]})};var L=a(4778);function M(){const{id:e}=(0,x.UO)();let{departmentsDropdown:s}=(0,v.v9)((e=>null===e||void 0===e?void 0:e.department));const a=(0,v.I0)();(0,t.useEffect)((()=>{a((0,L.Ps)()),n(e)}),[a]);const n=e=>{a((0,L.am)(e,r,(e=>{p(e)})))},[i,o]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),[m,y]=(0,t.useState)(null),[h,p]=(0,t.useState)([]),[j,g]=(0,t.useState)({departments:[],wage:0}),T=e=>{let{name:s,value:a}=e;g((e=>({...e,[s]:a})))},E=()=>{o(!1),g({departments:[],wage:0}),y(null)};let f=s.filter((e=>!h.map((e=>e.department)).includes(e.value)));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add Department",onClick:()=>o(!0)}),(0,C.jsx)(I.Z,{data:h,columns:[{field:"departmentName",header:"Name"},{field:"wage",header:"Wage"}],onEdit:e=>(e=>{y(e);let s=h.find((s=>s._id===e));g({departments:[s.department],wage:s.wage}),o(!0)})(e._id),onDelete:s=>{(0,u.j3)((()=>{a((0,L.w9)(s._id,(()=>{n(e),E()})))}),"Do you want to delete this Employee Department?")}}),(0,C.jsx)(O.Z,{title:"Add",visible:i,onCancel:E,loading:c,onSave:()=>{a(m?(0,L.vJ)(m,{wage:j.wage},r,(()=>{n(e),E()})):(0,L.b0)({...j,employee:e},r,(()=>{n(e),E()})))},children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.pc,{col:"12",name:"departments",data:j,onChange:T,options:m?s:f,disabled:!!m}),(0,C.jsx)(d.l9,{col:"12",name:"wage",data:j,onChange:T})]})})]})}var k=a(4850),F=a(1526),Y=a(988),G=a(3048),U=a(4499);const X=(e,s,a,t)=>async n=>{a(!0);const i=await(0,F.Z)("put",Y.Z.EMPLOYEE_CLASSES+e,s);i.success?t():n((0,U.C)({severity:"error",summary:i.message})),a(!1)},B=e=>{var s;let{visible:a,setVisible:n,id:i,employeeClassId:o,setEmployeeClassId:r}=e;const[x,y]=(0,t.useState)(!1),[h,p]=(0,t.useState)({}),j=(0,v.I0)(),g=()=>{n(!1),b(E),r(null)};(0,t.useEffect)((()=>{o&&T(o)}),[o]);const T=e=>{j(((e,s,a)=>async t=>{s&&s(!0);const n=await(0,F.Z)("get",Y.Z.EMPLOYEE_CLASSES+e);n.success&&n.data&&a&&a(n.data),s&&s(!1)})(e,y,(e=>{p(e)})))},E={payType:"INCREMENTAL_PAY",oneToFiveClients:0,sixToTenClients:0,elevenToFifteenClients:0,sixteenToTwentyClients:0,twentyOneToTwentyFiveClients:0,twentySixPlusClients:0,noRegistrationPay:0},f={payType:"PAY_PER_CLASS",payPerClassRate:0,noRegistrationPay:0},P={payType:"PAY_PER_CLIENT",baseRate:0,payPerClientRate:0,eachClientOver:[{noOfClients:0,rate:0},{noOfClients:0,rate:0},{noOfClients:0,rate:0}],maxPayPerClient:0,noRegistrationPay:0},N={payType:"PERCENTAGE_RATE",percentage:0,noRegistrationPay:0},[S,b]=(0,t.useState)(E);(0,t.useEffect)((()=>{o||("INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)?b(E):"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)?b(f):"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)?b(P):"PERCENTAGE_RATE"===(null===S||void 0===S?void 0:S.payType)&&b(N))}),[null===S||void 0===S?void 0:S.payType]),(0,t.useEffect)((()=>{if(o&&h){const{oneToFiveClients:e,sixToTenClients:s,elevenToFifteenClients:a,sixteenToTwentyClients:t,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l,payPerClassRate:o,baseRate:d,payPerClientRate:c,maxPayPerClient:r,percentage:m}=h;let u={};switch(null===h||void 0===h?void 0:h.payType){case"INCREMENTAL_PAY":u={payType:"INCREMENTAL_PAY",oneToFiveClients:e,sixToTenClients:s,elevenToFifteenClients:a,sixteenToTwentyClients:t,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l};break;case"PAY_PER_CLASS":u={payType:"PAY_PER_CLASS",payPerClassRate:o,noRegistrationPay:l};break;case"PAY_PER_CLIENT":u={payType:"PAY_PER_CLIENT",baseRate:d,payPerClientRate:c,eachClientOver:h.eachClientOver.map((e=>({noOfClients:e.noOfClients,rate:e.rate}))),maxPayPerClient:r,noRegistrationPay:l};break;case"PERCENTAGE_RATE":u={payType:"PERCENTAGE_RATE",percentage:m,noRegistrationPay:l};break;default:u={}}b(u)}}),[h]);const A=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,S);b((e=>({...e,[s]:a,formErrors:t})))},I=(e,s,a)=>{const t=[...S.eachClientOver];t[e][s]=a,b((e=>({...e,eachClientOver:t})))};return(0,C.jsx)("div",{children:(0,C.jsx)(O.Z,{title:o?"Edit":"Add",visible:a,onCancel:g,loading:x,onSave:()=>{let e=[];e="INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)?["payPerClassRate","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","percentage","payPerClassRate"]:["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","payPerClassRate"],(0,u.Ao)(S,b,e)&&(o&&j(X(o,S,y,(()=>{g()}))),j(((e,s,a)=>async t=>{s(!0);const n=await(0,F.Z)("post",Y.Z.EMPLOYEE_CLASSES,e);n.success?a():t((0,U.C)({severity:"error",summary:n.message})),s(!1)})({...S,employee:i},y,(()=>{g()}))))},children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.T3,{name:"payType",data:S,onChange:A,options:c.WJ,col:12,disabled:!!o}),"INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.l9,{label:"1-5 Clients",name:"oneToFiveClients",data:S,onChange:A}),(0,C.jsx)(d.l9,{label:"6-10 Clients",name:"sixToTenClients",data:S,onChange:A}),(0,C.jsx)(d.l9,{label:"11-15 Clients",name:"elevenToFifteenClients",data:S,onChange:A}),(0,C.jsx)(d.l9,{label:"16-20 Clients",name:"sixteenToTwentyClients",data:S,onChange:A}),(0,C.jsx)(d.l9,{label:"21-25 Clients",data:S,name:"twentyOneToTwentyFiveClients",onChange:A}),(0,C.jsx)(d.l9,{label:"26+ Clients",data:S,name:"twentySixPlusClients",onChange:A}),(0,C.jsx)(d.l9,{name:"noRegistrationPay",data:S,onChange:A})]}),"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.l9,{data:S,name:"payPerClassRate",onChange:A}),(0,C.jsx)(d.l9,{name:"noRegistrationPay",data:S,onChange:A})]}),"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.l9,{name:"baseRate",data:S,onChange:A}),(0,C.jsx)(d.l9,{name:"payPerClientRate",data:S,onChange:A}),null===S||void 0===S||null===(s=S.eachClientOver)||void 0===s?void 0:s.map(((e,s)=>(0,C.jsx)("div",{className:" col-12 ",children:(0,C.jsxs)("div",{className:"grid",children:[(0,C.jsx)(d.l9,{name:"noOfClients",value:null===e||void 0===e?void 0:e.noOfClients,onChange:e=>I(s,"noOfClients",e.value),col:6}),(0,C.jsx)(d.l9,{name:"rate",value:null===e||void 0===e?void 0:e.rate,onChange:e=>I(s,"rate",e.value),col:6})]})},s))),(0,C.jsx)(d.l9,{data:S,name:"noRegistrationPay",onChange:A}),(0,C.jsx)(d.l9,{data:S,name:"maxPayPerClient",onChange:A})]}),"PERCENTAGE_RATE"===(null===S||void 0===S?void 0:S.payType)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.l9,{data:S,name:"percentage",onChange:A}),(0,C.jsx)(d.l9,{name:"noRegistrationPay",data:S,onChange:A})]})]})})})};var V=a(3297);function $(){const e=(0,v.I0)(),{id:s}=(0,x.UO)(),[a,n]=(0,t.useState)(!1),[i,c]=(0,t.useState)({isClassLevel:"",isDefaultPay:""});(0,t.useEffect)((()=>{S(s,null===i||void 0===i?void 0:i.isClassLevel)}),[e,null===i||void 0===i?void 0:i.isClassLevel]),(0,t.useEffect)((()=>{e((0,y.fN)(0))}),[e]),(0,t.useEffect)((()=>{e((0,V.Oz)())}),[e]);const{levelDropdown:r}=(0,v.v9)((e=>e.level)),m=(0,t.useId)(),{employeesDropdown:h}=(0,v.v9)((e=>e.employees));console.log(i,"data");const[p,j]=(0,t.useState)(!1),[g,T]=(0,t.useState)(!1),[E,f]=(0,t.useState)(null),[P,N]=(0,t.useState)([]);(0,t.useEffect)((()=>{c((e=>({...e,isClassLevel:null===P||void 0===P?void 0:P.isClassLevel})))}),[null===P||void 0===P?void 0:P.isClassLevel]),console.log(P,"employeeClasses");const S=(s,a)=>{e(((e,s,a,t)=>async n=>{a&&a(!0);const i=await(0,F.Z)("get",Y.Z.EMPLOYEE_CLASSES,"",{employee:e,isClassLevel:s});i.success&&i.data&&t&&t(i.data),a&&a(!1)})(s,a,T,(e=>{N(e)})))},b=a=>{(0,u.j3)((()=>{e(((e,s)=>async a=>{const t=await(0,F.Z)("delete",Y.Z.EMPLOYEE_CLASSES+e);t.success?s():a((0,U.C)({severity:"error",summary:t.message}))})(a._id,(()=>{S(s,null===i||void 0===i?void 0:i.isClassLevel)})))}),"Do you want to delete this Employee Classes?")},A=e=>{switch(e.payType){case"INCREMENTAL_PAY":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Incremental Pay"})]})]}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium ",children:"1-5 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.oneToFiveClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"6-10 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixToTenClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"11-15 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.elevenToFifteenClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"16-20 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixteenToTwentyClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"21-25 Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentyOneToTwentyFiveClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"26+ Clients"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentySixPlusClients]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PAY_PER_CLIENT":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Pay Per Client"})]})]}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Base Rate"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.baseRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Per Client"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClientRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[0].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[0].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[1].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[1].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"ml-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,C.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[2].noOfClients})]}),(0,C.jsxs)("div",{className:"ml-1 mr-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"Add"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[2].rate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-2",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-2",children:[(0,C.jsx)("div",{className:"font-medium",children:"Max Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PAY_PER_CLASS":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"Pay Per Class"})]})]}),(0,C.jsxs)("div",{className:"mx-3 w-1",children:[(0,C.jsx)("div",{className:"font-medium",children:"Price"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClassRate]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PERCENTAGE_RATE":return(0,C.jsxs)("div",{className:"flex",children:[(0,C.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,C.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"font-medium",children:"Pay"}),(0,C.jsx)("div",{children:"% Rate"})]})]}),(0,C.jsxs)("div",{className:"mx-3 w-1",children:[(0,C.jsx)("div",{className:"font-medium",children:"Percentage"}),(0,C.jsxs)("div",{children:[null===e||void 0===e?void 0:e.percentage,"%"]})]}),(0,C.jsx)("hr",{className:"text-100"}),(0,C.jsxs)("div",{className:"mx-3",children:[(0,C.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,C.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});default:return(0,C.jsxs)("div",{className:"grid",children:[(0,C.jsx)("div",{className:"col-1",children:e.index}),(0,C.jsx)("div",{className:"col-11",children:e.payType})]})}};return(0,C.jsxs)("div",{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>j(!0),extraClass:"align-items-end ",children:(0,C.jsxs)("div",{className:" flex justify-content-between align-items-end",children:[(0,C.jsx)(d.T3,{name:"isClassLevel",col:6,options:r,optionLabel:"name",data:i,onChange:e=>{let{name:s,value:a}=e;c((e=>({...e,[s]:a})))}}),(0,C.jsx)(o.ZP,{name:"Similar To",className:"w-12rem",label:"Similar To",onClick:()=>n(!0)})]})}),(0,C.jsxs)(l.ZP,{col:"12",title:"Pay",children:[(0,C.jsx)(k.VO,{value:null===P||void 0===P?void 0:P.list,itemTemplate:s=>(0,C.jsxs)("div",{className:"col-12 grid py-2",children:[(0,C.jsx)("div",{className:"col-10",children:A(s)}),(0,C.jsx)("div",{className:"col-1 my-auto",children:(0,C.jsx)(d.TT,{name:"isDefaultPay",label:"Default Pay",checked:null===s||void 0===s?void 0:s.isDefaultPay,onChange:a=>((s,a)=>{var t;N(null===P||void 0===P||null===(t=P.list)||void 0===t?void 0:t.map((t=>t._id===s?(e(X(null===t||void 0===t?void 0:t._id,{isDefaultPay:a},T,(()=>{}))),{...t,isDefaultPay:a}):{...t,isDefaultPay:!1})))})(s._id,a.value)})}),(0,C.jsxs)("div",{className:"col-1 my-auto",children:[(0,C.jsx)("i",{className:"mx-3 cursor-pointer pi pi-pencil",onClick:()=>(e=>{f(null===e||void 0===e?void 0:e._id),j(!0)})(s)}),(0,C.jsx)("i",{className:"mx-3 cursor-pointer pi pi-trash",onClick:()=>b(s)})]})]},m),paginator:!0,rows:5}),(0,C.jsx)(B,{visible:p,setVisible:j,id:s,employeeClassId:E,setEmployeeClassId:f})]}),(0,C.jsx)(O.Z,{title:"Similar To",visible:a,onCancel:()=>n(!1),loading:g,onSave:()=>{},children:(0,C.jsx)(l.R0,{children:(0,C.jsx)(d.T3,{name:"employee",col:12})})})]})}function q(){const{id:e}=(0,x.UO)(),s=(0,v.I0)(),[a,n]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[r,y]=(0,t.useState)(!1),[h,p]=(0,t.useState)({name:"",priority:"MEDIUM"}),[j,g]=(0,t.useState)("");(0,t.useEffect)((()=>{T(e)}),[]);const T=e=>{s(((e,s,a)=>async t=>{s&&s(!0);const n=await(0,F.Z)("get",Y.Z.SUSTITITION_OPTIONS,"",{employee:e});n.success&&n.data&&a&&a(n.data),s&&s(!1)})(e,o,(e=>{n(e)})))};(0,t.useEffect)((()=>{j&&s(((e,s)=>async a=>{a((0,G.f)());const t=await(0,F.Z)("get",Y.Z.SUSTITITION_OPTIONS+e);t.success&&(a((0,G.t)()),s&&s(t.data)),a((0,G.t)())})(j,(e=>{p({name:e.name,priority:e.priority})})))}),[j,s]);const E=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,h);p((e=>({...e,[s]:a,formErrors:t})))},f=()=>{y(!1),p({name:"",priority:"MEDIUM"}),g(null)};return(0,C.jsxs)("div",{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>y(!0)}),(0,C.jsx)(l.ZP,{col:"12",title:"Classes",children:(0,C.jsx)(I.Z,{data:a,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"}],onEdit:e=>{g(null===e||void 0===e?void 0:e._id),y(!0)},onDelete:a=>{(0,u.j3)((()=>{s(((e,s)=>async a=>{const t=await(0,F.Z)("delete",Y.Z.SUSTITITION_OPTIONS+e);t.success?(a((0,U.C)({severity:"success",summary:t.message})),s()):a((0,U.C)({severity:"error",summary:t.message}))})(a._id,(()=>{T(e),f()})))}),"Do you want to delete this Substitution Option?")}})}),(0,C.jsx)(O.Z,{title:j?"Edit":"Add",visible:r,onCancel:f,loading:i,onSave:()=>{(0,u.Ao)(h,p)&&s(j?((e,s,a,t)=>async()=>{a(!0),(await(0,F.Z)("put",Y.Z.SUSTITITION_OPTIONS+e,s)).success&&t(),a(!1)})(j,{...h,employee:e},o,(()=>{T(e),f()})):((e,s,a)=>async t=>{s(!0);const n=await(0,F.Z)("post",Y.Z.SUSTITITION_OPTIONS,e);n.success?a():t((0,U.C)({severity:"error",summary:n.message})),s(!1)})({...h,employee:e},o,(()=>{T(e),f()})))},children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.t7,{col:"12",name:"name",data:h,onChange:E}),(0,C.jsx)(d.T3,{name:"priority",data:h,onChange:E,options:c.IP,col:12})]})})]})}const J=()=>{const e=[{title:"Pay",content:(0,C.jsx)($,{})},{title:"Substitute Option",content:(0,C.jsx)(q,{})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.Z,{name:"classes",tabs:e,useIndex:!0})})},z=(e,s,a,t,n)=>async i=>{t&&t(!0);const l=await(0,F.Z)("get",Y.Z.EMPLOYEE_APPOINTMENT,"",{employee:e,type:a,isClassLevel:s});l.success&&l.data&&n&&n(l.data),t&&t(!1)},W=e=>{let{funcGetEmpAppointment:s,id:a,setVisible:n,visible:i}=e;const o=(0,v.I0)(),r={name:"",priority:"PER-EVENT",type:"PAY",pay:0,amountType:"FIXED"},[x,y]=(0,t.useState)(r),[h,p]=(0,t.useState)(!1),[j,g]=(0,t.useState)(null);(0,t.useEffect)((()=>{j&&o(((e,s,a)=>async t=>{s&&s(!0);const n=await(0,F.Z)("get",Y.Z.EMPLOYEE_APPOINTMENT+e);n.success&&n.data&&a&&a(n.data),s&&s(!1)})(j,p,(e=>{y({name:e.name,priority:e.priority,type:"PAY",pay:e.pay,amountType:e.amountType})})))}),[j,o]);const T=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,x);y((e=>({...e,[s]:a,formErrors:t})))},E=()=>{g(null),y(r),n(!1)};return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(O.Z,{title:j?"Edit":"Add",visible:i,onCancel:E,loading:h,onSave:()=>{(0,u.Ao)(x,y)&&o(j?((e,s,a,t)=>async n=>{a(!0);const i=await(0,F.Z)("put",Y.Z.EMPLOYEE_APPOINTMENT+e,s);i.success?t():n((0,U.C)({severity:"error",summary:i.message})),a(!1)})(j,{...x},p,(()=>{s(a),E()})):((e,s,a)=>async t=>{s(!0);const n=await(0,F.Z)("post",Y.Z.EMPLOYEE_APPOINTMENT,e);n.success?a():t((0,U.C)({severity:"error",summary:n.message})),s(!1)})({...x,employee:a},p,(()=>{s(a),E()})))},children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.t7,{col:"12",name:"name",data:x,onChange:T}),(0,C.jsx)(d.T3,{name:"priority",data:x,onChange:T,options:c.zC,col:12}),(0,C.jsx)(d.l9,{col:8,name:"pay",data:x,onChange:T}),(0,C.jsx)(d.T3,{label:"",name:"amountType",options:c.vA,data:x,onChange:T,col:4})]})})})},K=()=>{const e=(0,v.I0)(),[s,a]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[c,r]=(0,t.useState)(null),[y,h]=(0,t.useState)([]),[p,j]=(0,t.useState)(!1),{id:g}=(0,x.UO)(),[T,E]=(0,t.useState)({isDefaultPay:"",isClassLevel:""});(0,t.useEffect)((()=>{f(g)}),[null===T||void 0===T?void 0:T.isClassLevel]);const f=s=>{e(z(s,null===T||void 0===T?void 0:T.isClassLevel,"PAY",i,(e=>{h(e)})))};(0,t.useEffect)((()=>{e((0,V.Oz)())}),[e]),(0,t.useEffect)((()=>{E((e=>({...e,isClassLevel:null===y||void 0===y?void 0:y.isClassLevel})))}),[null===y||void 0===y?void 0:y.isClassLevel]);const{levelDropdown:P}=(0,v.v9)((e=>e.level)),N=()=>{E((e=>({...e,isDefaultPay:""}))),j(!1)},S=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,T);E((e=>({...e,[s]:a,formErrors:t})))};return console.log("data>>",null===y||void 0===y?void 0:y.list),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>a(!0),extraClass:"align-items-end",children:(0,C.jsxs)("div",{className:"flex align-items-end",children:[(0,C.jsx)(d.T3,{name:"isClassLevel",col:6,options:P,optionLabel:"name",data:T,onChange:S}),(0,C.jsx)(o.ZP,{name:"",className:"w-12rem",label:"Default Pay",onClick:()=>j(!0)})]})}),(0,C.jsx)(I.Z,{data:null===y||void 0===y?void 0:y.list,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"},{field:"pay",header:"Pay"}],onEdit:e=>{r(null===e||void 0===e?void 0:e._id),a(!0)},onDelete:s=>{(0,u.j3)((()=>{e(((e,s)=>async a=>{const t=await(0,F.Z)("delete",Y.Z.EMPLOYEE_APPOINTMENT+e);t.success?s():a((0,U.C)({severity:"error",summary:t.message}))})(s._id,(()=>{f(g),a(!1)})))}),"Do you want to delete this Appartment Pay?")}}),(0,C.jsx)(W,{funcGetEmpAppointment:f,id:g,setVisible:a,visible:s}),(0,C.jsx)(O.Z,{title:"Default Pay",visible:p,onCancel:N,loading:n,onSave:()=>{h((e=>({...e,list:e.list.map((e=>({...e,pay:null===T||void 0===T?void 0:T.isDefaultPay})))}))),e(((e,s)=>async a=>{a((0,G.f)());const t=await(0,F.Z)("post",Y.Z.EMPLOYEE_APPOINTMENT_IS_DEFAULT,e);t.success?s():a((0,U.C)({severity:"error",summary:t.message})),a((0,G.t)())})({pay:T.isDefaultPay},(()=>{f(g),N()})))},children:(0,C.jsx)(l.R0,{children:(0,C.jsx)(d.l9,{col:"12",name:"isDefaultPay",label:"Default",data:T,onChange:S})})})]})},H=(e,s,a,t)=>async n=>{a&&a(!0);const i=await(0,F.Z)("get",Y.Z.SALES_COMMISSION,"",{employee:e,type:s});i.success&&i.data&&t&&t(i.data),a&&a(!1)},Q=e=>{let{type:s}=e;const a=(0,v.I0)(),{id:n}=(0,x.UO)(),i={bonusType:"SERVICE_VALUE",sessionsValue:0,ofSessions:0,over:0,duration:"DAYS",bonusAmount:0,type:"BONUS",amountType:"FIXED",services:["Private Sessions"]},[o,r]=(0,t.useState)(!1),[y,h]=(0,t.useState)(!1),[p,j]=(0,t.useState)(null),[g,T]=(0,t.useState)([]),[E,f]=(0,t.useState)(i),P=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,E);f((e=>({...e,[s]:a,formErrors:t})))};(0,t.useEffect)((()=>{N(n)}),[]);const N=e=>{a("appointment"===s?z(e,"","BONUS",h,(e=>{T(e)})):H(e,"BONUS",h,(e=>{T(e)})))};(0,t.useEffect)((()=>{p&&a(((e,s,a)=>async t=>{let n;t((0,G.f)()),n="appointment"===e?await(0,F.Z)("get",Y.Z.EMPLOYEE_APPOINTMENT+s):await(0,F.Z)("get",Y.Z.SALES_COMMISSION+s),n.success&&(t((0,G.t)()),a&&a(n.data)),t((0,G.t)())})(s,p,(e=>{f({bonusType:e.bonusType,sessionsValue:e.sessionsValue,ofSessions:e.ofSessions,over:e.selectTimeframe.over,duration:e.selectTimeframe.duration,bonusAmount:e.bonusAmount,type:"BONUS",amountType:e.amountType,services:e.services})})))}),[p,a]);const S=()=>{j(null),f(i),r(!1)};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>r(!0)}),(0,C.jsx)(I.Z,{data:"appointment"===s?null===g||void 0===g?void 0:g.list:g,columns:[{field:"bonusType",body:e=>"SERVICE_VALUE"===e.bonusType?"Service Value":"Single Client",header:"Bonus Type"},{field:"Session",body:e=>"SERVICE_VALUE"===e.bonusType?e.sessionsValue:e.ofSessions,header:"Value"},{field:"selectTimeframe.over",body:e=>e.selectTimeframe.over+" "+e.selectTimeframe.duration.toLowerCase(),header:"Time Frame"},{field:"bonusAmount",body:e=>"FIXED"===e.amountType?"$"+e.bonusAmount:e.bonusAmount+"%",header:"Bonus Amount"},{field:"services",body:e=>e.services.join(","),header:"Services"}],onEdit:e=>{j(null===e||void 0===e?void 0:e._id),r(!0)},onDelete:e=>{(0,u.j3)((()=>{a(((e,s,a)=>async t=>{let n;n="appointment"===e?await(0,F.Z)("delete",Y.Z.EMPLOYEE_APPOINTMENT+s):await(0,F.Z)("delete",Y.Z.SALES_COMMISSION+s),n.success?(t((0,U.C)({severity:"success",summary:n.message})),a()):t((0,U.C)({severity:"error",summary:n.message}))})(s,e._id,(()=>{N(n),S()})))}),"Do you want to delete this Bonus?")}}),(0,C.jsx)(O.Z,{title:p?"Edit":"Add",visible:o,onCancel:S,loading:y,onSave:()=>{let e=[];if(e="SINGLE_CLIENT"===(null===E||void 0===E?void 0:E.bonusType)?["sessionsValue"]:["ofSessions"],(0,u.Ao)(E,f,e)){const{over:e,duration:t,...i}=E;a(p?((e,s,a,t,n)=>async()=>{let i;t(!0),i="appointment"===e?await(0,F.Z)("put",Y.Z.EMPLOYEE_APPOINTMENT+s,a):await(0,F.Z)("put",Y.Z.SALES_COMMISSION+s,a),i.success&&n(),t(!1)})(s,p,{...i,selectTimeframe:{over:e,duration:t}},h,(()=>{N(n),S()})):((e,s,a,t)=>async n=>{let i;a(!0),i="appointment"===e?await(0,F.Z)("post",Y.Z.EMPLOYEE_APPOINTMENT,s):await(0,F.Z)("post",Y.Z.SALES_COMMISSION,s),i.success?t():n((0,U.C)({severity:"error",summary:i.message})),a(!1)})(s,{...i,selectTimeframe:{over:e,duration:t},employee:n},h,(()=>{N(n),S()})))}},width:"90vh",children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.T3,{label:"",name:"bonusType",data:E,onChange:P,options:c.WD,col:6}),"SINGLE_CLIENT"===(null===E||void 0===E?void 0:E.bonusType)?(0,C.jsx)(d.l9,{col:6,label:"No of Sessions",name:"ofSessions",data:E,onChange:P}):(0,C.jsx)(d.l9,{col:6,name:"sessionsValue",data:E,onChange:P}),(0,C.jsx)(d.l9,{col:"6",name:"over",data:E,onChange:P}),(0,C.jsx)(d.T3,{label:"",name:"duration",data:E,onChange:P,col:6,options:c.SW}),(0,C.jsx)(d.l9,{col:8,name:"bonusAmount",data:E,onChange:P}),(0,C.jsx)(d.T3,{label:"",name:"amountType",options:c.vA,data:E,onChange:P,col:4}),(0,C.jsx)(d.pc,{col:"12",name:"services",data:E,onChange:P,options:c.es})]})})]})},ee=()=>{const e=[{title:"Pay",content:(0,C.jsx)(K,{})},{title:"Bonus",content:(0,C.jsx)(Q,{type:"appointment"})},{title:"Calendar Default",content:(0,C.jsx)(C.Fragment,{})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.Z,{name:"appointment",tabs:e,useIndex:!0})})};var se=a(8876);const ae=()=>{const e=(0,v.I0)(),[s,a]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[o,r]=(0,t.useState)(null),[y,h]=(0,t.useState)([]),p={commissionGroup:"",type:"ITEM_COMMISSION",commissionType:"PER_ITEM",amountType:"FIXED",pay:"0"},[j,g]=(0,t.useState)(p),{id:T}=(0,x.UO)();(0,t.useEffect)((()=>{f(T),e((0,se.JE)())}),[]);const{commissionGroupsDropdown:E}=(0,v.v9)((e=>null===e||void 0===e?void 0:e.commissionGroup)),f=s=>{e(H(s,"ITEM_COMMISSION",i,(e=>{h(e)})))};(0,t.useEffect)((()=>{o&&e(((e,s,a)=>async t=>{s&&s(!0);const n=await(0,F.Z)("get",Y.Z.SALES_COMMISSION+e);n.success&&n.data&&a&&a(n.data),s&&s(!1)})(o,i,(e=>{g({commissionGroup:e.commissionGroup,type:e.type,commissionType:e.commissionType,amountType:e.amountType,pay:e.pay})})))}),[o,e]);const P=()=>{r(null),g(p),a(!1)},N=e=>{let{name:s,value:a}=e;const t=(0,m.Z)(s,a,j);g((e=>({...e,[s]:a,formErrors:t})))};return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>a(!0)}),(0,C.jsx)(I.Z,{data:y,columns:[{field:"commissionGroup",header:"Commission Group"},{field:"commissionType",header:"Commission Type"},{field:"pay",header:"Pay"}],onEdit:e=>{r(null===e||void 0===e?void 0:e._id),a(!0)},onDelete:s=>{(0,u.j3)((()=>{e(((e,s)=>async a=>{const t=await(0,F.Z)("delete",Y.Z.SALES_COMMISSION+e);t.success?s():a((0,U.C)({severity:"error",summary:t.message}))})(s._id,(()=>{f(T),P()})))}),"Do you want to delete this Item Commission?")}}),(0,C.jsx)(O.Z,{title:o?"Edit":"Add",visible:s,onCancel:P,loading:n,onSave:()=>{(0,u.Ao)(j,g)&&e(o?((e,s,a,t)=>async n=>{a(!0);const i=await(0,F.Z)("put",Y.Z.SALES_COMMISSION+e,s);i.success?t():n((0,U.C)({severity:"error",summary:i.message})),a(!1)})(o,{...j},i,(()=>{f(T),P()})):((e,s,a)=>async t=>{s(!0);const n=await(0,F.Z)("post",Y.Z.SALES_COMMISSION,e);n.success?a():t((0,U.C)({severity:"error",summary:n.message})),s(!1)})({...j,employee:T},i,(()=>{f(T),P()})))},children:(0,C.jsxs)(l.R0,{children:[(0,C.jsx)(d.T3,{name:"commissionGroup",data:j,onChange:N,options:E,optionLabel:"name",col:12}),(0,C.jsx)(d.T3,{name:"commissionType",data:j,onChange:N,options:c.am,col:12}),(0,C.jsx)(d.l9,{col:8,name:"pay",data:j,onChange:N}),(0,C.jsx)(d.T3,{label:"",name:"amountType",options:c.vA,data:j,onChange:N,col:4})]})})]})},te=()=>{const e=[{title:"Item Commission",content:(0,C.jsx)(ae,{})},{title:"Bonus",content:(0,C.jsx)(Q,{type:"salesCommission"})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.Z,{name:"sales-commission",tabs:e,useIndex:!0})})},ne=()=>{const{id:e}=(0,x.UO)(),s=[{title:"Security",content:(0,C.jsx)(j,{})},{title:"General",content:(0,C.jsx)(S,{})},{title:"Departments",content:(0,C.jsx)(M,{})},{title:"Clubs",content:(0,C.jsx)(A,{})},{title:"Classes Setup",content:(0,C.jsx)(J,{})},{title:"Appointment Setup",content:(0,C.jsx)(ee,{})},{title:"Sales Commision",content:(0,C.jsx)(te,{})},{title:"Time Sheet",content:(0,C.jsx)("h1",{children:"Tab 8"})},{title:"Notes",content:(0,C.jsx)(R,{})},{title:"Certifications",content:(0,C.jsx)(D,{})}];return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(n.Z,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,C.jsx)(i.Z,{tabs:s,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9],scrollable:!0})})})}}}]);
//# sourceMappingURL=565.a140add0.chunk.js.map