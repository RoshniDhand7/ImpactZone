"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[293],{5090:(e,l,a)=>{a.d(l,{A:()=>u});var s=a(9379),t=a(45),n=a(5043),o=a(6796),i=a(8702),r=a(3631),c=a(579);const d=["label","name","onFilesChange","errorMessage","extraClassName","value","data","col","required","imgclass","removeable","editable","uploadboxclass","uploadIcon","disabled"],u=e=>{let{label:l,name:a,onFilesChange:u,errorMessage:m,extraClassName:g,value:p,data:v,col:f,required:h,imgclass:b,removeable:j,editable:x,uploadboxclass:C,uploadIcon:N,disabled:A=!1}=e,y=(0,t.A)(e,d);const[k,E]=(0,n.useState)(p||(null===v||void 0===v?void 0:v[a])||[]);(0,n.useEffect)((()=>{(p||null!==v&&void 0!==v&&v[a])&&JSON.stringify(p||(null===v||void 0===v?void 0:v[a]))!==JSON.stringify(k)&&E(p||(null===v||void 0===v?void 0:v[a]))}),[p||(null===v||void 0===v?void 0:v[a])]),(0,n.useEffect)((()=>{u?k.length&&u({name:a,value:k}):u({name:a,value:[]})}),[k,a]);const w=e=>{let l=[];e.forEach((e=>{-1===k.findIndex((l=>l.name===e.name))&&l.push(e)})),E([...l])};return(0,c.jsxs)(r.A,{col:f||12,label:l,name:a,required:h,extraClassName:g,data:v,errorMessage:m,children:[(0,c.jsx)("input",(0,s.A)({type:"file",className:" ",name:a,onChange:e=>{const l=e.target.files;w(Object.values(l)),e.target.value=""},id:a,accept:".jpg, .jpeg, .png,.jfif",hidden:!0},y)),k.length?Object.values(k).map(((e,l)=>(0,c.jsxs)("div",{className:"photoDiv",children:[j&&(0,c.jsx)("i",{onClick:()=>(e=>{const l=k.filter(((l,a)=>a!==e));E([...l]),u({name:a,value:[]})})(l),className:"pi pi-times cursor-pointer"}),(0,c.jsx)("img",{src:e?"string"===typeof e?(0,i.b)(e):URL.createObjectURL(e):o,onError:e=>e.target.src=(0,i.N)(),alt:"pic",className:"profile-img relative btn-border-color ".concat(b),accept:".jpg, .jpeg, .png, .jfif"})]},l))):(0,c.jsx)("div",{className:"photo-upload flex justify-content-center align-items-center",style:{height:"95px",width:"90px"},children:(0,c.jsx)("label",{htmlFor:a,children:(0,c.jsx)("img",{className:"w-full h-full fit-cover",style:{width:"50px"},src:o,onError:e=>e.target.src=(0,i.N)(),alt:"",accept:".jpg, .jpeg, .png"})})})]})}},1293:(e,l,a)=>{a.r(l),a.d(l,{default:()=>p});var s=a(9379),t=a(5043),n=a(5050),o=a(3549),i=a(5090),r=a(7994),c=a(9456),d=a(6038),u=a(962),m=a(6658),g=a(579);const p=e=>{let{history:l}=e;const a=(0,c.wA)(),[p,v]=(0,t.useState)({logo:[]});(0,t.useEffect)((()=>{a((0,m.l)())}),[a]);let{company:f}=(0,c.d4)((e=>{var l;return null===e||void 0===e||null===(l=e.settings)||void 0===l?void 0:l.business}));(0,t.useEffect)((()=>{f&&v({logo:null!==f&&void 0!==f&&f.logo?[null===f||void 0===f?void 0:f.logo]:[]})}),[]);const[h,b]=(0,t.useState)(!1);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(n.A,{backText:"Customization",children:[(0,g.jsx)(o.Ay,{col:"12",title:"Customization",children:(0,g.jsx)(i.A,{name:"logo",data:p,removeable:!0,onFilesChange:e=>{let{name:l,value:a}=e;const t=(0,d.A)(l,a,p);v((e=>(0,s.A)((0,s.A)({},e),{},{[l]:a,formErrors:t})))}})}),(0,g.jsxs)(r.zp,{children:[(0,g.jsx)(r.Ay,{label:"Save",className:"mx-2",onClick:()=>{(0,u.nV)(p,v)&&a((0,m.O)(f._id,p,b,l))},loading:h}),(0,g.jsx)(r.Ti,{label:"Cancel",onClick:()=>l.replace("/settings/business/?tab=customization/")})]})]})})}}}]);
//# sourceMappingURL=293.1fa0a530.chunk.js.map