{"version":3,"file":"static/js/993.63a5a764.chunk.js","mappings":"kTAeA,MAwLA,EAxLyBA,KACrB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAUC,EAAAA,EAAAA,OACV,GAAEC,IAAOC,EAAAA,EAAAA,MACfC,EAAAA,EAAAA,YAAU,KACNN,GAASO,EAAAA,EAAAA,MAAmB,GAC7B,CAACP,IACJ,MAAM,cAAEQ,IAAkBC,EAAAA,EAAAA,MAEpB,qBAAEC,IAAyBC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,gBACxD,QAAEC,IAAYH,EAAAA,EAAAA,KAAaC,IAAK,IAAAG,EAAA,OAAU,OAALH,QAAK,IAALA,GAAa,QAARG,EAALH,EAAOI,cAAM,IAAAD,OAAR,EAALA,EAAeE,SAAS,KAe5DC,EAAMC,IAAWC,EAAAA,EAAAA,UAdH,CACjBC,KAAM,GACNC,UAAU,EACVC,KAAM,aACNV,aAAc,GACdW,OAAQ,EACRC,WAAW,EACXC,eAAgB,GAChBC,gBAAiB,gBACjBC,SAAU,EACVC,WAAY,EACZC,MAAO,MAKXxB,EAAAA,EAAAA,YAAU,KACFF,GACAJ,GACI+B,EAAAA,EAAAA,IAAe3B,GAAKc,IAChBC,EAAQ,CACJE,KAAMH,EAAKG,KACXC,SAAUJ,EAAKI,SACfC,KAAML,EAAKK,KACXV,aAAcK,EAAKL,aACnBW,OAAQN,EAAKM,OACbC,UAAWP,EAAKO,UAChBC,eAAgBR,EAAKQ,eACrBC,gBAAiBT,EAAKS,gBACtBC,SAAUV,EAAKU,SACfC,WAAYX,EAAKW,WACjBC,MAAOZ,EAAKY,OACd,IAGd,GACD,CAAC1B,EAAIJ,IAER,MAAMgC,EAAeC,IAAsB,IAArB,KAAEZ,EAAI,MAAEa,GAAOD,EACjC,MAAME,GAAaC,EAAAA,EAAAA,GAAef,EAAMa,EAAOhB,GAE3CC,EADS,SAATE,EACSgB,IAAI,IACNA,EACHd,KAAMW,EACNrB,aAAc,GACdW,OAAQ,EACRC,WAAW,EACXC,eAAgB,GAChBC,gBAAiB,GACjBC,SAAU,EACVC,WAAY,EACZC,MAAO,KAGFO,IAAI,IAAWA,EAAM,CAAChB,GAAOa,EAAOC,eACjD,EAwCJ,OACIG,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIC,EAAAA,EAAAA,MAACC,EAAAA,EAAQ,CAACC,SAAS,eAAcH,SAAA,EAC7BC,EAAAA,EAAAA,MAACG,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,UAASN,SAAA,EAChCF,EAAAA,EAAAA,KAACS,EAAAA,GAAiB,CAAC1B,KAAK,WAAWH,KAAMA,EAAM8B,SAAUhB,KACzDS,EAAAA,EAAAA,MAACQ,EAAAA,EAAgB,CAAAT,SAAA,EACbF,EAAAA,EAAAA,KAACY,EAAAA,GAAW,CAAC7B,KAAK,OAAOH,KAAMA,EAAM8B,SAAUhB,EAAcmB,UAAQ,KACrEb,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,OAAOgC,QAASC,EAAAA,GAAqBN,SAAUhB,EAAcd,KAAMA,KACxFoB,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,eAAegC,QAAS3C,EAAsBsC,SAAUhB,EAAcd,KAAMA,EAAMiC,UAAQ,KAC/Gb,EAAAA,EAAAA,KAACiB,EAAAA,GAAiB,CACdlC,KAAK,SACLgC,QAASG,EAAAA,GACTR,SAAUhB,EACVd,KAAMA,EACN2B,IAAI,IACJM,UAAQ,EACRM,kBAAmB,EACnBC,kBAAmB,KAEN,gBAAX,OAAJxC,QAAI,IAAJA,OAAI,EAAJA,EAAMK,OAAwC,gBAAX,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMK,SACnCe,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,YAAYgC,QAASG,EAAAA,GAAcR,SAAUhB,EAAcd,KAAMA,UAIlF,gBAAX,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMK,QACHe,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,qBAAoBN,UAC3CC,EAAAA,EAAAA,MAACQ,EAAAA,EAAgB,CAAAT,SAAA,EACbF,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CACX/B,KAAK,kBACLsC,MAAM,qDACNN,QAASO,EAAAA,GACTZ,SAAUhB,EACVd,KAAMA,IAEiB,mBAAtB,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMS,kBACHc,EAAAA,EAAAA,MAAAF,EAAAA,SAAA,CAAAC,SAAA,EACIF,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,aAAagC,QAASQ,EAAAA,GAAsBb,SAAUhB,EAAcd,KAAMA,KAC/FoB,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,WAAWgC,QAASS,EAAAA,GAAad,SAAUhB,EAAcd,KAAMA,QAGxFoB,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIF,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CAAC/B,KAAK,WAAWgC,QAASS,EAAAA,GAAad,SAAUhB,EAAcd,KAAMA,YAMvF,cAAX,OAAJA,QAAI,IAAJA,OAAI,EAAJA,EAAMK,OAAsC,iBAAX,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMK,SACjCe,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,qBAAoBN,UAC3CF,EAAAA,EAAAA,KAACW,EAAAA,EAAgB,CAAAT,UACbF,EAAAA,EAAAA,KAACc,EAAAA,GAAc,CACX/B,KAAK,WACLsC,MAAM,qDACNN,QAAwB,cAAX,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMK,MAAsBuC,EAAAA,GAAcC,EAAAA,GACnDf,SAAUhB,EACVd,KAAMA,SAKtBoB,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,SAAQN,UAC/BF,EAAAA,EAAAA,KAAC0B,EAAAA,EAAc,CAAC3C,KAAK,QAAQ4C,SAAc,OAAJ/C,QAAI,IAAJA,OAAI,EAAJA,EAAMY,MAAOoC,WAAY1D,EAAe2D,iBAAkBnC,MAErF,gBAAX,OAAJd,QAAI,IAAJA,OAAI,EAAJA,EAAMK,QACHe,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,mBAAkBN,UACzCF,EAAAA,EAAAA,KAAC0B,EAAAA,EAAc,CAAC3C,KAAK,iBAAiB4C,SAAc,OAAJ/C,QAAI,IAAJA,OAAI,EAAJA,EAAMQ,eAAgBwC,WAAY,GAAIC,iBAAkBnC,OAIhHS,EAAAA,EAAAA,MAAC2B,EAAAA,GAAiB,CAAA5B,SAAA,EACdF,EAAAA,EAAAA,KAAC+B,EAAAA,GAAa,CAACV,MAAM,OAAOW,UAAU,OAAOC,QA3G9CC,KACX,IAAIC,EAAS,GAEb,OAAY,OAAJvD,QAAI,IAAJA,OAAI,EAAJA,EAAMK,MACV,IAAK,aAC6B,oCAAtB,OAAJL,QAAI,IAAJA,OAAI,EAAJA,EAAMS,mBACN8C,EAAS,CAAC,eAEd,MACJ,IAAK,WACL,IAAK,cACDA,EAAS,CAAC,cACV,MACJ,QACIA,EAAS,CAAC,WAAY,eAI1BC,EAAAA,EAAAA,IAAexD,EAAMC,EAASsD,IAE1BzE,EADAI,GAEIuE,EAAAA,EAAAA,IAAiBvE,EAAIc,GAAM,KACvBlB,GAAS4E,EAAAA,EAAAA,OACT1E,EAAQ2E,QAAQ,KAKpBC,EAAAA,EAAAA,IAAgB5D,GAAM,KAClBlB,GAAS4E,EAAAA,EAAAA,OACT1E,EAAQ2E,QAAQ,IAIhC,EAyE0E/D,QAASA,KACvEwB,EAAAA,EAAAA,KAACyC,EAAAA,GAAW,CAACpB,MAAM,SAASY,QAASA,IAAMrE,EAAQ2E,kBAG5D,C","sources":["views/Settings/Agreement/AssessedFees/AssessedFeesForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport FormPage from '../../../../shared/Layout/FormPage';\r\nimport CustomCard, { CustomGridLayout } from '../../../../shared/Cards/CustomCard';\r\nimport formValidation from '../../../../utils/validations';\r\nimport { CustomDropDown, CustomInput, CustomInputNumber, CustomInputSwitch } from '../../../../shared/Input/AllInputs';\r\nimport { getProfitCenters } from '../../../../redux/actions/InventorySettings/profitCenterAction';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AssessedTypeOptions, DeclinedaysOptions, daysOptions, monthDropdownOptions, preferedDueDay, yesNoOptions } from '../../../../utils/dropdownConstants';\r\nimport CustomPickList from '../../../../shared/Input/CustomPickList';\r\nimport PrimaryButton, { CustomButtonGroup, LightButton } from '../../../../shared/Button/CustomButton';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { showFormErrors } from '../../../../utils/commonFunctions';\r\nimport { addAssessedFees, editAssessedFees, getAssesedFees, getAssessedFee } from '../../../../redux/actions/AgreementSettings/assessedFees';\r\nimport useGetClubs from '../../../../hooks/useGetClubs';\r\n\r\nconst AssessedFeesForm = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    useEffect(() => {\r\n        dispatch(getProfitCenters());\r\n    }, [dispatch]);\r\n    const { clubsDropdown } = useGetClubs();\r\n\r\n    const { profitCenterDropdown } = useSelector((state) => state.profitCenter);\r\n    const { loading } = useSelector((state) => state?.loader?.isLoading);\r\n    const initialState = {\r\n        name: '',\r\n        isActive: true,\r\n        type: 'Annual Fee',\r\n        profitCenter: '',\r\n        amount: 0,\r\n        recurring: false,\r\n        membershipPlan: [],\r\n        preferedDueDate: 'Month and Day',\r\n        noOfDays: 0,\r\n        noOfMonths: 0,\r\n        clubs: [],\r\n    };\r\n\r\n    const [data, setData] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            dispatch(\r\n                getAssessedFee(id, (data) => {\r\n                    setData({\r\n                        name: data.name,\r\n                        isActive: data.isActive,\r\n                        type: data.type,\r\n                        profitCenter: data.profitCenter,\r\n                        amount: data.amount,\r\n                        recurring: data.recurring,\r\n                        membershipPlan: data.membershipPlan,\r\n                        preferedDueDate: data.preferedDueDate,\r\n                        noOfDays: data.noOfDays,\r\n                        noOfMonths: data.noOfMonths,\r\n                        clubs: data.clubs,\r\n                    });\r\n                }),\r\n            );\r\n        }\r\n    }, [id, dispatch]);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        const formErrors = formValidation(name, value, data);\r\n        if (name === 'type') {\r\n            setData((prev) => ({\r\n                ...prev,\r\n                type: value,\r\n                profitCenter: '',\r\n                amount: 0,\r\n                recurring: false,\r\n                membershipPlan: [],\r\n                preferedDueDate: '',\r\n                noOfDays: 0,\r\n                noOfMonths: 0,\r\n                clubs: [],\r\n            }));\r\n        } else {\r\n            setData((prev) => ({ ...prev, [name]: value, formErrors }));\r\n        }\r\n    };\r\n\r\n    const onSave = () => {\r\n        let ignore = [];\r\n\r\n        switch (data?.type) {\r\n            case 'Annual Fee':\r\n                if (data?.preferedDueDate === 'Number of Days from Begin Date') {\r\n                    ignore = ['noOfMonths'];\r\n                }\r\n                break;\r\n            case 'Late Fee':\r\n            case 'Decline Fee':\r\n                ignore = ['noOfMonths'];\r\n                break;\r\n            default:\r\n                ignore = ['noOfDays', 'noOfMonths'];\r\n                break;\r\n        }\r\n\r\n        if (showFormErrors(data, setData, ignore)) {\r\n            if (id) {\r\n                dispatch(\r\n                    editAssessedFees(id, data, () => {\r\n                        dispatch(getAssesedFees());\r\n                        history.goBack();\r\n                    }),\r\n                );\r\n            } else {\r\n                dispatch(\r\n                    addAssessedFees(data, () => {\r\n                        dispatch(getAssesedFees());\r\n                        history.goBack();\r\n                    }),\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormPage backText=\"Assessed Fee\">\r\n                <CustomCard col=\"12\" title=\"General\">\r\n                    <CustomInputSwitch name=\"isActive\" data={data} onChange={handleChange} />\r\n                    <CustomGridLayout>\r\n                        <CustomInput name=\"name\" data={data} onChange={handleChange} required />\r\n                        <CustomDropDown name=\"type\" options={AssessedTypeOptions} onChange={handleChange} data={data} />\r\n                        <CustomDropDown name=\"profitCenter\" options={profitCenterDropdown} onChange={handleChange} data={data} required />\r\n                        <CustomInputNumber\r\n                            name=\"amount\"\r\n                            options={yesNoOptions}\r\n                            onChange={handleChange}\r\n                            data={data}\r\n                            col=\"4\"\r\n                            required\r\n                            minFractionDigits={4}\r\n                            maxFractionDigits={4}\r\n                        />\r\n                        {(data?.type === 'Annual Fee' || data?.type === 'Freeze Fee') && (\r\n                            <CustomDropDown name=\"recurring\" options={yesNoOptions} onChange={handleChange} data={data} />\r\n                        )}\r\n                    </CustomGridLayout>\r\n                </CustomCard>\r\n                {data?.type === 'Annual Fee' && (\r\n                    <CustomCard col=\"12\" title=\"Preferred Due Date\">\r\n                        <CustomGridLayout>\r\n                            <CustomDropDown\r\n                                name=\"preferedDueDate\"\r\n                                label=\"Choose how the prefered due day will be determined\"\r\n                                options={preferedDueDay}\r\n                                onChange={handleChange}\r\n                                data={data}\r\n                            />\r\n                            {data?.preferedDueDate === 'Month and Day' ? (\r\n                                <>\r\n                                    <CustomDropDown name=\"noOfMonths\" options={monthDropdownOptions} onChange={handleChange} data={data} />\r\n                                    <CustomDropDown name=\"noOfDays\" options={daysOptions} onChange={handleChange} data={data} />\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <CustomDropDown name=\"noOfDays\" options={daysOptions} onChange={handleChange} data={data} />\r\n                                </>\r\n                            )}\r\n                        </CustomGridLayout>\r\n                    </CustomCard>\r\n                )}\r\n                {(data?.type === 'Late Fee' || data?.type === 'Decline Fee') && (\r\n                    <CustomCard col=\"12\" title=\"Preferred Due Date\">\r\n                        <CustomGridLayout>\r\n                            <CustomDropDown\r\n                                name=\"noOfDays\"\r\n                                label=\"Choose how the prefered due day will be determined\"\r\n                                options={data?.type === 'Late Fee' ? daysOptions : DeclinedaysOptions}\r\n                                onChange={handleChange}\r\n                                data={data}\r\n                            />\r\n                        </CustomGridLayout>\r\n                    </CustomCard>\r\n                )}\r\n                <CustomCard col=\"12\" title=\" Clubs\">\r\n                    <CustomPickList name=\"clubs\" selected={data?.clubs} sourceData={clubsDropdown} onPickListChange={handleChange} />\r\n                </CustomCard>\r\n                {data?.type === 'Annual Fee' && (\r\n                    <CustomCard col=\"12\" title=\"Membership Plans\">\r\n                        <CustomPickList name=\"membershipPlan\" selected={data?.membershipPlan} sourceData={[]} onPickListChange={handleChange} />\r\n                    </CustomCard>\r\n                )}\r\n\r\n                <CustomButtonGroup>\r\n                    <PrimaryButton label=\"Save\" className=\"mx-2\" onClick={onSave} loading={loading} />\r\n                    <LightButton label=\"Cancel\" onClick={() => history.goBack()} />\r\n                </CustomButtonGroup>\r\n            </FormPage>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AssessedFeesForm;\r\n"],"names":["AssessedFeesForm","dispatch","useDispatch","history","useHistory","id","useParams","useEffect","getProfitCenters","clubsDropdown","useGetClubs","profitCenterDropdown","useSelector","state","profitCenter","loading","_state$loader","loader","isLoading","data","setData","useState","name","isActive","type","amount","recurring","membershipPlan","preferedDueDate","noOfDays","noOfMonths","clubs","getAssessedFee","handleChange","_ref","value","formErrors","formValidation","prev","_jsx","_Fragment","children","_jsxs","FormPage","backText","CustomCard","col","title","CustomInputSwitch","onChange","CustomGridLayout","CustomInput","required","CustomDropDown","options","AssessedTypeOptions","CustomInputNumber","yesNoOptions","minFractionDigits","maxFractionDigits","label","preferedDueDay","monthDropdownOptions","daysOptions","DeclinedaysOptions","CustomPickList","selected","sourceData","onPickListChange","CustomButtonGroup","PrimaryButton","className","onClick","onSave","ignore","showFormErrors","editAssessedFees","getAssesedFees","goBack","addAssessedFees","LightButton"],"sourceRoot":""}