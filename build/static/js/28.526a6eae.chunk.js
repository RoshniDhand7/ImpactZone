"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[28],{1028:(e,s,n)=>{n.r(s),n.d(s,{default:()=>v});var t=n(2791),a=n(6886),r=n(3e3),i=n(952),l=n(3319),o=n(184);const c=e=>{let{values:s,expandedKeys:n,selectionKeys:t,onSelectionChange:a}=e;return(0,o.jsx)(l.m,{selectionMode:"checkbox",value:s,expandedKeys:n,selectionKeys:t,onSelectionChange:e=>a(e.value)})};var d=n(6471);function m(e){let{selected:s,setSelected:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{className:"font-bold",children:"Permissions"}),(0,o.jsx)("div",{className:"grid",children:d.h.map(((e,t)=>{let{department:a,expended:i,permissions:l}=e;return(0,o.jsx)(r.ZP,{col:"4",title:a,children:(0,o.jsx)(c,{expandedKeys:i,values:l,selectionKeys:s,onSelectionChange:n})},t)}))})]})}var u=n(9434),x=n(7099),h=n(4880),j=n(7480),p=n(4499),f=n(1520),g=n(9387);const v=()=>{const{id:e}=(0,h.UO)(),s=(0,h.k6)(),n=(0,u.I0)();(0,t.useEffect)((()=>{e&&n((0,x.r9)(e,(e=>{C(e.rawPermissions),c({name:e.name,description:e.description})})))}),[e,n]),(0,t.useEffect)((()=>{n((0,x.Zu)())}),[n]);const[l,c]=(0,t.useState)({name:"",description:""}),[d,v]=(0,t.useState)(!1),[y,C]=(0,t.useState)({}),k=e=>{let{name:s,value:n}=e;const t=(0,g.Z)(s,n,l);c((e=>({...e,[s]:n,formErrors:t})))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.Z,{backText:"Security Roles",children:[(0,o.jsx)(r.ZP,{col:"12",title:"General",children:(0,o.jsxs)(r.R0,{children:[(0,o.jsx)(i.t7,{data:l,name:"name",onChange:k,required:!0,col:3}),(0,o.jsx)(i.Ks,{data:l,onChange:k,name:"description"})]})}),(0,o.jsx)(m,{selected:y,setSelected:e=>{C(e)}}),(0,o.jsxs)(j.GG,{children:[(0,o.jsx)(j.ZP,{label:"Save",className:"mx-2",loading:d,onClick:()=>{(0,f.Ao)(l,c)?Object.keys(y).length?n(e?(0,x.qJ)(e,l,y,v,s):(0,x.Jd)(l,y,v,s)):n((0,p.C)({severity:"error",summary:"Permission Matrix",detail:"Select atleast one permission"})):n((0,p.C)({severity:"error",summary:"Personal Information",detail:"Missing information"}))}}),(0,o.jsx)(j.ah,{label:"Cancel",onClick:()=>s.goBack()})]})]})})}}}]);
//# sourceMappingURL=28.526a6eae.chunk.js.map