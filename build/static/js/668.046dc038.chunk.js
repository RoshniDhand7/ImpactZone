"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[668],{5050:(e,s,n)=>{n.d(s,{A:()=>l});n(5043);var t=n(1688),a=n(6781),r=n(579);function l(e){let{children:s,backText:n,backTo:l}=e;const i=(0,t.W6)(),c=()=>{l?i.replace(l):i.goBack()};return(0,r.jsxs)(a.A,{children:[n?(0,r.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,r.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:c}),(0,r.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:c,children:["Back to ",n]})]}):null,(0,r.jsx)(r.Fragment,{children:s})]})}},2668:(e,s,n)=>{n.r(s),n.d(s,{default:()=>y});var t=n(5043),a=n(5050),r=n(3549),l=n(8735),i=n(9457),c=n(579);const o=e=>{let{values:s,expandedKeys:n,selectionKeys:t,onSelectionChange:a}=e;return(0,c.jsx)(i.P,{selectionMode:"checkbox",value:s,expandedKeys:n,selectionKeys:t,onSelectionChange:e=>a(e.value)})};var d=n(1298);function m(e){let{selected:s,setSelected:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"font-bold",children:"Permissions"}),(0,c.jsx)("div",{className:"grid",children:d.I.map(((e,t)=>{let{department:a,expended:l,permissions:i}=e;return(0,c.jsx)(r.Ay,{col:"4",title:a,children:(0,c.jsx)(o,{expandedKeys:l,values:i,selectionKeys:s,onSelectionChange:n})},t)}))})]})}var x=n(9456),u=n(9358),h=n(1688),p=n(7994),j=n(2392),f=n(1830),g=n(6038);const y=()=>{const{id:e}=(0,h.g)(),s=(0,h.W6)(),n=(0,x.wA)();(0,t.useEffect)((()=>{e&&n((0,u.rr)(e,(e=>{v(e.rawPermissions),o({name:e.name,description:e.description})})))}),[e,n]),(0,t.useEffect)((()=>{n((0,u.VE)())}),[n]);const[i,o]=(0,t.useState)({name:"",description:""}),[d,y]=(0,t.useState)(!1),[k,v]=(0,t.useState)({}),b=e=>{let{name:s,value:n}=e;const t=(0,g.A)(s,n,i);o((e=>({...e,[s]:n,formErrors:t})))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.A,{backText:"Security Roles",children:[(0,c.jsx)(r.Ay,{col:"12",title:"General",children:(0,c.jsxs)(r.a,{children:[(0,c.jsx)(l.wi,{data:i,name:"name",onChange:b,required:!0,col:3}),(0,c.jsx)(l.Ky,{data:i,onChange:b,name:"description"})]})}),(0,c.jsx)(m,{selected:k,setSelected:e=>{v(e)}}),(0,c.jsxs)(p.zp,{children:[(0,c.jsx)(p.Ay,{label:"Save",className:"mx-2",loading:d,onClick:()=>{(0,f.nV)(i,o)?Object.keys(k).length?n(e?(0,u.pB)(e,i,k,y,s):(0,u.QQ)(i,k,y,s)):n((0,j.P)({severity:"error",summary:"Permission Matrix",detail:"Select atleast one permission"})):n((0,j.P)({severity:"error",summary:"Personal Information",detail:"Missing information"}))}}),(0,c.jsx)(p.Ti,{label:"Cancel",onClick:()=>s.goBack()})]})]})})}}}]);
//# sourceMappingURL=668.046dc038.chunk.js.map