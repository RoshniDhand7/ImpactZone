"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[627],{5627:(e,a,t)=>{t.r(a),t.d(a,{default:()=>A});var l=t(5043),n=t(9649),o=t(5050),i=t(3549),s=t(7994),d=t(1688),c=t(9456),r=t(6038),u=t(8085),m=t(7374),h=t(1085),v=t(7602),g=t(6411),x=t(1119),C=t(579);const j=e=>{let{data:a,setData:t,id:n,loading:o,name:d}=e;const[c,r]=(0,l.useState)(!1),[m,h]=(0,l.useState)([]),{CatalogItemsList:j}=(0,x.A)();(0,l.useEffect)((()=>{n&&c&&h(null===a||void 0===a?void 0:a.catalogs)}),[null===a||void 0===a?void 0:a.catalogs,c,n]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(i.Ay,{col:"12",title:d,children:[(0,C.jsx)(i.Fq,{buttonTitle:"Add",onClick:()=>r(!0),extraClass:"justify-content-end gap-2",children:(0,C.jsx)("div",{children:(0,C.jsx)(s.Ay,{label:"Remove All",onClick:()=>{t((e=>({...e,catalogs:[]}))),h([])}})})}),(0,C.jsx)(v.A,{data:null===a||void 0===a?void 0:a.catalogs,columns:[{field:"name",header:"Name"},{field:"upc",header:"UPC"},{field:"unitPrice",header:"Price"}],showSelectionElement:!1,onDelete:e=>{(0,u.QV)((()=>{t((t=>{var l;return{...t,catalogs:null===a||void 0===a||null===(l=a.catalogs)||void 0===l?void 0:l.filter((a=>a._id!==(null===e||void 0===e?void 0:e._id)))}}))}),"Do you want to delete this Catalog Item ?","center")}})]}),(0,C.jsx)(g.A,{title:"Add Catlog Item",visible:c,onCancel:()=>{r("")},loading:o,onSave:()=>{t((e=>({...e,catalogs:m}))),r(!1)},width:"auto",children:(0,C.jsx)(i.a,{children:c&&(0,C.jsx)(v.A,{convertToboolean:!1,data:j,columns:[{selectionMode:"multiple",headerStyle:""},{field:"name",header:" Name"},{field:"upc",header:"UPC"},{field:"unitPrice",header:"Price"}],selectedRow:m,setSelectedRow:h})})})]})},A=()=>{const e=(0,d.W6)(),{id:a}=(0,d.g)(),t=(0,c.wA)(),[v,g]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a&&t((0,h.Dh)(a,(e=>{A({name:e.name,type:e.type,isActive:e.isActive,catalogs:null===e||void 0===e?void 0:e.catalogs})})))}),[a,t]);const[x,A]=(0,l.useState)({name:"",type:"PRODUCTS",isActive:!0,catalogs:[]}),f=e=>{let{name:a,value:t}=e;const l=(0,r.A)(a,t,x);A((e=>({...e,[a]:t,formErrors:l})))};return(0,C.jsxs)(o.A,{backText:"CommissionGroup",children:[(0,C.jsx)(i.Ay,{col:"12",title:"Add New Commission Group",children:(0,C.jsxs)(i.a,{children:[(0,C.jsx)(n.wi,{name:"name",data:x,onChange:f,required:!0}),(0,C.jsx)(n.BR,{name:"type",options:m.Xq,data:x,onChange:f}),(0,C.jsx)(n.o4,{name:"isActive",data:x,onChange:f,col:4})]})}),(0,C.jsx)(j,{data:x,setData:A,id:a,loading:v,name:"Catalog Items"}),(0,C.jsxs)(s.zp,{children:[(0,C.jsx)(s.Ay,{label:"Save",className:"mx-2",onClick:()=>{(0,u.nV)(x,A)&&t(a?(0,h.YZ)(a,x,g,e):(0,h.L$)(x,g,e))},loading:v}),(0,C.jsx)(s.Ti,{label:"Cancel",onClick:()=>e.goBack()})]})]})}}}]);
//# sourceMappingURL=627.76692b95.chunk.js.map