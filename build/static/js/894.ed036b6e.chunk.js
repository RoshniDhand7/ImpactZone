"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{2894:(e,s,i)=>{i.r(s),i.d(s,{default:()=>C});var n=i(5043),a=i(5050),o=i(3549),l=i(666),c=i(6038),t=i(7994),m=i(1688),d=i(9456),r=i(7374),u=i(6911),A=i(8085),x=i(9273),h=i(8701),g=i(1047),v=i(4441),w=i(1923),p=i(579);const C=()=>{var e;const s=(0,d.wA)(),{id:i}=(0,m.g)();(0,n.useEffect)((()=>{s((0,x.vR)())}),[s]);const[C,j]=(0,n.useState)({name:"",description:"",discount:"None",accessRestriction:!1,accessSchedule:null,remoteCheckin:!1,transferToAnotherType:null,clubCreditAmount:"",specialResrictions:"",minimumAgeAllowed:0,maximumAgeAllowed:0,maximumDaysAllowed:0,maximumDistanceAllowed:0,clubs:[],services:[],isActive:!0}),{AccessScheduleDropdown:b}=(0,d.d4)((e=>e.accessSchedule));let{membershipTypesDropdown:y}=(0,d.d4)((e=>e.settings.members));y=null===(e=y)||void 0===e?void 0:e.filter((e=>e.name!==(null===C||void 0===C?void 0:C.name)));const{clubsDropdown:D}=(0,g.A)(),{allDiscountDropdown:R}=(0,v.A)(),B=(0,m.W6)(),{isTableLoading:f}=(0,d.d4)((e=>null===e||void 0===e?void 0:e.tableLoader));(0,n.useEffect)((()=>{i&&s((0,w.nK)(i,(e=>{j({name:e.name,description:e.description,discount:null===e.discount?"None":e.discount,accessRestriction:e.accessRestriction,accessSchedule:e.accessSchedule,remoteCheckin:e.remoteCheckin,transferToAnotherType:e.transferToAnotherType,clubCreditAmount:e.clubCreditAmount,specialResrictions:e.specialResrictions,minimumAgeAllowed:e.minimumAgeAllowed,maximumAgeAllowed:e.maximumAgeAllowed,maximumDaysAllowed:e.maximumDaysAllowed,maximumDistanceAllowed:e.maximumDistanceAllowed,clubs:e.clubs,services:e.services,isActive:!0})})))}),[i,s]);const k=e=>{let{name:s,value:i}=e;const n=(0,c.A)(s,i,C);j((e=>({...e,[s]:i,formErrors:n})))},T=[...r.$n,...R];return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(a.A,{backText:"Membership Types",children:[(0,p.jsxs)(o.Ay,{col:"12",title:"General",children:[(0,p.jsx)(l.o4,{name:"isActive",data:C,onChange:k}),(0,p.jsxs)(o.a,{children:[(0,p.jsx)(l.wi,{name:"name",data:C,onChange:k,required:!0}),(0,p.jsx)(l.wi,{name:"description",data:C,onChange:k}),(0,p.jsx)(l.BR,{name:"discount",options:T,onChange:k,data:C}),(0,p.jsx)(l.BR,{name:"accessRestriction",options:r.r4,onChange:k,data:C}),(null===C||void 0===C?void 0:C.accessRestriction)&&(0,p.jsx)(l.BR,{name:"accessSchedule",options:b,onChange:k,data:C}),(0,p.jsx)(l.BR,{name:"remoteCheckin",options:r.r4,onChange:k,data:C}),(0,p.jsx)(l.BR,{name:"transferToAnotherType",options:y,onChange:k,data:C}),(0,p.jsx)(l.Bt,{prefix:"$",name:"clubCreditAmount",data:C,onChange:k,col:"4"}),(0,p.jsx)(l.BR,{name:"specialResrictions",options:r.So,onChange:k,data:C}),"By Age"===(null===C||void 0===C?void 0:C.specialResrictions)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(l.Bt,{name:"minimumAgeAllowed",data:C,onChange:k,col:"4"}),(0,p.jsx)(l.Bt,{name:"maximumAgeAllowed",data:C,onChange:k,col:"4"})]}),"By Location"===(null===C||void 0===C?void 0:C.specialResrictions)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.Bt,{name:"maximumDistanceAllowed",data:C,onChange:k,col:"4"})}),"By Days"===(null===C||void 0===C?void 0:C.specialResrictions)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(l.Bt,{name:"maximumDaysAllowed",data:C,onChange:k,col:"4"})})]})]}),(0,p.jsx)(o.Ay,{col:"12",title:" Clubs",children:(0,p.jsx)(u.A,{name:"clubs",selected:null===C||void 0===C?void 0:C.clubs,sourceData:D,onPickListChange:k})}),(0,p.jsx)(h.A,{data:C,setData:j,id:i,loading:f,name:"Add Services"}),(0,p.jsxs)(t.zp,{children:[(0,p.jsx)(t.Ay,{label:"Save",className:"mx-2",onClick:()=>{let e=[];switch(null===C||void 0===C?void 0:C.specialResrictions){case"By Age":e=["maximumDaysAllowed","maximumDistanceAllowed","services"];break;case"By Location":e=["minimumAgeAllowed","maximumAgeAllowed","maximumDaysAllowed","services"];break;case"By Days":e=["maximumAgeAllowed","minimumAgeAllowed","maximumDistanceAllowed","services"];break;default:e=["maximumDaysAllowed","maximumDistanceAllowed","minimumAgeAllowed","maximumAgeAllowed","services","clubs"]}(0,A.nV)(C,j,e)&&s(i?(0,w.TV)(i,{...C,services:(0,A.rO)(C.services),discount:"None"===C.discount?null:C.discount},B):(0,w.E1)({...C,services:(0,A.rO)(C.services),discount:"None"===C.discount?null:C.discount},(()=>B.goBack())))},loading:f}),(0,p.jsx)(t.Ti,{label:"Cancel",onClick:()=>B.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.ed036b6e.chunk.js.map