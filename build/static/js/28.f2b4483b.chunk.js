"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[28],{6886:(e,s,n)=>{n.d(s,{Z:()=>l});n(2791);var t=n(4880),a=n(4822),r=n(184);function l(e){let{children:s,backText:n,backTo:l}=e;const i=(0,t.k6)(),c=()=>{l?i.replace(l):i.goBack()};return(0,r.jsxs)(a.Z,{children:[n?(0,r.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,r.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:c}),(0,r.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:c,children:["Back to ",n]})]}):null,(0,r.jsx)(r.Fragment,{children:s})]})}},1028:(e,s,n)=>{n.r(s),n.d(s,{default:()=>g});var t=n(2791),a=n(6886),r=n(3e3),l=n(952),i=n(3319),c=n(184);const o=e=>{let{values:s,expandedKeys:n,selectionKeys:t,onSelectionChange:a}=e;return(0,c.jsx)(i.m,{selectionMode:"checkbox",value:s,expandedKeys:n,selectionKeys:t,onSelectionChange:e=>a(e.value)})};var d=n(6471);function m(e){let{selected:s,setSelected:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"font-bold",children:"Permissions"}),(0,c.jsx)("div",{className:"grid",children:d.h.map(((e,t)=>{let{department:a,expended:l,permissions:i}=e;return(0,c.jsx)(r.ZP,{col:"4",title:a,children:(0,c.jsx)(o,{expandedKeys:l,values:i,selectionKeys:s,onSelectionChange:n})},t)}))})]})}var x=n(9434),u=n(7099),h=n(4880),j=n(7480),p=n(4499),k=n(1520),f=n(9387);const g=()=>{const{id:e}=(0,h.UO)(),s=(0,h.k6)(),n=(0,x.I0)();(0,t.useEffect)((()=>{e&&n((0,u.r9)(e,(e=>{y(e.rawPermissions),o({name:e.name,description:e.description})})))}),[e,n]),(0,t.useEffect)((()=>{n((0,u.Zu)())}),[n]);const[i,o]=(0,t.useState)({name:"",description:""}),[d,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)({}),C=e=>{let{name:s,value:n}=e;const t=(0,f.Z)(s,n,i);o((e=>({...e,[s]:n,formErrors:t})))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.Z,{backText:"Security Roles",children:[(0,c.jsx)(r.ZP,{col:"12",title:"General",children:(0,c.jsxs)(r.R0,{children:[(0,c.jsx)(l.t7,{data:i,name:"name",onChange:C,required:!0,col:3}),(0,c.jsx)(l.Ks,{data:i,onChange:C,name:"description"})]})}),(0,c.jsx)(m,{selected:v,setSelected:e=>{y(e)}}),(0,c.jsxs)(j.GG,{children:[(0,c.jsx)(j.ZP,{label:"Save",className:"mx-2",loading:d,onClick:()=>{(0,k.Ao)(i,o)?Object.keys(v).length?n(e?(0,u.qJ)(e,i,v,g,s):(0,u.Jd)(i,v,g,s)):n((0,p.C)({severity:"error",summary:"Permission Matrix",detail:"Select atleast one permission"})):n((0,p.C)({severity:"error",summary:"Personal Information",detail:"Missing information"}))}}),(0,c.jsx)(j.ah,{label:"Cancel",onClick:()=>s.goBack()})]})]})})}}}]);
//# sourceMappingURL=28.f2b4483b.chunk.js.map