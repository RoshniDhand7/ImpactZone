"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[320],{3585:(e,a,t)=>{t.d(a,{GJ:()=>d,Jb:()=>m,mv:()=>u,tG:()=>p,xJ:()=>y});var n=t(2426),s=t.n(n),o=t(1526),l=t(988),i=t(1529),r=t(3048),c=t(4499);t(1520);const d=(e,a)=>async t=>{a&&a(!0);const n={employee:e},s=await(0,o.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},n);s.success&&s.data&&t({type:i.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:s.data}),a&&a(!1)},m=function(e,a,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async i=>{a(!0);const r={...e,acquiredDate:s()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(e.expirationDate).format("MM/DD/YYYY")},d=await(0,o.Z)("post",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,r);d.success&&(n?t.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(n)):t.goBack(),i((0,c.C)({severity:"success",summary:d.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,r.f)());const n=await(0,o.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);n.success&&n.data&&a&&a(n.data),t((0,r.t)())},p=function(e,a,t,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async r=>{t(!0);const d={...a,acquiredDate:s()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(a.expirationDate).format("MM/DD/YYYY")},m=await(0,o.Z)("put",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,d);m.success&&(i?n.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(i)):n.goBack(),r((0,c.C)({severity:"success",summary:m.message}))),t(!1)}},y=e=>async a=>{const t=await(0,o.Z)("delete",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(a(d((()=>{}))),a((0,c.C)({severity:"success",summary:t.message}))):a((0,c.C)({severity:"error",summary:t.message}))}},6886:(e,a,t)=>{t.d(a,{Z:()=>l});t(2791);var n=t(4880),s=t(4822),o=t(184);function l(e){let{children:a,backText:t,backTo:l}=e;const i=(0,n.k6)(),r=()=>{l?i.replace(l):i.goBack()};return(0,o.jsxs)(s.Z,{children:[t?(0,o.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,o.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:r}),(0,o.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:r,children:["Back to ",t]})]}):null,(0,o.jsx)(o.Fragment,{children:a})]})}},4622:(e,a,t)=>{t.d(a,{Z:()=>l});var n=t(9856),s=(t(2791),t(7480)),o=t(184);function l(e){let{title:a,visible:t,position:l,width:i="30vw",onSave:r,loading:c,onCancel:d,children:m}=e;const u=(0,o.jsxs)(s.GG,{children:[r?(0,o.jsx)(s.ZP,{label:"Save",className:"mx-2",loading:c,onClick:r}):null,d?(0,o.jsx)(s.ah,{label:"Cancel",onClick:d}):null]});return(0,o.jsx)(n.V,{modal:!0,header:a,headerClassName:"justify-content-start",visible:t,style:{width:i},onHide:d,footer:r||d?u:"",draggable:!1,resizable:!1,position:l,children:m})}},7929:(e,a,t)=>{t.d(a,{IP:()=>h,Jj:()=>m,Ni:()=>u,SW:()=>i,WD:()=>o,WJ:()=>C,es:()=>r,g9:()=>c,gv:()=>y,iq:()=>l,lp:()=>d,mt:()=>p,vA:()=>s,yM:()=>n,zC:()=>g});const n=[{name:"Yes",value:"true"},{name:"No",value:"false"}],s=[{name:"$",value:"FIXED"},{name:"%",value:"PERCENTAGE"}],o=[{name:"Single Client",value:"SINGLE_CLIENT"},{name:"Service Value",value:"SERVICE_VALUE"}],l=["Products","Services","Agreement"].map((e=>({name:e,value:e}))),i=["Days","Weeks","Months","Years"].map((e=>({name:e,value:e.toUpperCase()}))),r=["Private Sessions","Yoga Sessions","Reformer","Etc"].map((e=>({name:e,value:e}))),c=[{name:"No Limit",value:"No Limit"}];for(let x=1;x<=50;x++){const e={name:"".concat(x),value:"".concat(x)};c.push(e)}const d=[{name:"Week (7 days)",value:"Week (7 Days)"},{name:"Month (30 days)",value:"Month (30 days)"},{name:"Year (365 days)",value:"Year (365 days)"},{name:"Calendar Week (sunday)",value:"Calendar Week (sunday)"},{name:"Calendar Week (monday)",value:"Calendar Week (monday)"},{name:"Calendar Month",value:"Calendar Month"},{name:"Calendar Year",value:"Calendar Year"}],m=[{name:"Club",value:"Club"},{name:"Company",value:"Company"}],u=[];for(let x=1;x<=30;x++){const e={name:"".concat(x," days"),value:"".concat(x," days")};u.push(e)}const p=[];for(let x=12;x<=72;x+=12){const e={name:"".concat(x," hours"),value:"".concat(x," hours")};p.push(e)}const y=["Agreement Hold","Cancel Pending POS Transaction","Cancel Agreement","Cancel Price","Commission Override","Drawer Adjustment","Event Status","Freeze Agreement","No Sale","Void","Waive Tax"].map((e=>({name:e,value:e}))),C=[{name:"Incremental Pay",value:"INCREMENTAL_PAY"},{name:"Pay Per Class",value:"PAY_PER_CLASS"},{name:"Pay Per Client",value:"PAY_PER_CLIENT"},{name:"% Rate",value:"PERCENTAGE_RATE"}],h=[{name:"Suggested",value:"SUGGESTED"},{name:"High",value:"HIGH"},{name:"Medium",value:"MEDIUM"},{name:"Low",value:"LOW"}],g=[{name:"Per Event",value:"PER-EVENT"},{name:"Person",value:"PERSON"}]},320:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Q});var n=t(2791),s=t(6886),o=t(9809),l=t(3e3),i=t(7480),r=t(2711),c=t(7929),d=t(3638),m=t(184);const u=e=>{let{selected:a=[],name:t,sourceData:s=[],onPickListChange:o,breakpoint:l="1280px",sourceHeader:i="Available",targetHeader:r="Selected",sourceStyle:c={height:"24rem"},targetStyle:u={height:"24rem"},showSourceControls:p=!1,showTargetControls:y=!1}=e;(0,n.useEffect)((()=>{if(s.length&&a){let e=s.filter((e=>a.includes(e.value))),t=s.filter((e=>!a.includes(e.value)));h(t),x(e)}}),[s,null===a||void 0===a?void 0:a.length]);const[C,h]=(0,n.useState)([]),[g,x]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(o){let e=g.map((e=>e.value));o({name:t,value:e})}}),[null===g||void 0===g?void 0:g.length,t]),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)(d.G,{source:C,target:g,onChange:e=>{let{target:a,source:t}=e;h(t),x(a)},itemTemplate:e=>(0,m.jsx)("div",{className:"flex flex-wrap p-2 align-items-center gap-3",children:(0,m.jsx)("h6",{children:e.name})}),breakpoint:l,sourceHeader:i,targetHeader:r,sourceStyle:c,targetStyle:u,showSourceControls:p,showTargetControls:y})})};var p=t(9387),y=t(1520),C=t(9434),h=t(4880),g=t(4418),x=t(2433),v=t(7099);const E=()=>{var e;const a=(0,C.I0)(),{id:t}=(0,h.UO)(),s=(0,h.k6)(),[o,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a((0,x.ip)()),a((0,v.Oh)())}),[a]);let{allSecurityRoles:E}=(0,C.v9)((e=>null===e||void 0===e?void 0:e.securityRole));E=null===(e=E)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,n.useEffect)((()=>{t&&a((0,g.Jf)(t,(e=>{T({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn.toString(),securityRoles:e.securityRoles})})))}),[t,a]);const{allJobTitle:j}=(0,C.v9)((e=>e.jobTitle)),[P,T]=(0,n.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:"",dob:"",socialSecurity:"",barCode:"",accessCode:"",email:"",multiClubClockIn:"",securityRoles:[]}),f=e=>{let{name:a,value:t}=e;const n=(0,p.Z)(a,t,P);T((e=>({...e,[a]:t,formErrors:n})))},S=e=>{(0,y.Ao)(P,T,["jobTitle"])&&a(t?(0,g.to)(t,P,d,s,e):(0,g.tx)(P,d,s,e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Personal",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{name:"firstName",required:!0,col:3,data:P,onChange:f}),(0,m.jsx)(r.t7,{name:"middleInitial",col:1,data:P,onChange:f}),(0,m.jsx)(r.t7,{name:"lastName",required:!0,data:P,onChange:f}),(0,m.jsx)(r.T3,{name:"jobTitle",data:P,onChange:f,options:null===j||void 0===j?void 0:j.map(((e,a)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,m.jsx)(r.FB,{name:"dob",data:P,onChange:f}),(0,m.jsx)(r.t7,{name:"socialSecurity",data:P,onChange:f})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"System",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{name:"barCode",required:!0,data:P,onChange:f}),(0,m.jsx)(r.t7,{name:"accessCode",required:!0,data:P,onChange:f}),(0,m.jsx)(r.t7,{name:"email",required:!0,data:P,onChange:f}),(0,m.jsx)(r.T3,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:c.yM,data:P,onChange:f})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Select Roles",children:(0,m.jsx)("div",{col:12,children:(0,m.jsx)(u,{name:"securityRoles",selected:null===P||void 0===P?void 0:P.securityRoles,sourceData:E,onPickListChange:f})})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",onClick:()=>S(""),loading:o}),(0,m.jsx)(i.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>S("?tab=general"),loading:o}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>s.replace("/settings/employee")})]})]})};var j=t(7162),P=t(7083),T=t(3954),f=t(4053);const S={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},b=e=>{let{name:a,value:t,data:s,onDropChange:o,multiple:l=!0}=e;const[i,r]=(0,n.useState)(t||(null===s||void 0===s?void 0:s[a])||[]);(0,n.useEffect)((()=>{(t||null!==s&&void 0!==s&&s[a])&&JSON.stringify(t||(null===s||void 0===s?void 0:s[a]))!==JSON.stringify(i)&&r(t||(null===s||void 0===s?void 0:s[a]))}),[t||(null===s||void 0===s?void 0:s[a])]),(0,n.useEffect)((()=>{o&&o({name:a,value:i})}),[i,a]);const c=(0,n.useCallback)(((e,a)=>{a.length>0?console.log("Rejected Files:",a):e.forEach((e=>{i.some((a=>a.name===e.name))?console.log('File "'.concat(e.name,'" is already selected.')):r((a=>[...a,e]))}))}),[i]),{getRootProps:d,getInputProps:u,isDragActive:p,isDragAccept:y,isDragReject:C}=(0,T.uI)({onDrop:c,multiple:l,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),h=(0,n.useMemo)((()=>({...y?{borderColor:"#00e676"}:{},...C?{borderColor:"#ff1744"}:{}})),[y,C]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{...d({style:h}),style:S,children:[(0,m.jsx)("input",{...u()}),p?C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.q,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.q,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j.q,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,m.jsx)("div",{className:"flex flex-wrap my-2",children:(null===i||void 0===i?void 0:i.length)>0&&(null===i||void 0===i?void 0:i.map(((e,a)=>(0,m.jsx)(j.q,{className:"p-overlay-badge my-2 mr-3",image:(0,f.Q)(e),size:"xlarge",children:(0,m.jsx)(P.C,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{r((a=>a.filter(((a,t)=>t!==e))))})(a)})}))))})]})},N=()=>{const e=(0,C.I0)(),a=(0,h.k6)(),{id:t}=(0,h.UO)(),[s,o]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[x,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,y.v9)();const e=(0,y.ec)("US");o(e)}),[e]),(0,n.useEffect)((()=>{t&&e((0,g.Jf)(t,(e=>{var a;j({hireDate:new Date(e.hireDate),terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:null===(a=e.emailNotification)||void 0===a?void 0:a.toString(),onlineNickName:e.onlineNickName,bio:e.bio,image:e.image?[e.image]:[]});const t=(0,y.gb)("US",e.state);u(t)})))}),[t,e]);const[E,j]=(0,n.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",image:[]}),P=e=>{let{name:a,value:t}=e;const n=(0,p.Z)(a,t,E);if("state"===a){const e=(0,y.gb)("US",t);u(e),j((e=>({...e,[a]:t,city:"",formErrors:n})))}else j((e=>({...e,[a]:t,formErrors:n})))},T=n=>{(0,y.Ao)(E,j)&&t&&e((0,g.to)(t,E,v,a,n))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Employement",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.FB,{id:"hireDate",name:"hireDate",onChange:P,data:E}),(0,m.jsx)(r.t7,{name:"adpId",onChange:P,data:E})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Contact",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.XX,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:P,data:E}),(0,m.jsx)(r.XX,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:P,data:E}),(0,m.jsx)(r.XX,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:P,data:E}),(0,m.jsx)(r.XX,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:P,data:E}),(0,m.jsx)(r.XX,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:P,data:E}),(0,m.jsx)(r.t7,{name:"street",onChange:P,data:E}),(0,m.jsx)(r.T3,{name:"state",options:s,onChange:P,data:E}),(0,m.jsx)(r.T3,{name:"city",options:d,onChange:P,data:E}),(0,m.jsx)(r.t7,{name:"zipCode",onChange:P,data:E}),(0,m.jsx)(r.T3,{name:"emailNotification",options:c.yM,onChange:P,data:E})]})}),(0,m.jsxs)(l.ZP,{col:"12",title:"Online",children:[(0,m.jsx)(r.t7,{name:"onlineNickName",onChange:P,data:E}),(0,m.jsx)(r.Ks,{name:"bio",onChange:P,data:E})]}),(0,m.jsx)(l.ZP,{col:"12",title:"Photo",children:(0,m.jsx)(b,{name:"image",onDropChange:P,data:E,multiple:!1})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",onClick:()=>T(""),loading:x}),(0,m.jsx)(i.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>T("?tab=departments"),loading:x}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>a.replace("/settings/employee")})]})]})};var A=t(2666);const I=()=>{const e=(0,C.I0)(),{id:a}=(0,h.UO)(),t=(0,h.k6)();(0,n.useEffect)((()=>{e((0,A.Er)())}),[e]);let{clubsDropdown:s}=(0,C.v9)((e=>e.clubs));const[o,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a&&e((0,g.Jf)(a,(e=>{d({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[a,e]);const[c,d]=(0,n.useState)({reportDataAccess:[],clubs:[]}),p=e=>{let{name:a,value:t}=e;d((e=>({...e,[a]:t})))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Report Data Access",children:(0,m.jsx)(u,{name:"reportDataAccess",selected:null===c||void 0===c?void 0:c.reportDataAccess,sourceData:s,onPickListChange:p})}),(0,m.jsx)(l.ZP,{col:"12",title:"Clubs",children:(0,m.jsx)(u,{name:"clubs",selected:null===c||void 0===c?void 0:c.clubs,sourceData:s,onPickListChange:p})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",loading:o,onClick:()=>{a&&e((0,g.to)(a,c,r,t))}}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var R=t(97);const _=e=>{let{name:a,data:t,value:n,onTextChange:s,height:o="320px"}=e;return(0,m.jsx)("div",{className:"custom-editor",children:(0,m.jsx)(R.M,{value:n||(null===t||void 0===t?void 0:t[a]),onTextChange:e=>s&&s({...e,name:a,value:e.htmlValue}),style:{height:o}})})},O=()=>{const{id:e}=(0,h.UO)(),a=(0,C.I0)(),t=(0,h.k6)(),[s,o]=(0,n.useState)({notes:""});(0,n.useEffect)((()=>{e&&a((0,g.Jf)(e,(e=>{o({notes:e.notes})})))}),[e,a]);const[r,c]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Notes",children:(0,m.jsx)(_,{name:"notes",onTextChange:e=>{let{name:a,value:t}=e;o((e=>({...e,[a]:t})))},data:s})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",loading:r,onClick:()=>{e&&a((0,g.to)(e,s,c,t))}}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var k=t(8932),w=t(3585);const Z=()=>{const e=(0,C.I0)(),{id:a}=(0,h.UO)(),t=(0,h.k6)();(0,n.useEffect)((()=>{e((0,w.GJ)(a))}),[e]);const{allCertificates:s}=(0,C.v9)((e=>e.certificates));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(a)}),(0,m.jsx)(k.Z,{data:s,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{t.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(a))},onDelete:(a,t)=>{(0,y.j3)((()=>{e((0,w.xJ)(a._id,(()=>{})))}),"Do you want to delete this Certificates ?",t)}})]})};var D=t(4622),M=t(4778);function Y(){const{id:e}=(0,h.UO)();let{departmentsDropdown:a}=(0,C.v9)((e=>null===e||void 0===e?void 0:e.department));const t=(0,C.I0)();(0,n.useEffect)((()=>{t((0,M.Ps)()),s(e)}),[t]);const s=e=>{t((0,M.am)(e,d,(e=>{x(e)})))},[o,i]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[g,x]=(0,n.useState)([]),[v,E]=(0,n.useState)({departments:[],wage:0}),j=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))},P=()=>{i(!1),E({departments:[],wage:0}),p(null)};let T=a.filter((e=>!g.map((e=>e.department)).includes(e.value)));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add Department",onClick:()=>i(!0)}),(0,m.jsx)(k.Z,{data:g,columns:[{field:"departmentName",header:"Name"},{field:"wage",header:"Wage"}],onEdit:e=>(e=>{p(e);let a=g.find((a=>a._id===e));E({departments:[a.department],wage:a.wage}),i(!0)})(e._id),onDelete:a=>{(0,y.j3)((()=>{t((0,M.w9)(a._id,(()=>{s(e),P()})))}),"Do you want to delete this Employee Department?")}}),(0,m.jsx)(D.Z,{title:"Add",visible:o,onCancel:P,loading:c,onSave:()=>{t(u?(0,M.vJ)(u,{wage:v.wage},d,(()=>{s(e),P()})):(0,M.b0)({...v,employee:e},d,(()=>{s(e),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.pc,{col:"12",name:"departments",data:v,onChange:j,options:u?a:T,disabled:!!u}),(0,m.jsx)(r.l9,{col:"12",name:"wage",data:v,onChange:j})]})})]})}var L=t(4850),F=t(1526),G=t(988),U=t(3048),X=t(4499);const V=e=>{var a;let{visible:t,setVisible:s,id:o,employeeClassId:i,setEmployeeClassId:d}=e;console.log("id>>",o,i);const[u,p]=(0,n.useState)(!1),[y,h]=(0,n.useState)({}),g=(0,C.I0)(),x=()=>{s(!1),S(E),d(null)};(0,n.useEffect)((()=>{i&&v(i)}),[i]);const v=e=>{g(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,F.Z)("get",G.Z.EMPLOYEE_CLASSES+e);s.success&&s.data&&t&&t(s.data),a&&a(!1)})(e,p,(e=>{h(e)})))},E={payType:"INCREMENTAL_PAY",oneToFiveClients:0,sixToTenClients:0,elevenToFifteenClients:0,sixteenToTwentyClients:0,twentyOneToTwentyFiveClients:0,twentySixPlusClients:0,noRegistrationPay:0},j={payType:"PAY_PER_CLASS",payPerClassRate:0,noRegistrationPay:0},P={payType:"PAY_PER_CLIENT",baseRate:0,payPerClientRate:0,eachClientOver:[{noOfClients:0,rate:0},{noOfClients:0,rate:0},{noOfClients:0,rate:0}],maxPayPerClient:0,noRegistrationPay:0},T={payType:"PERCENTAGE_RATE",percentage:0,noRegistrationPay:0},[f,S]=(0,n.useState)(E);(0,n.useEffect)((()=>{i||("INCREMENTAL_PAY"===(null===f||void 0===f?void 0:f.payType)?S(E):"PAY_PER_CLASS"===(null===f||void 0===f?void 0:f.payType)?S(j):"PAY_PER_CLIENT"===(null===f||void 0===f?void 0:f.payType)?S(P):"PERCENTAGE_RATE"===(null===f||void 0===f?void 0:f.payType)&&S(T))}),[null===f||void 0===f?void 0:f.payType]),(0,n.useEffect)((()=>{if(i&&y){const{oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:n,twentyOneToTwentyFiveClients:s,twentySixPlusClients:o,noRegistrationPay:l,payPerClassRate:i,baseRate:r,payPerClientRate:c,maxPayPerClient:d,percentage:m}=y;let u={};switch(null===y||void 0===y?void 0:y.payType){case"INCREMENTAL_PAY":u={payType:"INCREMENTAL_PAY",oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:n,twentyOneToTwentyFiveClients:s,twentySixPlusClients:o,noRegistrationPay:l};break;case"PAY_PER_CLASS":u={payType:"PAY_PER_CLASS",payPerClassRate:i,noRegistrationPay:l};break;case"PAY_PER_CLIENT":u={payType:"PAY_PER_CLIENT",baseRate:r,payPerClientRate:c,eachClientOver:y.eachClientOver.map((e=>({noOfClients:e.noOfClients,rate:e.rate}))),maxPayPerClient:d,noRegistrationPay:l};break;case"PERCENTAGE_RATE":u={payType:"PERCENTAGE_RATE",percentage:m,noRegistrationPay:l};break;default:u={}}S(u)}}),[y]);const b=e=>{let{name:a,value:t}=e;S((e=>({...e,[a]:t})))},N=(e,a,t)=>{const n=[...f.eachClientOver];n[e][a]=t,S((e=>({...e,eachClientOver:n})))};return console.log("data>>",f),console.log("employeeClasses>>",y),(0,m.jsx)("div",{children:(0,m.jsx)(D.Z,{title:i?"Edit":"Add",visible:t,onCancel:x,loading:u,onSave:()=>{i&&g(((e,a,t,n)=>async s=>{t(!0);const o=await(0,F.Z)("put",G.Z.EMPLOYEE_CLASSES+e,a);o.success?n():s((0,X.C)({severity:"error",summary:o.message})),t(!1)})(i,f,p,(()=>{x()}))),g(((e,a,t)=>async n=>{a(!0);const s=await(0,F.Z)("post",G.Z.EMPLOYEE_CLASSES,e);s.success?t():n((0,X.C)({severity:"error",summary:s.message})),a(!1)})({...f,employee:o},p,(()=>{x()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.T3,{name:"payType",data:f,onChange:b,options:c.WJ,col:12,disabled:!!i}),"INCREMENTAL_PAY"===(null===f||void 0===f?void 0:f.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{label:"1-5 Clients",name:"oneToFiveClients",data:f,onChange:b}),(0,m.jsx)(r.l9,{label:"6-10 Clients",name:"sixToTenClients",data:f,onChange:b}),(0,m.jsx)(r.l9,{label:"11-15 Clients",name:"elevenToFifteenClients",data:f,onChange:b}),(0,m.jsx)(r.l9,{label:"16-20 Clients",name:"sixteenToTwentyClients",data:f,onChange:b}),(0,m.jsx)(r.l9,{label:"21-25 Clients",data:f,name:"twentyOneToTwentyFiveClients",onChange:b}),(0,m.jsx)(r.l9,{label:"26+ Clients",data:f,name:"twentySixPlusClients",onChange:b}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:f,onChange:b})]}),"PAY_PER_CLASS"===(null===f||void 0===f?void 0:f.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:f,name:"payPerClassRate",onChange:b}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:f,onChange:b})]}),"PAY_PER_CLIENT"===(null===f||void 0===f?void 0:f.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{name:"baseRate",data:f,onChange:b}),(0,m.jsx)(r.l9,{name:"payPerClientRate",data:f,onChange:b}),null===f||void 0===f||null===(a=f.eachClientOver)||void 0===a?void 0:a.map(((e,a)=>(0,m.jsx)("div",{className:" col-12 ",children:(0,m.jsxs)("div",{className:"grid",children:[(0,m.jsx)(r.l9,{name:"noOfClients",value:null===e||void 0===e?void 0:e.noOfClients,onChange:e=>N(a,"noOfClients",e.value),col:6}),(0,m.jsx)(r.l9,{name:"rate",value:null===e||void 0===e?void 0:e.rate,onChange:e=>N(a,"rate",e.value),col:6})]})},a))),(0,m.jsx)(r.l9,{data:f,name:"noRegistrationPay",onChange:b}),(0,m.jsx)(r.l9,{data:f,name:"maxPayPerClient",onChange:b})]}),"PERCENTAGE_RATE"===(null===f||void 0===f?void 0:f.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:f,name:"percentage",onChange:b}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:f,onChange:b})]})]})})})};function q(){const e=(0,C.I0)(),{id:a}=(0,h.UO)();(0,n.useEffect)((()=>{p(a)}),[e]);const[t,s]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)([{id:"1000",code:"f230fh0g3",name:"Bamboo Watch",description:"Product Description",image:"bamboo-watch.jpg",price:65,category:"Accessories",quantity:24,inventoryStatus:"INSTOCK",rating:5}]),p=a=>{e(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,F.Z)("get",G.Z.EMPLOYEE_CLASSES,"",{employee:e});s.success&&s.data&&t&&t(s.data),a&&a(!1)})(a,i,(e=>{u(e)})))},g=t=>{(0,y.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,F.Z)("delete",G.Z.EMPLOYEE_CLASSES+e);n.success?a():t((0,X.C)({severity:"error",summary:n.message}))})(t._id,(()=>{p(a)})))}),"Do you want to delete this Employee Classes?")};return(0,m.jsxs)("div",{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>s(!0)}),(0,m.jsxs)(l.ZP,{col:"12",title:"Pay",children:[(0,m.jsx)(L.VO,{value:d,itemTemplate:e=>(0,m.jsxs)("div",{className:"col-12 grid",children:[(0,m.jsx)("div",{className:"col-11",children:e.payType}),(0,m.jsxs)("div",{className:"col-1",children:[(0,m.jsx)("i",{className:"mx-2 cursor-pointer pi pi-pencil",onClick:()=>(e=>{c(null===e||void 0===e?void 0:e._id),s(!0)})(e)}),(0,m.jsx)("i",{className:"mx-2 cursor-pointer pi pi-trash",onClick:()=>g(e)})]})]},e.id)}),(0,m.jsx)(V,{visible:t,setVisible:s,id:a,employeeClassId:r,setEmployeeClassId:c})]})]})}function W(){const{id:e}=(0,h.UO)(),a=(0,C.I0)(),[t,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[p,g]=(0,n.useState)({name:"",priority:"MEDIUM"}),[x,v]=(0,n.useState)("");(0,n.useEffect)((()=>{E(e)}),[]);const E=e=>{a(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,F.Z)("get",G.Z.SUSTITITION_OPTIONS,"",{employee:e});s.success&&s.data&&t&&t(s.data),a&&a(!1)})(e,i,(e=>{s(e)})))};(0,n.useEffect)((()=>{console.log(x),x&&a(((e,a)=>async t=>{t((0,U.f)());const n=await(0,F.Z)("get",G.Z.SUSTITITION_OPTIONS+e);console.log("res>>",n),n.success&&(t((0,U.t)()),a&&a(n.data)),t((0,U.t)())})(x,(e=>{g({name:e.name,priority:e.priority})})))}),[x,a]);const j=e=>{let{name:a,value:t}=e;g((e=>({...e,[a]:t})))},P=()=>{u(!1),g({name:"",priority:"MEDIUM"}),v(null)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>u(!0)}),(0,m.jsx)(l.ZP,{col:"12",title:"Classes",children:(0,m.jsx)(k.Z,{data:t,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"}],onEdit:e=>{v(null===e||void 0===e?void 0:e._id),u(!0)},onDelete:t=>{(0,y.j3)((()=>{a(((e,a)=>async t=>{const n=await(0,F.Z)("delete",G.Z.SUSTITITION_OPTIONS+e);n.success?(t((0,X.C)({severity:"success",summary:n.message})),a()):t((0,X.C)({severity:"error",summary:n.message}))})(t._id,(()=>{E(e),P()})))}),"Do you want to delete this Substitution Option?")}})}),(0,m.jsx)(D.Z,{title:x?"Edit":"Add",visible:d,onCancel:P,loading:o,onSave:()=>{a(x?((e,a,t,n)=>async()=>{t(!0),(await(0,F.Z)("put",G.Z.SUSTITITION_OPTIONS+e,a)).success&&n(),t(!1)})(x,{...p,employee:e},i,(()=>{E(e),P()})):((e,a,t)=>async n=>{a(!0);const s=await(0,F.Z)("post",G.Z.SUSTITITION_OPTIONS,e);s.success?t():n((0,X.C)({severity:"error",summary:s.message})),a(!1)})({...p,employee:e},i,(()=>{E(e),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:p,onChange:j}),(0,m.jsx)(r.T3,{name:"priority",data:p,onChange:j,options:c.IP,col:12})]})})]})}const J=()=>{const e=[{title:"Pay",content:(0,m.jsx)(q,{})},{title:"Substitute Option",content:(0,m.jsx)(W,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{name:"classes",tabs:e,useIndex:!0})})},B=(e,a,t,n)=>async s=>{t&&t(!0);const o=await(0,F.Z)("get",G.Z.EMPLOYEE_APPOINTMENT,"",{employee:e,type:a});o.success&&o.data&&n&&n(o.data),t&&t(!1)},z=()=>{const e=(0,C.I0)(),[a,t]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),[u,p]=(0,n.useState)([]),g={name:"",priority:"PER-EVENT",type:"PAY",pay:0,amountType:"FIXED"},[x,v]=(0,n.useState)(g),{id:E}=(0,h.UO)();(0,n.useEffect)((()=>{j(E)}),[]);const j=a=>{e(B(a,"PAY",o,(e=>{p(e)})))};(0,n.useEffect)((()=>{console.log(i),i&&e(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,F.Z)("get",G.Z.EMPLOYEE_APPOINTMENT+e);s.success&&s.data&&t&&t(s.data),a&&a(!1)})(i,o,(e=>{v({name:e.name,priority:e.priority,type:"PAY",pay:e.pay,amountType:e.amountType})})))}),[i,e]);const P=()=>{d(null),v(g),t(!1)},T=e=>{let{name:a,value:t}=e;v((e=>({...e,[a]:t})))};return console.log("data>>",x),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>t(!0)}),(0,m.jsx)(k.Z,{data:u,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"},{field:"pay",header:"Pay"}],onEdit:e=>{d(null===e||void 0===e?void 0:e._id),t(!0)},onDelete:a=>{(0,y.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,F.Z)("delete",G.Z.EMPLOYEE_APPOINTMENT+e);n.success?a():t((0,X.C)({severity:"error",summary:n.message}))})(a._id,(()=>{j(E),P()})))}),"Do you want to delete this Appartment Pay?")}}),(0,m.jsx)(D.Z,{title:i?"Edit":"Add",visible:a,onCancel:P,loading:s,onSave:()=>{e(i?((e,a,t,n)=>async s=>{t(!0);const o=await(0,F.Z)("put",G.Z.EMPLOYEE_APPOINTMENT+e,a);o.success?n():s((0,X.C)({severity:"error",summary:o.message})),t(!1)})(i,{...x},o,(()=>{j(E),P()})):((e,a,t)=>async n=>{a(!0);const s=await(0,F.Z)("post",G.Z.EMPLOYEE_APPOINTMENT,e);s.success?t():n((0,X.C)({severity:"error",summary:s.message})),a(!1)})({...x,employee:E},o,(()=>{j(E),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:x,onChange:T}),(0,m.jsx)(r.T3,{name:"priority",data:x,onChange:T,options:c.zC,col:12}),(0,m.jsx)(r.l9,{col:8,name:"pay",data:x,onChange:T}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:x,onChange:T,col:4})]})})]})},H=()=>{const e=(0,C.I0)(),{id:a}=(0,h.UO)(),t={bonusType:"SERVICE_VALUE",sessionsValue:0,ofSessions:0,over:0,duration:"DAYS",bonusAmount:0,type:"BONUS",amountType:"FIXED",services:[]},[s,o]=(0,n.useState)(!1),[i,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[y,g]=(0,n.useState)([]),[x,v]=(0,n.useState)(t),E=e=>{let{name:a,value:t}=e;v((e=>({...e,[a]:t})))};(0,n.useEffect)((()=>{j(a)}),[]);const j=a=>{e(B(a,"BONUS",d,(e=>{g(e)})))};(0,n.useEffect)((()=>{console.log(u),u&&e(((e,a)=>async t=>{t((0,U.f)());const n=await(0,F.Z)("get",G.Z.EMPLOYEE_APPOINTMENT+e);console.log("res>>",n),n.success&&(t((0,U.t)()),a&&a(n.data)),t((0,U.t)())})(u,(e=>{v({bonusType:e.bonusType,sessionsValue:e.sessionsValue,ofSessions:e.ofSessions,over:e.selectTimeframe.over,duration:e.selectTimeframe.duration,bonusAmount:e.bonusAmount,type:"BONUS",amountType:e.amountType,services:e.services})})))}),[u,e]);const P=()=>{p(null),v(t),o(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>o(!0)}),(0,m.jsx)(k.Z,{data:y,columns:[{field:"bonusType",header:"Bonus Type"},{field:"services",body:e=>e.services.join(","),header:"Services"}],onEdit:e=>{p(null===e||void 0===e?void 0:e._id),o(!0)},onDelete:()=>{}}),(0,m.jsx)(D.Z,{title:u?"Edit":"Add",visible:s,onCancel:P,loading:i,onSave:()=>{const{over:t,duration:n,...s}=x;u||e(((e,a,t)=>async n=>{a(!0);const s=await(0,F.Z)("post",G.Z.EMPLOYEE_APPOINTMENT,e);s.success?t():n((0,X.C)({severity:"error",summary:s.message})),a(!1)})({...s,selectTimeframe:{over:t,duration:n},employee:a},d,(()=>{j(a),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.T3,{label:"",name:"bonusType",data:x,onChange:E,options:c.WD,col:6}),"SINGLE_CLIENT"===(null===x||void 0===x?void 0:x.bonusType)?(0,m.jsx)(r.l9,{col:6,name:"ofSessions",data:x,onChange:E}):(0,m.jsx)(r.l9,{col:6,name:"sessionsValue",data:x,onChange:E}),(0,m.jsx)(r.t7,{col:"6",name:"over",data:x,onChange:E}),(0,m.jsx)(r.T3,{label:"",name:"duration",data:x,onChange:E,col:6,options:c.SW}),(0,m.jsx)(r.l9,{col:8,name:"bonusAmount",data:x,onChange:E}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:x,onChange:E,col:4}),(0,m.jsx)(r.pc,{col:"12",name:"services",data:x,onChange:E,options:c.es})]})})]})},K=()=>{const e=[{title:"Pay",content:(0,m.jsx)(z,{})},{title:"Bonus",content:(0,m.jsx)(H,{})},{title:"Calendar Default",content:(0,m.jsx)(m.Fragment,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{name:"appointment",tabs:e,useIndex:!0})})},Q=()=>{const{id:e}=(0,h.UO)(),a=[{title:"Security",content:(0,m.jsx)(E,{})},{title:"General",content:(0,m.jsx)(N,{})},{title:"Departments",content:(0,m.jsx)(Y,{})},{title:"Clubs",content:(0,m.jsx)(I,{})},{title:"Classes Setup",content:(0,m.jsx)(J,{})},{title:"Appointment Setup",content:(0,m.jsx)(K,{})},{title:"Sales Commision",content:(0,m.jsx)("h1",{children:"Tab 7"})},{title:"Time Sheet",content:(0,m.jsx)("h1",{children:"Tab 8"})},{title:"Notes",content:(0,m.jsx)(O,{})},{title:"Certifications",content:(0,m.jsx)(Z,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.Z,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,m.jsx)(o.Z,{tabs:a,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9]})})})}}}]);
//# sourceMappingURL=320.6c1c03cd.chunk.js.map