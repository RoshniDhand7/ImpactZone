"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[350],{3585:(e,a,s)=>{s.d(a,{GJ:()=>d,Jb:()=>m,Uf:()=>y,lU:()=>h,mv:()=>u,tG:()=>x,xJ:()=>v});var t=s(2426),n=s.n(t),i=s(1526),l=s(988),o=s(1529),r=s(3048),c=s(4499);const d=(e,a)=>async s=>{a&&a(!0);const t={employee:e},n=await(0,i.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},t);n.success&&n.data&&s({type:o.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:n.data}),a&&a(!1)},m=function(e,a,s){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async o=>{a(!0);const r={...e,acquiredDate:n()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(e.expirationDate).format("MM/DD/YYYY")},d=await(0,i.Z)("post",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,r);d.success&&(t?s.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(t)):s.goBack(),o((0,c.C)({severity:"success",summary:d.message}))),a(!1)}},u=(e,a)=>async s=>{s((0,r.f)());const t=await(0,i.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success&&t.data&&a&&a(t.data),s((0,r.t)())},x=function(e,a,s,t){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async r=>{s(!0);const d={...a,acquiredDate:n()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(a.expirationDate).format("MM/DD/YYYY")},m=await(0,i.Z)("put",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,d);m.success&&(o?t.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(o)):t.goBack(),r((0,c.C)({severity:"success",summary:m.message}))),s(!1)}},v=(e,a)=>async s=>{const t=await(0,i.Z)("delete",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(s((0,c.C)({severity:"success",summary:t.message})),a()):s((0,c.C)({severity:"error",summary:t.message}))},y=(e,a,s)=>async t=>{a&&a(!0);const n=await(0,i.Z)("get",l.Z.NOTES,"",{employee:e});n.success&&n.data&&s&&s(n.data),a&&a(!1)},h=(e,a,s)=>async t=>{a(!0);const n=await(0,i.Z)("post",l.Z.NOTES,e);n.success?(t((0,c.C)({severity:"success",summary:n.message})),s()):t((0,c.C)({severity:"error",summary:n.message})),a(!1)}},6886:(e,a,s)=>{s.d(a,{Z:()=>l});s(2791);var t=s(4880),n=s(4822),i=s(184);function l(e){let{children:a,backText:s,backTo:l}=e;const o=(0,t.k6)(),r=()=>{l?o.replace(l):o.goBack()};return(0,i.jsxs)(n.Z,{children:[s?(0,i.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,i.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:r}),(0,i.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:r,children:["Back to ",s]})]}):null,(0,i.jsx)(i.Fragment,{children:a})]})}},4622:(e,a,s)=>{s.d(a,{Z:()=>l});var t=s(9856),n=(s(2791),s(7480)),i=s(184);function l(e){let{title:a,visible:s,position:l,width:o="30vw",onSave:r,loading:c,onCancel:d,children:m}=e;const u=(0,i.jsxs)(n.GG,{children:[r?(0,i.jsx)(n.ZP,{label:"Save",className:"mx-2",loading:c,onClick:r}):null,d?(0,i.jsx)(n.ah,{label:"Cancel",onClick:d}):null]});return(0,i.jsx)(t.V,{modal:!0,header:a,headerClassName:"justify-content-start",visible:s,style:{width:o},onHide:d,footer:r||d?u:"",draggable:!1,resizable:!1,position:l,children:m})}},7929:(e,a,s)=>{s.d(a,{IP:()=>h,Jj:()=>m,Ni:()=>u,SW:()=>o,WD:()=>i,WJ:()=>y,am:()=>p,es:()=>r,g9:()=>c,gv:()=>v,iq:()=>l,lp:()=>d,mt:()=>x,vA:()=>n,yM:()=>t,zC:()=>C});const t=[{name:"Yes",value:"true"},{name:"No",value:"false"}],n=[{name:"$",value:"FIXED"},{name:"%",value:"PERCENTAGE"}],i=[{name:"Single Client",value:"SINGLE_CLIENT"},{name:"Service Value",value:"SERVICE_VALUE"}],l=["Products","Services","Agreement"].map((e=>({name:e,value:e}))),o=["Days","Weeks","Months","Years"].map((e=>({name:e,value:e.toUpperCase()}))),r=["Private Sessions","Yoga Sessions","Reformer","Etc"].map((e=>({name:e,value:e}))),c=[{name:"No Limit",value:"No Limit"}];for(let j=1;j<=50;j++){const e={name:"".concat(j),value:"".concat(j)};c.push(e)}const d=[{name:"Week (7 days)",value:"Week (7 Days)"},{name:"Month (30 days)",value:"Month (30 days)"},{name:"Year (365 days)",value:"Year (365 days)"},{name:"Calendar Week (sunday)",value:"Calendar Week (sunday)"},{name:"Calendar Week (monday)",value:"Calendar Week (monday)"},{name:"Calendar Month",value:"Calendar Month"},{name:"Calendar Year",value:"Calendar Year"}],m=[{name:"Club",value:"Club"},{name:"Company",value:"Company"}],u=[];for(let j=1;j<=30;j++){const e={name:"".concat(j," days"),value:"".concat(j," days")};u.push(e)}const x=[];for(let j=12;j<=72;j+=12){const e={name:"".concat(j," hours"),value:"".concat(j," hours")};x.push(e)}const v=["Agreement Hold","Cancel Pending POS Transaction","Cancel Agreement","Cancel Price","Commission Override","Drawer Adjustment","Event Status","Freeze Agreement","No Sale","Void","Waive Tax"].map((e=>({name:e,value:e}))),y=[{name:"Incremental Pay",value:"INCREMENTAL_PAY"},{name:"Pay Per Class",value:"PAY_PER_CLASS"},{name:"Pay Per Client",value:"PAY_PER_CLIENT"},{name:"% Rate",value:"PERCENTAGE_RATE"}],h=[{name:"Suggested",value:"SUGGESTED"},{name:"High",value:"HIGH"},{name:"Medium",value:"MEDIUM"},{name:"Low",value:"LOW"}],C=[{name:"Per Event",value:"PER-EVENT"},{name:"Person",value:"PERSON"}],p=[{name:"Per Sale",value:"PER_SALE"},{name:"Per Item",value:"PER_ITEM"}]},3350:(e,a,s)=>{s.r(a),s.d(a,{default:()=>ie});var t=s(2791),n=s(6886),i=s(9809),l=s(3e3),o=s(7480),r=s(952),c=s(7929),d=s(3638),m=s(184);const u=e=>{let{selected:a=[],name:s,sourceData:n=[],onPickListChange:i,breakpoint:l="1280px",sourceHeader:o="Available",targetHeader:r="Selected",sourceStyle:c={height:"24rem"},targetStyle:u={height:"24rem"},showSourceControls:x=!1,showTargetControls:v=!1}=e;(0,t.useEffect)((()=>{if(n.length&&a){let e=n.filter((e=>a.includes(e.value))),s=n.filter((e=>!a.includes(e.value)));h(s),p(e)}}),[n,null===a||void 0===a?void 0:a.length]);const[y,h]=(0,t.useState)([]),[C,p]=(0,t.useState)([]);return(0,t.useEffect)((()=>{if(i){let e=C.map((e=>e.value));i({name:s,value:e})}}),[null===C||void 0===C?void 0:C.length,s]),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)(d.G,{source:y,target:C,onChange:e=>{let{target:a,source:s}=e;h(s),p(a)},itemTemplate:e=>(0,m.jsx)("div",{className:"flex flex-wrap p-2 align-items-center gap-3",children:(0,m.jsx)("h6",{children:e.name})}),breakpoint:l,sourceHeader:o,targetHeader:r,sourceStyle:c,targetStyle:u,showSourceControls:x,showTargetControls:v})})};var x=s(9387),v=s(1520),y=s(9434),h=s(4880),C=s(4418),p=s(2433),j=s(7099);const g=()=>{var e;const a=(0,y.I0)(),{id:s}=(0,h.UO)(),n=(0,h.k6)(),[i,d]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a((0,p.ip)()),a((0,j.Oh)())}),[a]);let{allSecurityRoles:g}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.securityRole));g=null===(e=g)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,t.useEffect)((()=>{s&&a((0,C.Jf)(s,(e=>{P({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn.toString(),securityRoles:e.securityRoles})})))}),[s,a]);const{allJobTitle:E}=(0,y.v9)((e=>e.jobTitle)),[T,P]=(0,t.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:"",dob:"",socialSecurity:"",barCode:"",accessCode:"",email:"",multiClubClockIn:"",securityRoles:[]}),f=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,T);P((e=>({...e,[a]:s,formErrors:t})))},N=e=>{(0,v.Ao)(T,P,["jobTitle"])&&a(s?(0,C.to)(s,T,d,n,e):(0,C.tx)(T,d,n,e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Personal",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{name:"firstName",required:!0,col:3,data:T,onChange:f}),(0,m.jsx)(r.t7,{name:"middleInitial",col:1,data:T,onChange:f}),(0,m.jsx)(r.t7,{name:"lastName",required:!0,data:T,onChange:f}),(0,m.jsx)(r.T3,{name:"jobTitle",data:T,onChange:f,options:null===E||void 0===E?void 0:E.map(((e,a)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,m.jsx)(r.FB,{name:"dob",data:T,onChange:f}),(0,m.jsx)(r.t7,{name:"socialSecurity",data:T,onChange:f})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"System",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{name:"barCode",required:!0,data:T,onChange:f}),(0,m.jsx)(r.t7,{name:"accessCode",required:!0,data:T,onChange:f}),(0,m.jsx)(r.t7,{name:"email",required:!0,data:T,onChange:f}),(0,m.jsx)(r.T3,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:c.yM,data:T,onChange:f})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Select Roles",children:(0,m.jsx)("div",{col:12,children:(0,m.jsx)(u,{name:"securityRoles",selected:null===T||void 0===T?void 0:T.securityRoles,sourceData:g,onPickListChange:f})})}),(0,m.jsxs)(o.GG,{children:[(0,m.jsx)(o.ZP,{label:"Save",className:"mx-2",onClick:()=>N(""),loading:i}),(0,m.jsx)(o.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>N("?tab=general"),loading:i}),(0,m.jsx)(o.ah,{label:"Cancel",onClick:()=>n.replace("/settings/employee")})]})]})};var E=s(7162),T=s(7083),P=s(3954),f=s(4053);const N={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},S=e=>{let{name:a,value:s,data:n,onDropChange:i,multiple:l=!0}=e;const[o,r]=(0,t.useState)(s||(null===n||void 0===n?void 0:n[a])||[]);(0,t.useEffect)((()=>{(s||null!==n&&void 0!==n&&n[a])&&JSON.stringify(s||(null===n||void 0===n?void 0:n[a]))!==JSON.stringify(o)&&r(s||(null===n||void 0===n?void 0:n[a]))}),[s||(null===n||void 0===n?void 0:n[a])]),(0,t.useEffect)((()=>{i&&i({name:a,value:o})}),[o,a]);const c=(0,t.useCallback)(((e,a)=>{a.length>0?console.log("Rejected Files:",a):e.forEach((e=>{o.some((a=>a.name===e.name))?console.log('File "'.concat(e.name,'" is already selected.')):r((a=>[...a,e]))}))}),[o]),{getRootProps:d,getInputProps:u,isDragActive:x,isDragAccept:v,isDragReject:y}=(0,P.uI)({onDrop:c,multiple:l,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),h=(0,t.useMemo)((()=>({...v?{borderColor:"#00e676"}:{},...y?{borderColor:"#ff1744"}:{}})),[v,y]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{...d({style:h}),style:N,children:[(0,m.jsx)("input",{...u()}),x?y?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E.q,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E.q,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E.q,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,m.jsx)("div",{className:"flex flex-wrap my-2",children:(null===o||void 0===o?void 0:o.length)>0&&(null===o||void 0===o?void 0:o.map(((e,a)=>(0,m.jsx)(E.q,{className:"p-overlay-badge my-2 mr-3",image:(0,f.Q)(e),size:"xlarge",children:(0,m.jsx)(T.C,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{r((a=>a.filter(((a,s)=>s!==e))))})(a)})}))))})]})},b=()=>{const e=(0,y.I0)(),a=(0,h.k6)(),{id:s}=(0,h.UO)(),[n,i]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[p,j]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(0,v.v9)();const e=(0,v.ec)("US");i(e)}),[e]),(0,t.useEffect)((()=>{s&&e((0,C.Jf)(s,(e=>{var a;E({hireDate:new Date(e.hireDate),terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:null===(a=e.emailNotification)||void 0===a?void 0:a.toString(),onlineNickName:e.onlineNickName,bio:e.bio,image:e.image?[e.image]:[]});const s=(0,v.gb)("US",e.state);u(s)})))}),[s,e]);const[g,E]=(0,t.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",image:[]}),T=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,g);if("state"===a){const e=(0,v.gb)("US",s);u(e),E((e=>({...e,[a]:s,city:"",formErrors:t})))}else E((e=>({...e,[a]:s,formErrors:t})))},P=t=>{(0,v.Ao)(g,E)&&s&&e((0,C.to)(s,g,j,a,t))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Employement",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.FB,{id:"hireDate",name:"hireDate",onChange:T,data:g}),(0,m.jsx)(r.t7,{name:"adpId",onChange:T,data:g})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Contact",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.XX,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:T,data:g}),(0,m.jsx)(r.XX,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:T,data:g}),(0,m.jsx)(r.XX,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:T,data:g}),(0,m.jsx)(r.XX,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:T,data:g}),(0,m.jsx)(r.XX,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:T,data:g}),(0,m.jsx)(r.t7,{name:"street",onChange:T,data:g}),(0,m.jsx)(r.T3,{name:"state",options:n,onChange:T,data:g}),(0,m.jsx)(r.T3,{name:"city",options:d,onChange:T,data:g}),(0,m.jsx)(r.t7,{name:"zipCode",onChange:T,data:g}),(0,m.jsx)(r.T3,{name:"emailNotification",options:c.yM,onChange:T,data:g})]})}),(0,m.jsxs)(l.ZP,{col:"12",title:"Online",children:[(0,m.jsx)(r.t7,{name:"onlineNickName",onChange:T,data:g}),(0,m.jsx)(r.Ks,{name:"bio",onChange:T,data:g})]}),(0,m.jsx)(l.ZP,{col:"12",title:"Photo",children:(0,m.jsx)(S,{name:"image",onDropChange:T,data:g,multiple:!1})}),(0,m.jsxs)(o.GG,{children:[(0,m.jsx)(o.ZP,{label:"Save",className:"mx-2",onClick:()=>P(""),loading:p}),(0,m.jsx)(o.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>P("?tab=departments"),loading:p}),(0,m.jsx)(o.ah,{label:"Cancel",onClick:()=>a.replace("/settings/employee")})]})]})};var A=s(2666);const I=()=>{const e=(0,y.I0)(),{id:a}=(0,h.UO)(),s=(0,h.k6)();(0,t.useEffect)((()=>{e((0,A.Er)())}),[e]);let{clubsDropdown:n}=(0,y.v9)((e=>e.clubs));const[i,r]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a&&e((0,C.Jf)(a,(e=>{d({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[a,e]);const[c,d]=(0,t.useState)({reportDataAccess:[],clubs:[]}),x=e=>{let{name:a,value:s}=e;d((e=>({...e,[a]:s})))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Report Data Access",children:(0,m.jsx)(u,{name:"reportDataAccess",selected:null===c||void 0===c?void 0:c.reportDataAccess,sourceData:n,onPickListChange:x})}),(0,m.jsx)(l.ZP,{col:"12",title:"Clubs",children:(0,m.jsx)(u,{name:"clubs",selected:null===c||void 0===c?void 0:c.clubs,sourceData:n,onPickListChange:x})}),(0,m.jsxs)(o.GG,{children:[(0,m.jsx)(o.ZP,{label:"Save",className:"mx-2",loading:i,onClick:()=>{a&&e((0,C.to)(a,c,r,s))}}),(0,m.jsx)(o.ah,{label:"Cancel",onClick:()=>s.replace("/settings/employee")})]})]})};var w=s(97),R=s(494);const O=e=>{let{name:a,data:s,value:t,onTextChange:n,height:i="320px",inputClass:l,col:o=12,label:r,required:c,extraClassName:d,errorMessage:u}=e;return(0,m.jsx)(R.Z,{col:o,label:r,name:a,required:c,extraClassName:d,data:s,errorMessage:u,children:(0,m.jsx)("div",{className:"custom-editor",children:(0,m.jsx)(w.M,{value:t||(null===s||void 0===s?void 0:s[a]),onTextChange:e=>n&&n({...e,name:a,value:e.htmlValue}),style:{height:i},className:"w-full ".concat(l||""," ").concat(u?"p-invalid":"")})})})};var _=s(8932),Z=s(4622),M=s(3585),k=s(2426),D=s.n(k);const L=()=>{const{id:e}=(0,h.UO)(),a=(0,y.I0)(),s=((0,h.k6)(),(0,y.v9)((e=>e.profile.user)));(0,t.useEffect)((()=>{s&&i({...n,takenBy:s.firstName})}),[s]);const[n,i]=(0,t.useState)({takenBy:null===s||void 0===s?void 0:s.firstName,dateTime:new Date,notes:""}),[o,r]=(0,t.useState)(!1),[c,d]=(0,t.useState)([]),u=e=>{a((0,M.Uf)(e,v,(e=>{d(e)})))};(0,t.useEffect)((()=>{e&&u(e)}),[e,a]);const[x,v]=(0,t.useState)(!1),C=[{field:"takenBy",header:"Taken By"},{field:"dateTime",body:e=>D()(e.dateTime).format("MM-DD-YYYY hh:mm a"),header:"Date/Time"},{field:"notes",header:"Notes"}],p=()=>{i({notes:""}),r(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>r(!0)}),(0,m.jsx)(_.Z,{data:c,columns:C}),(0,m.jsx)(Z.Z,{width:"100vh",title:"Add Note",visible:o,onCancel:p,loading:x,onSave:()=>{e&&a((0,M.lU)({...n,employee:e},v,(()=>{u(e),p()})))},children:(0,m.jsx)(l.R0,{children:(0,m.jsx)(O,{name:"notes",onTextChange:e=>{let{name:a,value:s}=e;i((e=>({...e,[a]:s})))},data:n})})})]})},Y=()=>{const e=(0,y.I0)(),{id:a}=(0,h.UO)(),s=(0,h.k6)();(0,t.useEffect)((()=>{e((0,M.GJ)(a))}),[e]);const{allCertificates:n}=(0,y.v9)((e=>e.certificates));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(a)}),(0,m.jsx)(_.Z,{data:n,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{s.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(a))},onDelete:(s,t)=>{(0,v.j3)((()=>{e((0,M.xJ)(s._id,(()=>{e((0,M.GJ)(a))})))}),"Do you want to delete this Certificates ?",t)}})]})};var F=s(4778);function G(){const{id:e}=(0,h.UO)();let{departmentsDropdown:a}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.department));const s=(0,y.I0)();(0,t.useEffect)((()=>{s((0,F.Ps)()),n(e)}),[s]);const n=e=>{s((0,F.am)(e,d,(e=>{p(e)})))},[i,o]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,x]=(0,t.useState)(null),[C,p]=(0,t.useState)([]),[j,g]=(0,t.useState)({departments:[],wage:0}),E=e=>{let{name:a,value:s}=e;g((e=>({...e,[a]:s})))},T=()=>{o(!1),g({departments:[],wage:0}),x(null)};let P=a.filter((e=>!C.map((e=>e.department)).includes(e.value)));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add Department",onClick:()=>o(!0)}),(0,m.jsx)(_.Z,{data:C,columns:[{field:"departmentName",header:"Name"},{field:"wage",header:"Wage"}],onEdit:e=>(e=>{x(e);let a=C.find((a=>a._id===e));g({departments:[a.department],wage:a.wage}),o(!0)})(e._id),onDelete:a=>{(0,v.j3)((()=>{s((0,F.w9)(a._id,(()=>{n(e),T()})))}),"Do you want to delete this Employee Department?")}}),(0,m.jsx)(Z.Z,{title:"Add",visible:i,onCancel:T,loading:c,onSave:()=>{s(u?(0,F.vJ)(u,{wage:j.wage},d,(()=>{n(e),T()})):(0,F.b0)({...j,employee:e},d,(()=>{n(e),T()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.pc,{col:"12",name:"departments",data:j,onChange:E,options:u?a:P,disabled:!!u}),(0,m.jsx)(r.l9,{col:"12",name:"wage",data:j,onChange:E})]})})]})}var U=s(4850),V=s(1526),X=s(988),B=s(3048),$=s(4499);const q=e=>{var a;let{visible:s,setVisible:n,id:i,employeeClassId:o,setEmployeeClassId:d}=e;console.log("id>>",i,o);const[u,h]=(0,t.useState)(!1),[C,p]=(0,t.useState)({}),j=(0,y.I0)(),g=()=>{n(!1),b(T),d(null)};(0,t.useEffect)((()=>{o&&E(o)}),[o]);const E=e=>{j(((e,a,s)=>async t=>{a&&a(!0);const n=await(0,V.Z)("get",X.Z.EMPLOYEE_CLASSES+e);n.success&&n.data&&s&&s(n.data),a&&a(!1)})(e,h,(e=>{p(e)})))},T={payType:"INCREMENTAL_PAY",oneToFiveClients:0,sixToTenClients:0,elevenToFifteenClients:0,sixteenToTwentyClients:0,twentyOneToTwentyFiveClients:0,twentySixPlusClients:0,noRegistrationPay:0},P={payType:"PAY_PER_CLASS",payPerClassRate:0,noRegistrationPay:0},f={payType:"PAY_PER_CLIENT",baseRate:0,payPerClientRate:0,eachClientOver:[{noOfClients:0,rate:0},{noOfClients:0,rate:0},{noOfClients:0,rate:0}],maxPayPerClient:0,noRegistrationPay:0},N={payType:"PERCENTAGE_RATE",percentage:0,noRegistrationPay:0},[S,b]=(0,t.useState)(T);(0,t.useEffect)((()=>{o||("INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)?b(T):"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)?b(P):"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)?b(f):"PERCENTAGE_RATE"===(null===S||void 0===S?void 0:S.payType)&&b(N))}),[null===S||void 0===S?void 0:S.payType]),(0,t.useEffect)((()=>{if(o&&C){const{oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:s,sixteenToTwentyClients:t,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l,payPerClassRate:o,baseRate:r,payPerClientRate:c,maxPayPerClient:d,percentage:m}=C;let u={};switch(null===C||void 0===C?void 0:C.payType){case"INCREMENTAL_PAY":u={payType:"INCREMENTAL_PAY",oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:s,sixteenToTwentyClients:t,twentyOneToTwentyFiveClients:n,twentySixPlusClients:i,noRegistrationPay:l};break;case"PAY_PER_CLASS":u={payType:"PAY_PER_CLASS",payPerClassRate:o,noRegistrationPay:l};break;case"PAY_PER_CLIENT":u={payType:"PAY_PER_CLIENT",baseRate:r,payPerClientRate:c,eachClientOver:C.eachClientOver.map((e=>({noOfClients:e.noOfClients,rate:e.rate}))),maxPayPerClient:d,noRegistrationPay:l};break;case"PERCENTAGE_RATE":u={payType:"PERCENTAGE_RATE",percentage:m,noRegistrationPay:l};break;default:u={}}b(u)}}),[C]);const A=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,S);b((e=>({...e,[a]:s,formErrors:t})))},I=(e,a,s)=>{const t=[...S.eachClientOver];t[e][a]=s,b((e=>({...e,eachClientOver:t})))};return console.log("data>>",S),console.log("employeeClasses>>",C),(0,m.jsx)("div",{children:(0,m.jsx)(Z.Z,{title:o?"Edit":"Add",visible:s,onCancel:g,loading:u,onSave:()=>{let e=[];e="INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)?["payPerClassRate","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","percentage","payPerClassRate"]:["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","payPerClassRate"],(0,v.Ao)(S,b,e)&&(o&&j(((e,a,s,t)=>async n=>{s(!0);const i=await(0,V.Z)("put",X.Z.EMPLOYEE_CLASSES+e,a);i.success?t():n((0,$.C)({severity:"error",summary:i.message})),s(!1)})(o,S,h,(()=>{g()}))),j(((e,a,s)=>async t=>{a(!0);const n=await(0,V.Z)("post",X.Z.EMPLOYEE_CLASSES,e);n.success?s():t((0,$.C)({severity:"error",summary:n.message})),a(!1)})({...S,employee:i},h,(()=>{g()}))))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.T3,{name:"payType",data:S,onChange:A,options:c.WJ,col:12,disabled:!!o}),"INCREMENTAL_PAY"===(null===S||void 0===S?void 0:S.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{label:"1-5 Clients",name:"oneToFiveClients",data:S,onChange:A}),(0,m.jsx)(r.l9,{label:"6-10 Clients",name:"sixToTenClients",data:S,onChange:A}),(0,m.jsx)(r.l9,{label:"11-15 Clients",name:"elevenToFifteenClients",data:S,onChange:A}),(0,m.jsx)(r.l9,{label:"16-20 Clients",name:"sixteenToTwentyClients",data:S,onChange:A}),(0,m.jsx)(r.l9,{label:"21-25 Clients",data:S,name:"twentyOneToTwentyFiveClients",onChange:A}),(0,m.jsx)(r.l9,{label:"26+ Clients",data:S,name:"twentySixPlusClients",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:S,onChange:A})]}),"PAY_PER_CLASS"===(null===S||void 0===S?void 0:S.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:S,name:"payPerClassRate",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:S,onChange:A})]}),"PAY_PER_CLIENT"===(null===S||void 0===S?void 0:S.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{name:"baseRate",data:S,onChange:A}),(0,m.jsx)(r.l9,{name:"payPerClientRate",data:S,onChange:A}),null===S||void 0===S||null===(a=S.eachClientOver)||void 0===a?void 0:a.map(((e,a)=>(0,m.jsx)("div",{className:" col-12 ",children:(0,m.jsxs)("div",{className:"grid",children:[(0,m.jsx)(r.l9,{name:"noOfClients",value:null===e||void 0===e?void 0:e.noOfClients,onChange:e=>I(a,"noOfClients",e.value),col:6}),(0,m.jsx)(r.l9,{name:"rate",value:null===e||void 0===e?void 0:e.rate,onChange:e=>I(a,"rate",e.value),col:6})]})},a))),(0,m.jsx)(r.l9,{data:S,name:"noRegistrationPay",onChange:A}),(0,m.jsx)(r.l9,{data:S,name:"maxPayPerClient",onChange:A})]}),"PERCENTAGE_RATE"===(null===S||void 0===S?void 0:S.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:S,name:"percentage",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:S,onChange:A})]})]})})})};function J(){const e=(0,y.I0)(),{id:a}=(0,h.UO)(),[s,n]=(0,t.useState)(!1);(0,t.useEffect)((()=>{T(a)}),[e]),(0,t.useEffect)((()=>{e((0,C.fN)(0))}),[e]);const{employeesDropdown:i}=(0,y.v9)((e=>e.employees)),[c,d]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),[p,j]=(0,t.useState)(null),[g,E]=(0,t.useState)([]),T=a=>{e(((e,a,s)=>async t=>{a&&a(!0);const n=await(0,V.Z)("get",X.Z.EMPLOYEE_CLASSES,"",{employee:e});n.success&&n.data&&s&&s(n.data),a&&a(!1)})(a,x,(e=>{e=e.map(((e,a)=>({...e,index:a+1}))),E(e)})))},P=s=>{(0,v.j3)((()=>{e(((e,a)=>async s=>{const t=await(0,V.Z)("delete",X.Z.EMPLOYEE_CLASSES+e);t.success?a():s((0,$.C)({severity:"error",summary:t.message}))})(s._id,(()=>{T(a)})))}),"Do you want to delete this Employee Classes?")},f=e=>{switch(e.payType){case"INCREMENTAL_PAY":return(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,m.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"font-medium",children:"Pay"}),(0,m.jsx)("div",{children:"Incremental Pay"})]})]}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium ",children:"1-5 Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.oneToFiveClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"6-10 Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixToTenClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"11-15 Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.elevenToFifteenClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"16-20 Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.sixteenToTwentyClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"21-25 Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentyOneToTwentyFiveClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"26+ Clients"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.twentySixPlusClients]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PAY_PER_CLIENT":return(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,m.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"font-medium",children:"Pay"}),(0,m.jsx)("div",{children:"Pay Per Client"})]})]}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"Base Rate"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.baseRate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"Per Client"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClientRate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"ml-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,m.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[0].noOfClients})]}),(0,m.jsxs)("div",{className:"ml-1 mr-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"Add"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[0].rate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"ml-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,m.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[1].noOfClients})]}),(0,m.jsxs)("div",{className:"ml-1 mr-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"Add"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[1].rate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"ml-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"For each client over"}),(0,m.jsx)("div",{children:null===e||void 0===e?void 0:e.eachClientOver[2].noOfClients})]}),(0,m.jsxs)("div",{className:"ml-1 mr-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"Add"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.eachClientOver[2].rate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-2",children:[(0,m.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-2",children:[(0,m.jsx)("div",{className:"font-medium",children:"Max Pay"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PAY_PER_CLASS":return(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,m.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"font-medium",children:"Pay"}),(0,m.jsx)("div",{children:"Pay Per Class"})]})]}),(0,m.jsxs)("div",{className:"mx-3 w-1",children:[(0,m.jsx)("div",{className:"font-medium",children:"Price"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.payPerClassRate]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});case"PERCENTAGE_RATE":return(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)("div",{className:"mx-3 flex w-2",children:[(0,m.jsx)("div",{className:"my-auto mr-4",children:e.index}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"font-medium",children:"Pay"}),(0,m.jsx)("div",{children:"% Rate"})]})]}),(0,m.jsxs)("div",{className:"mx-3 w-1",children:[(0,m.jsx)("div",{className:"font-medium",children:"Percentage"}),(0,m.jsxs)("div",{children:[null===e||void 0===e?void 0:e.percentage,"%"]})]}),(0,m.jsx)("hr",{className:"text-100"}),(0,m.jsxs)("div",{className:"mx-3",children:[(0,m.jsx)("div",{className:"font-medium",children:"No Registration Pay"}),(0,m.jsxs)("div",{children:["$",null===e||void 0===e?void 0:e.noRegistrationPay]})]})]});default:return(0,m.jsxs)("div",{className:"grid",children:[(0,m.jsx)("div",{className:"col-1",children:e.index}),(0,m.jsx)("div",{className:"col-11",children:e.payType})]})}};return(0,m.jsxs)("div",{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>d(!0),extraClass:"align-items-end ",children:(0,m.jsxs)("div",{className:" flex justify-content-between align-items-end",children:[(0,m.jsx)(r.T3,{name:"Class Level",col:6}),(0,m.jsx)(o.ZP,{name:"Similar To",col:"6",label:"Similar To",onClick:()=>n(!0)})]})}),(0,m.jsxs)(l.ZP,{col:"12",title:"Pay",children:[(0,m.jsx)(U.VO,{value:g,itemTemplate:e=>(0,m.jsxs)("div",{className:"col-12 grid py-2",children:[(0,m.jsx)("div",{className:"col-11",children:f(e)}),(0,m.jsxs)("div",{className:"col-1 my-auto",children:[(0,m.jsx)("i",{className:"mx-3 cursor-pointer pi pi-pencil",onClick:()=>(e=>{j(null===e||void 0===e?void 0:e._id),d(!0)})(e)}),(0,m.jsx)("i",{className:"mx-3 cursor-pointer pi pi-trash",onClick:()=>P(e)})]})]},e.id),paginator:!0,rows:5}),(0,m.jsx)(q,{visible:c,setVisible:d,id:a,employeeClassId:p,setEmployeeClassId:j})]}),(0,m.jsx)(Z.Z,{title:"Similar To",visible:s,onCancel:()=>n(!1),loading:u,onSave:()=>{},children:(0,m.jsx)(l.R0,{children:(0,m.jsx)(r.T3,{name:"employee",col:12})})})]})}function W(){const{id:e}=(0,h.UO)(),a=(0,y.I0)(),[s,n]=(0,t.useState)([]),[i,o]=(0,t.useState)(!1),[d,u]=(0,t.useState)(!1),[C,p]=(0,t.useState)({name:"",priority:"MEDIUM"}),[j,g]=(0,t.useState)("");(0,t.useEffect)((()=>{E(e)}),[]);const E=e=>{a(((e,a,s)=>async t=>{a&&a(!0);const n=await(0,V.Z)("get",X.Z.SUSTITITION_OPTIONS,"",{employee:e});n.success&&n.data&&s&&s(n.data),a&&a(!1)})(e,o,(e=>{n(e)})))};(0,t.useEffect)((()=>{console.log(j),j&&a(((e,a)=>async s=>{s((0,B.f)());const t=await(0,V.Z)("get",X.Z.SUSTITITION_OPTIONS+e);console.log("res>>",t),t.success&&(s((0,B.t)()),a&&a(t.data)),s((0,B.t)())})(j,(e=>{p({name:e.name,priority:e.priority})})))}),[j,a]);const T=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,C);p((e=>({...e,[a]:s,formErrors:t})))},P=()=>{u(!1),p({name:"",priority:"MEDIUM"}),g(null)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>u(!0)}),(0,m.jsx)(l.ZP,{col:"12",title:"Classes",children:(0,m.jsx)(_.Z,{data:s,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"}],onEdit:e=>{g(null===e||void 0===e?void 0:e._id),u(!0)},onDelete:s=>{(0,v.j3)((()=>{a(((e,a)=>async s=>{const t=await(0,V.Z)("delete",X.Z.SUSTITITION_OPTIONS+e);t.success?(s((0,$.C)({severity:"success",summary:t.message})),a()):s((0,$.C)({severity:"error",summary:t.message}))})(s._id,(()=>{E(e),P()})))}),"Do you want to delete this Substitution Option?")}})}),(0,m.jsx)(Z.Z,{title:j?"Edit":"Add",visible:d,onCancel:P,loading:i,onSave:()=>{(0,v.Ao)(C,p)&&a(j?((e,a,s,t)=>async()=>{s(!0),(await(0,V.Z)("put",X.Z.SUSTITITION_OPTIONS+e,a)).success&&t(),s(!1)})(j,{...C,employee:e},o,(()=>{E(e),P()})):((e,a,s)=>async t=>{a(!0);const n=await(0,V.Z)("post",X.Z.SUSTITITION_OPTIONS,e);n.success?s():t((0,$.C)({severity:"error",summary:n.message})),a(!1)})({...C,employee:e},o,(()=>{E(e),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:C,onChange:T}),(0,m.jsx)(r.T3,{name:"priority",data:C,onChange:T,options:c.IP,col:12})]})})]})}const z=()=>{const e=[{title:"Pay",content:(0,m.jsx)(J,{})},{title:"Substitute Option",content:(0,m.jsx)(W,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.Z,{name:"classes",tabs:e,useIndex:!0})})},H=(e,a,s,t)=>async n=>{s&&s(!0);const i=await(0,V.Z)("get",X.Z.EMPLOYEE_APPOINTMENT,"",{employee:e,type:a});i.success&&i.data&&t&&t(i.data),s&&s(!1)},K=()=>{const e=(0,y.I0)(),[a,s]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),[u,C]=(0,t.useState)([]),p={name:"",priority:"PER-EVENT",type:"PAY",pay:0,amountType:"FIXED"},[j,g]=(0,t.useState)(p),{id:E}=(0,h.UO)();(0,t.useEffect)((()=>{T(E)}),[]);const T=a=>{e(H(a,"PAY",i,(e=>{C(e)})))};(0,t.useEffect)((()=>{console.log(o),o&&e(((e,a,s)=>async t=>{a&&a(!0);const n=await(0,V.Z)("get",X.Z.EMPLOYEE_APPOINTMENT+e);n.success&&n.data&&s&&s(n.data),a&&a(!1)})(o,i,(e=>{g({name:e.name,priority:e.priority,type:"PAY",pay:e.pay,amountType:e.amountType})})))}),[o,e]);const P=()=>{d(null),g(p),s(!1)},f=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,j);g((e=>({...e,[a]:s,formErrors:t})))};return console.log("data>>",j),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>s(!0)}),(0,m.jsx)(_.Z,{data:u,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"},{field:"pay",header:"Pay"}],onEdit:e=>{d(null===e||void 0===e?void 0:e._id),s(!0)},onDelete:a=>{(0,v.j3)((()=>{e(((e,a)=>async s=>{const t=await(0,V.Z)("delete",X.Z.EMPLOYEE_APPOINTMENT+e);t.success?a():s((0,$.C)({severity:"error",summary:t.message}))})(a._id,(()=>{T(E),P()})))}),"Do you want to delete this Appartment Pay?")}}),(0,m.jsx)(Z.Z,{title:o?"Edit":"Add",visible:a,onCancel:P,loading:n,onSave:()=>{(0,v.Ao)(j,g)&&e(o?((e,a,s,t)=>async n=>{s(!0);const i=await(0,V.Z)("put",X.Z.EMPLOYEE_APPOINTMENT+e,a);i.success?t():n((0,$.C)({severity:"error",summary:i.message})),s(!1)})(o,{...j},i,(()=>{T(E),P()})):((e,a,s)=>async t=>{a(!0);const n=await(0,V.Z)("post",X.Z.EMPLOYEE_APPOINTMENT,e);n.success?s():t((0,$.C)({severity:"error",summary:n.message})),a(!1)})({...j,employee:E},i,(()=>{T(E),P()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:j,onChange:f}),(0,m.jsx)(r.T3,{name:"priority",data:j,onChange:f,options:c.zC,col:12}),(0,m.jsx)(r.l9,{col:8,name:"pay",data:j,onChange:f}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:j,onChange:f,col:4})]})})]})},Q=(e,a,s,t)=>async n=>{s&&s(!0);const i=await(0,V.Z)("get",X.Z.SALES_COMMISSION,"",{employee:e,type:a});i.success&&i.data&&t&&t(i.data),s&&s(!1)},ee=e=>{let{type:a}=e;console.log("type>>",a);const s=(0,y.I0)(),{id:n}=(0,h.UO)(),i={bonusType:"SERVICE_VALUE",sessionsValue:0,ofSessions:0,over:0,duration:"DAYS",bonusAmount:0,type:"BONUS",amountType:"FIXED",services:["Private Sessions"]},[o,d]=(0,t.useState)(!1),[u,C]=(0,t.useState)(!1),[p,j]=(0,t.useState)(null),[g,E]=(0,t.useState)([]),[T,P]=(0,t.useState)(i),f=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,T);P((e=>({...e,[a]:s,formErrors:t})))};(0,t.useEffect)((()=>{N(n)}),[]);const N=e=>{s("appointment"===a?H(e,"BONUS",C,(e=>{E(e)})):Q(e,"BONUS",C,(e=>{E(e)})))};(0,t.useEffect)((()=>{console.log(p),p&&s(((e,a,s)=>async t=>{let n;console.log(e),t((0,B.f)()),n="appointment"===e?await(0,V.Z)("get",X.Z.EMPLOYEE_APPOINTMENT+a):await(0,V.Z)("get",X.Z.SALES_COMMISSION+a),console.log("res>>",n),n.success&&(t((0,B.t)()),s&&s(n.data)),t((0,B.t)())})(a,p,(e=>{P({bonusType:e.bonusType,sessionsValue:e.sessionsValue,ofSessions:e.ofSessions,over:e.selectTimeframe.over,duration:e.selectTimeframe.duration,bonusAmount:e.bonusAmount,type:"BONUS",amountType:e.amountType,services:e.services})})))}),[p,s]);const S=()=>{j(null),P(i),d(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>d(!0)}),(0,m.jsx)(_.Z,{data:g,columns:[{field:"bonusType",body:e=>"SERVICE_VALUE"===e.bonusType?"Service Value":"Single Client",header:"Bonus Type"},{field:"Session",body:e=>"SERVICE_VALUE"===e.bonusType?e.sessionsValue:e.ofSessions,header:"Value"},{field:"selectTimeframe.over",body:e=>e.selectTimeframe.over+" "+e.selectTimeframe.duration.toLowerCase(),header:"Time Frame"},{field:"bonusAmount",body:e=>"FIXED"===e.amountType?"$"+e.bonusAmount:e.bonusAmount+"%",header:"Bonus Amount"},{field:"services",body:e=>e.services.join(","),header:"Services"}],onEdit:e=>{j(null===e||void 0===e?void 0:e._id),d(!0)},onDelete:e=>{(0,v.j3)((()=>{s(((e,a,s)=>async t=>{let n;n="appointment"===e?await(0,V.Z)("delete",X.Z.EMPLOYEE_APPOINTMENT+a):await(0,V.Z)("delete",X.Z.SALES_COMMISSION+a),n.success?(t((0,$.C)({severity:"success",summary:n.message})),s()):t((0,$.C)({severity:"error",summary:n.message}))})(a,e._id,(()=>{N(n),S()})))}),"Do you want to delete this Bonus?")}}),(0,m.jsx)(Z.Z,{title:p?"Edit":"Add",visible:o,onCancel:S,loading:u,onSave:()=>{let e=[];if(e="SINGLE_CLIENT"===(null===T||void 0===T?void 0:T.bonusType)?["sessionsValue"]:["ofSessions"],(0,v.Ao)(T,P,e)){const{over:e,duration:t,...i}=T;s(p?((e,a,s,t,n)=>async()=>{let i;t(!0),i="appointment"===e?await(0,V.Z)("put",X.Z.EMPLOYEE_APPOINTMENT+a,s):await(0,V.Z)("put",X.Z.SALES_COMMISSION+a,s),i.success&&n(),t(!1)})(a,p,{...i,selectTimeframe:{over:e,duration:t}},C,(()=>{N(n),S()})):((e,a,s,t)=>async n=>{let i;s(!0),i="appointment"===e?await(0,V.Z)("post",X.Z.EMPLOYEE_APPOINTMENT,a):await(0,V.Z)("post",X.Z.SALES_COMMISSION,a),i.success?t():n((0,$.C)({severity:"error",summary:i.message})),s(!1)})(a,{...i,selectTimeframe:{over:e,duration:t},employee:n},C,(()=>{N(n),S()})))}},width:"90vh",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.T3,{label:"",name:"bonusType",data:T,onChange:f,options:c.WD,col:6}),"SINGLE_CLIENT"===(null===T||void 0===T?void 0:T.bonusType)?(0,m.jsx)(r.l9,{col:6,label:"No of Sessions",name:"ofSessions",data:T,onChange:f}):(0,m.jsx)(r.l9,{col:6,name:"sessionsValue",data:T,onChange:f}),(0,m.jsx)(r.l9,{col:"6",name:"over",data:T,onChange:f}),(0,m.jsx)(r.T3,{label:"",name:"duration",data:T,onChange:f,col:6,options:c.SW}),(0,m.jsx)(r.l9,{col:8,name:"bonusAmount",data:T,onChange:f}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:T,onChange:f,col:4}),(0,m.jsx)(r.pc,{col:"12",name:"services",data:T,onChange:f,options:c.es})]})})]})},ae=()=>{const e=[{title:"Pay",content:(0,m.jsx)(K,{})},{title:"Bonus",content:(0,m.jsx)(ee,{type:"appointment"})},{title:"Calendar Default",content:(0,m.jsx)(m.Fragment,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.Z,{name:"appointment",tabs:e,useIndex:!0})})};var se=s(8876);const te=()=>{const e=(0,y.I0)(),[a,s]=(0,t.useState)(!1),[n,i]=(0,t.useState)(!1),[o,d]=(0,t.useState)(null),[u,C]=(0,t.useState)([]),p={commissionGroup:"",type:"ITEM_COMMISSION",commissionType:"PER_ITEM",amountType:"FIXED",pay:"0"},[j,g]=(0,t.useState)(p),{id:E}=(0,h.UO)();(0,t.useEffect)((()=>{P(E),e((0,se.JE)())}),[]);const{commissionGroupsDropdown:T}=(0,y.v9)((e=>null===e||void 0===e?void 0:e.commissionGroup)),P=a=>{e(Q(a,"ITEM_COMMISSION",i,(e=>{C(e)})))};(0,t.useEffect)((()=>{console.log(o),o&&e(((e,a,s)=>async t=>{a&&a(!0);const n=await(0,V.Z)("get",X.Z.SALES_COMMISSION+e);n.success&&n.data&&s&&s(n.data),a&&a(!1)})(o,i,(e=>{g({commissionGroup:e.commissionGroup,type:e.type,commissionType:e.commissionType,amountType:e.amountType,pay:e.pay})})))}),[o,e]);const f=()=>{d(null),g(p),s(!1)},N=e=>{let{name:a,value:s}=e;const t=(0,x.Z)(a,s,j);g((e=>({...e,[a]:s,formErrors:t})))};return console.log("data>>",j),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add",onClick:()=>s(!0)}),(0,m.jsx)(_.Z,{data:u,columns:[{field:"commissionGroup",header:"Commission Group"},{field:"commissionType",header:"Commission Type"},{field:"pay",header:"Pay"}],onEdit:e=>{d(null===e||void 0===e?void 0:e._id),s(!0)},onDelete:a=>{(0,v.j3)((()=>{e(((e,a)=>async s=>{const t=await(0,V.Z)("delete",X.Z.SALES_COMMISSION+e);t.success?a():s((0,$.C)({severity:"error",summary:t.message}))})(a._id,(()=>{P(E),f()})))}),"Do you want to delete this Item Commission?")}}),(0,m.jsx)(Z.Z,{title:o?"Edit":"Add",visible:a,onCancel:f,loading:n,onSave:()=>{(0,v.Ao)(j,g)&&e(o?((e,a,s,t)=>async n=>{s(!0);const i=await(0,V.Z)("put",X.Z.SALES_COMMISSION+e,a);i.success?t():n((0,$.C)({severity:"error",summary:i.message})),s(!1)})(o,{...j},i,(()=>{P(E),f()})):((e,a,s)=>async t=>{a(!0);const n=await(0,V.Z)("post",X.Z.SALES_COMMISSION,e);n.success?s():t((0,$.C)({severity:"error",summary:n.message})),a(!1)})({...j,employee:E},i,(()=>{P(E),f()})))},children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(r.T3,{name:"commissionGroup",data:j,onChange:N,options:T,optionLabel:"name",col:12}),(0,m.jsx)(r.T3,{name:"commissionType",data:j,onChange:N,options:c.am,col:12}),(0,m.jsx)(r.l9,{col:8,name:"pay",data:j,onChange:N}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:j,onChange:N,col:4})]})})]})},ne=()=>{const e=[{title:"Item Commission",content:(0,m.jsx)(te,{})},{title:"Bonus",content:(0,m.jsx)(ee,{type:"salesCommission"})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.Z,{name:"sales-commission",tabs:e,useIndex:!0})})},ie=()=>{const{id:e}=(0,h.UO)(),a=[{title:"Security",content:(0,m.jsx)(g,{})},{title:"General",content:(0,m.jsx)(b,{})},{title:"Departments",content:(0,m.jsx)(G,{})},{title:"Clubs",content:(0,m.jsx)(I,{})},{title:"Classes Setup",content:(0,m.jsx)(z,{})},{title:"Appointment Setup",content:(0,m.jsx)(ae,{})},{title:"Sales Commision",content:(0,m.jsx)(ne,{})},{title:"Time Sheet",content:(0,m.jsx)("h1",{children:"Tab 8"})},{title:"Notes",content:(0,m.jsx)(L,{})},{title:"Certifications",content:(0,m.jsx)(Y,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(n.Z,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,m.jsx)(i.Z,{tabs:a,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9],scrollable:!0})})})}}}]);
//# sourceMappingURL=350.1df609fe.chunk.js.map