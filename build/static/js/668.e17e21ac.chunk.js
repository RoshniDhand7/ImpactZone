"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[668],{2668:(e,s,n)=>{n.r(s),n.d(s,{default:()=>v});var t=n(9379),a=n(5043),r=n(5050),i=n(3549),l=n(3191),c=n(9457),o=n(579);const d=e=>{let{values:s,expandedKeys:n,selectionKeys:t,onSelectionChange:a}=e;return(0,o.jsx)(c.P,{selectionMode:"checkbox",value:s,expandedKeys:n,selectionKeys:t,onSelectionChange:e=>a(e.value)})};var m=n(1298);function u(e){let{selected:s,setSelected:n}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h3",{className:"font-bold",children:"Permissions"}),(0,o.jsx)("div",{className:"grid",children:m.I.map(((e,t)=>{let{department:a,expended:r,permissions:l}=e;return(0,o.jsx)(i.Ay,{col:"4",title:a,children:(0,o.jsx)(d,{expandedKeys:r,values:l,selectionKeys:s,onSelectionChange:n})},t)}))})]})}var x=n(9456),h=n(9358),p=n(1688),j=n(7994),y=n(2392),f=n(962),g=n(6038);const v=()=>{const{id:e}=(0,p.g)(),s=(0,p.W6)(),n=(0,x.wA)();(0,a.useEffect)((()=>{e&&n((0,h.rr)(e,(e=>{k(e.rawPermissions),d({name:e.name,description:e.description})})))}),[e,n]),(0,a.useEffect)((()=>{n((0,h.VE)())}),[n]);const[c,d]=(0,a.useState)({name:"",description:""}),[m,v]=(0,a.useState)(!1),[S,k]=(0,a.useState)({}),C=e=>{let{name:s,value:n}=e;const a=(0,g.A)(s,n,c);d((e=>(0,t.A)((0,t.A)({},e),{},{[s]:n,formErrors:a})))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(r.A,{backText:"Security Roles",children:[(0,o.jsx)(i.Ay,{col:"12",title:"General",children:(0,o.jsxs)(i.a,{children:[(0,o.jsx)(l.wi,{data:c,name:"name",onChange:C,required:!0,col:3}),(0,o.jsx)(l.Ky,{data:c,onChange:C,name:"description"})]})}),(0,o.jsx)(u,{selected:S,setSelected:e=>{k(e)}}),(0,o.jsxs)(j.zp,{children:[(0,o.jsx)(j.Ay,{label:"Save",className:"mx-2",loading:m,onClick:()=>{(0,f.nV)(c,d)?Object.keys(S).length?n(e?(0,h.pB)(e,c,S,v,s):(0,h.QQ)(c,S,v,s)):n((0,y.P)({severity:"error",summary:"Permission Matrix",detail:"Select atleast one permission"})):n((0,y.P)({severity:"error",summary:"Personal Information",detail:"Missing information"}))}}),(0,o.jsx)(j.Ti,{label:"Cancel",onClick:()=>s.goBack()})]})]})})}}}]);
//# sourceMappingURL=668.e17e21ac.chunk.js.map