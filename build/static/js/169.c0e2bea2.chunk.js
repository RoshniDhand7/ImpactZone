"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[169],{3585:(e,a,t)=>{t.d(a,{GJ:()=>d,Jb:()=>m,mv:()=>u,tG:()=>p,xJ:()=>E});var s=t(2426),n=t.n(s),i=t(1526),c=t(988),r=t(1529),o=t(3048),l=t(4499);t(1520);const d=(e,a)=>async t=>{a&&a(!0);const s={employee:e},n=await(0,i.Z)("get",c.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},s);n.success&&n.data&&t({type:r.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:n.data}),a&&a(!1)},m=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{a(!0);const o={...e,acquiredDate:n()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(e.expirationDate).format("MM/DD/YYYY")},d=await(0,i.Z)("post",c.Z.MANAGE_EMPLOYEE_CERTIFICATES,o);d.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(s)):t.goBack(),r((0,l.C)({severity:"success",summary:d.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,o.f)());const s=await(0,i.Z)("get",c.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,o.t)())},p=function(e,a,t,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async o=>{t(!0);const d={...a,acquiredDate:n()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:n()(a.expirationDate).format("MM/DD/YYYY")},m=await(0,i.Z)("put",c.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,d);m.success&&(r?s.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(r)):s.goBack(),o((0,l.C)({severity:"success",summary:m.message}))),t(!1)}},E=e=>async a=>{const t=await(0,i.Z)("delete",c.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(a(d((()=>{}))),a((0,l.C)({severity:"success",summary:t.message}))):a((0,l.C)({severity:"error",summary:t.message}))}},6886:(e,a,t)=>{t.d(a,{Z:()=>c});t(2791);var s=t(4880),n=t(4822),i=t(184);function c(e){let{children:a,backText:t,backTo:c}=e;const r=(0,s.k6)(),o=()=>{c?r.replace(c):r.goBack()};return(0,i.jsxs)(n.Z,{children:[t?(0,i.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,i.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:o}),(0,i.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:o,children:["Back to ",t]})]}):null,(0,i.jsx)(i.Fragment,{children:a})]})}},3169:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(2791),n=t(6886),i=t(3e3),c=t(2711),r=t(9434),o=t(4880),l=t(7480),d=t(3585),m=t(184);const u=()=>{const{id:e,employeeId:a}=(0,o.UO)(),t=(0,r.I0)(),u=(0,o.k6)(),[p,E]=(0,s.useState)({name:"",certificationNumber:"",issuer:"",acquiredDate:"",expirationDate:"",uploadCertificate:"",employee:""});(0,s.useEffect)((()=>{e?t((0,d.mv)(e,(e=>{E({name:e.name,certificationNumber:e.certificationNumber,issuer:e.issuer,acquiredDate:e.acquiredDate?new Date:"",expirationDate:e.expirationDate?new Date:"",uploadCertificate:e.uploadCertificate?[e.uploadCertificate]:[],description:e.description,employee:a})}))):E({...p,employee:a})}),[e,t]);const[x,C]=(0,s.useState)(!1),g=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(n.Z,{backText:"Certifications",children:[(0,m.jsx)(i.ZP,{col:"12",title:"Personal",children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(c.t7,{name:"name",data:p,onChange:g}),(0,m.jsx)(c.t7,{name:"certificationNumber",data:p,onChange:g}),(0,m.jsx)(c.t7,{name:"issuer",data:p,onChange:g}),(0,m.jsx)(c.FB,{name:"acquiredDate",data:p,onChange:g}),(0,m.jsx)(c.FB,{name:"expirationDate",data:p,onChange:g}),(0,m.jsx)(c.Ks,{name:"description",data:p,onChange:g})]})}),(0,m.jsxs)(l.GG,{children:[(0,m.jsx)(l.ZP,{label:"Save",className:"mx-2",loading:x,onClick:()=>{t(e?(0,d.tG)(e,p,C,u):(0,d.Jb)(p,C,u))}}),(0,m.jsx)(l.ah,{label:"Cancel",onClick:()=>u.replace("/settings/employee")})]})]})})}}}]);
//# sourceMappingURL=169.c0e2bea2.chunk.js.map