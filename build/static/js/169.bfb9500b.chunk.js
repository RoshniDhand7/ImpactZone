"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[169],{3585:(e,a,t)=>{t.d(a,{GJ:()=>m,Jb:()=>d,Uf:()=>C,lU:()=>x,mv:()=>u,tG:()=>p,xJ:()=>E});var s=t(2426),c=t.n(s),n=t(1526),i=t(988),r=t(1529),o=t(3048),l=t(4499);const m=(e,a)=>async t=>{a&&a(!0);const s={employee:e},c=await(0,n.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},s);c.success&&c.data&&t({type:r.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:c.data}),a&&a(!1)},d=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{a(!0);const o={...e,acquiredDate:c()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:c()(e.expirationDate).format("MM/DD/YYYY")},m=await(0,n.Z)("post",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,o);m.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(s)):t.goBack(),r((0,l.C)({severity:"success",summary:m.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,o.f)());const s=await(0,n.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,o.t)())},p=function(e,a,t,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async o=>{t(!0);const m={...a,acquiredDate:c()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:c()(a.expirationDate).format("MM/DD/YYYY")},d=await(0,n.Z)("put",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,m);d.success&&(r?s.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(r)):s.goBack(),o((0,l.C)({severity:"success",summary:d.message}))),t(!1)}},E=(e,a)=>async t=>{const s=await(0,n.Z)("delete",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success?(t((0,l.C)({severity:"success",summary:s.message})),a()):t((0,l.C)({severity:"error",summary:s.message}))},C=(e,a,t)=>async s=>{a&&a(!0);const c=await(0,n.Z)("get",i.Z.NOTES,"",{employee:e});c.success&&c.data&&t&&t(c.data),a&&a(!1)},x=(e,a,t)=>async s=>{a(!0);const c=await(0,n.Z)("post",i.Z.NOTES,e);c.success?(s((0,l.C)({severity:"success",summary:c.message})),t()):s((0,l.C)({severity:"error",summary:c.message})),a(!1)}},6886:(e,a,t)=>{t.d(a,{Z:()=>i});t(2791);var s=t(4880),c=t(4822),n=t(184);function i(e){let{children:a,backText:t,backTo:i}=e;const r=(0,s.k6)(),o=()=>{i?r.replace(i):r.goBack()};return(0,n.jsxs)(c.Z,{children:[t?(0,n.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,n.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:o}),(0,n.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:o,children:["Back to ",t]})]}):null,(0,n.jsx)(n.Fragment,{children:a})]})}},3169:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(2791),c=t(6886),n=t(3e3),i=t(952),r=t(9434),o=t(4880),l=t(7480),m=t(3585),d=t(184);const u=()=>{const{id:e,employeeId:a}=(0,o.UO)(),t=(0,r.I0)(),u=(0,o.k6)(),[p,E]=(0,s.useState)({name:"",certificationNumber:"",issuer:"",acquiredDate:"",expirationDate:"",uploadCertificate:"",employee:""});(0,s.useEffect)((()=>{e?t((0,m.mv)(e,(e=>{E({name:e.name,certificationNumber:e.certificationNumber,issuer:e.issuer,acquiredDate:e.acquiredDate?new Date:"",expirationDate:e.expirationDate?new Date:"",uploadCertificate:e.uploadCertificate?[e.uploadCertificate]:[],description:e.description,employee:a})}))):E({...p,employee:a})}),[e,t]);const[C,x]=(0,s.useState)(!1),y=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(c.Z,{backText:"Certifications",children:[(0,d.jsx)(n.ZP,{col:"12",title:"Personal",children:(0,d.jsxs)(n.R0,{children:[(0,d.jsx)(i.t7,{name:"name",data:p,onChange:y}),(0,d.jsx)(i.t7,{name:"certificationNumber",data:p,onChange:y}),(0,d.jsx)(i.t7,{name:"issuer",data:p,onChange:y}),(0,d.jsx)(i.FB,{name:"acquiredDate",data:p,onChange:y}),(0,d.jsx)(i.FB,{name:"expirationDate",data:p,onChange:y}),(0,d.jsx)(i.Ks,{name:"description",data:p,onChange:y})]})}),(0,d.jsxs)(l.GG,{children:[(0,d.jsx)(l.ZP,{label:"Save",className:"mx-2",loading:C,onClick:()=>{t(e?(0,m.tG)(e,p,x,u):(0,m.Jb)(p,x,u))}}),(0,d.jsx)(l.ah,{label:"Cancel",onClick:()=>u.replace("/settings/employee")})]})]})})}}}]);
//# sourceMappingURL=169.bfb9500b.chunk.js.map