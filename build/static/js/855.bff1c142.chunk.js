"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[855],{2373:(e,a,t)=>{t.d(a,{A:()=>u});var l=t(5043),n=t(3549),o=t(8085),i=t(7994),s=t(7602),d=t(6411),c=t(1350),r=t(579);const u=e=>{let{data:a,setData:t,id:u,loading:m,name:h}=e;const[v,g]=(0,l.useState)(!1),[x,j]=(0,l.useState)([]),{CatalogItemsList:A}=(0,c.A)();(0,l.useEffect)((()=>{u&&v&&j(null===a||void 0===a?void 0:a.catalogs)}),[null===a||void 0===a?void 0:a.catalogs,v,u]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Ay,{col:"12",title:h,children:[(0,r.jsx)(n.Fq,{buttonTitle:"Add",onClick:()=>g(!0),extraClass:"justify-content-end gap-2",children:(0,r.jsx)("div",{children:(0,r.jsx)(i.Ay,{label:"Remove All",onClick:()=>{t((e=>({...e,catalogs:[]}))),j([])}})})}),(0,r.jsx)(s.A,{data:null===a||void 0===a?void 0:a.catalogs,columns:[{field:"name",header:"Name"},{field:"upc",header:"UPC"},{field:"unitPrice",header:"Price"}],showSelectionElement:!1,onDelete:e=>{(0,o.QV)((()=>{t((t=>{var l;return{...t,catalogs:null===a||void 0===a||null===(l=a.catalogs)||void 0===l?void 0:l.filter((a=>a._id!==(null===e||void 0===e?void 0:e._id)))}}))}),"Do you want to delete this Catalog Item ?","center")}})]}),(0,r.jsx)(d.A,{title:"Add Catlog Item",visible:v,onCancel:()=>{g("")},loading:m,onSave:()=>{t((e=>({...e,catalogs:x}))),g(!1)},width:"auto",children:(0,r.jsx)(n.a,{children:v&&(0,r.jsx)(s.A,{convertToboolean:!1,data:A,columns:[{selectionMode:"multiple",headerStyle:""},{field:"name",header:" Name"},{field:"upc",header:"UPC"},{field:"unitPrice",header:"Price"}],selectedRow:x,setSelectedRow:j})})})]})}},3855:(e,a,t)=>{t.r(a),t.d(a,{default:()=>x});var l=t(5043),n=t(9649),o=t(5050),i=t(3549),s=t(7994),d=t(1688),c=t(9456),r=t(6038),u=t(8085),m=t(7374),h=t(9949),v=t(2373),g=t(579);const x=()=>{const e=(0,d.W6)(),{id:a}=(0,d.g)(),t=(0,c.wA)(),[x,j]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a&&t((0,h.FS)(a,(e=>{f({name:e.name,amount:e.amount,amountType:e.amountType,catalogs:null===e||void 0===e?void 0:e.catalogs,isActive:e.isActive})})))}),[a,t]);const[A,f]=(0,l.useState)({name:"",amount:0,amountType:"FIXED",isActive:!0,catalogs:[]}),C=e=>{let{name:a,value:t}=e;const l=(0,r.A)(a,t,A);f((e=>({...e,[a]:t,formErrors:l})))};return(0,g.jsxs)(o.A,{backText:"Referral Group",children:[(0,g.jsx)(i.Ay,{col:"12",title:"Add New Referral Group",children:(0,g.jsxs)(i.a,{children:[(0,g.jsx)(n.wi,{name:"name",data:A,onChange:C,required:!0}),(0,g.jsx)(n.Bt,{name:"amount",data:A,onChange:C}),(0,g.jsx)(n.BR,{label:"",name:"amountType",options:m.$b,data:A,onChange:C,col:1}),(0,g.jsx)(n.o4,{name:"isActive",data:A,onChange:C})]})}),(0,g.jsx)(v.A,{data:A,setData:f,id:a,loading:x,name:"Catalog Items"}),(0,g.jsxs)(s.zp,{children:[(0,g.jsx)(s.Ay,{label:"Save",className:"mx-2",onClick:()=>{(0,u.nV)(A,f)&&t(a?(0,h.AR)(a,A,j,e):(0,h.jX)(A,j,e))},loading:x}),(0,g.jsx)(s.Ti,{label:"Cancel",onClick:()=>e.goBack()})]})]})}}}]);
//# sourceMappingURL=855.bff1c142.chunk.js.map