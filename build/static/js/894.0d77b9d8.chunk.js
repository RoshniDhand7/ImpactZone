"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{2894:(e,i,s)=>{s.r(i),s.d(i,{default:()=>y});var n=s(5043),a=s(5050),l=s(5378),o=s(8945),c=s(6038),t=s(7994),d=s(1688),m=s(9456),r=s(8740),u=s(6911),A=s(8110),v=s(7602),h=s(6411),x=s(1584),p=s(1830),g=s(9273),w=s(1221),j=s(579);const y=()=>{const e=(0,m.wA)(),{id:i}=(0,d.g)();(0,n.useEffect)((()=>{e((0,A.aM)()),e((0,x.mP)()),e((0,g.vR)())}),[e]);const{AccessScheduleDropdown:s}=(0,m.d4)((e=>e.accessSchedule)),{MembershipTypesDropdown:y}=(0,m.d4)((e=>e.membershipTypes)),{catalogServiceFilterItems:C}=(0,m.d4)((e=>e.catalogItems));let{clubsDropdown:b}=(0,m.d4)((e=>e.clubs));const[f,R]=(0,n.useState)(!1),[D,T]=(0,n.useState)([]),[k,B]=(0,n.useState)({name:"",description:"",discountType:"None",accessRestriction:"false",accessSchedule:null,remotecheckin:"",transferToAnotherType:null,clubCreditAmount:"",specialRestriction:"",minimumAgeAllowed:0,maximumAgeAllowed:0,maximumDaysAllowed:0,maximumDistanceAllowed:0,club:[],services:[],isActive:!0}),S=(0,d.W6)(),{loading:P}=(0,m.d4)((e=>{var i;return null===e||void 0===e||null===(i=e.loader)||void 0===i?void 0:i.isLoading}));(0,n.useEffect)((()=>{i&&e((0,w.nK)(i,(e=>{B({name:e.name,description:e.description,discountType:e.discountType,accessRestriction:e.accessRestriction,accessSchedule:e.accessSchedule,remotecheckin:e.remotecheckin,transferToAnotherType:e.transferToAnotherType,clubCreditAmount:e.clubCreditAmount,specialRestriction:e.specialRestriction,minimumAgeAllowed:e.minimumAgeAllowed,maximumAgeAllowed:e.maximumAgeAllowed,maximumDaysAllowed:e.maximumDaysAllowed,maximumDistanceAllowed:e.maximumDistanceAllowed,club:e.club,services:e.services,isActive:!0})})))}),[i,e]);const E=e=>{let{name:i,value:s}=e;const n=(0,c.A)(i,s,k);B((e=>({...e,[i]:s,formErrors:n})))};(0,n.useEffect)((()=>{i&&f&&T(null===k||void 0===k?void 0:k.services)}),[null===k||void 0===k?void 0:k.services,f]);const F=r.$n;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(a.A,{backText:"Membership Types",children:[(0,j.jsxs)(l.Ay,{col:"12",title:"General",children:[(0,j.jsx)(o.o4,{name:"isActive",data:k,onChange:E}),(0,j.jsxs)(l.a,{children:[(0,j.jsx)(o.wi,{name:"name",data:k,onChange:E,required:!0}),(0,j.jsx)(o.wi,{name:"description",data:k,onChange:E}),(0,j.jsx)(o.BR,{name:"discountType",options:F,onChange:E,data:k}),(0,j.jsx)(o.BR,{name:"accessRestriction",options:r.r4,onChange:E,data:k}),"true"===(null===k||void 0===k?void 0:k.accessRestriction)&&(0,j.jsx)(o.BR,{name:"accessSchedule",options:s,onChange:E,data:k}),(0,j.jsx)(o.BR,{name:"remotecheckin",options:r.r4,onChange:E,data:k}),(0,j.jsx)(o.BR,{name:"transferToAnotherType",options:y,onChange:E,data:k}),(0,j.jsx)(o.Bt,{prefix:"$",name:"clubCreditAmount",data:k,onChange:E,col:"4"}),(0,j.jsx)(o.BR,{name:"specialRestriction",options:r.So,onChange:E,data:k}),"By Age"===(null===k||void 0===k?void 0:k.specialRestriction)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Bt,{name:"minimumAgeAllowed",data:k,onChange:E,col:"4"}),(0,j.jsx)(o.Bt,{name:"maximumAgeAllowed",data:k,onChange:E,col:"4"})]}),"By Location"===(null===k||void 0===k?void 0:k.specialRestriction)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(o.Bt,{name:"maximumDistanceAllowed",data:k,onChange:E,col:"4"})}),"By Days"===(null===k||void 0===k?void 0:k.specialRestriction)&&(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(o.Bt,{name:"maximumDaysAllowed",data:k,onChange:E,col:"4"})})]})]}),(0,j.jsx)(l.Ay,{col:"12",title:" Clubs",children:(0,j.jsx)(u.A,{name:"club",selected:null===k||void 0===k?void 0:k.club,sourceData:b,onPickListChange:E})}),(0,j.jsxs)(l.Ay,{col:"12",title:" Add Services",children:[(0,j.jsx)(l.Fq,{buttonTitle:"Add",onClick:()=>R(!0),extraClass:"justify-content-end gap-2",children:(0,j.jsx)("div",{children:(0,j.jsx)(t.Ay,{label:"Remove All",onClick:()=>{B((e=>({...e,services:[]}))),T([])}})})}),(0,j.jsx)(v.A,{data:null===k||void 0===k?void 0:k.services,columns:[{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],showSelectionElement:!1,onDelete:e=>{(0,p.QV)((()=>{B((i=>{var s;return{...i,services:null===k||void 0===k||null===(s=k.services)||void 0===s?void 0:s.filter((i=>i._id!==(null===e||void 0===e?void 0:e._id)))}}))}),"Do you want to delete this Service ?","center")}})]}),(0,j.jsx)(h.A,{title:"Add Services",visible:f,onCancel:()=>{R("")},loading:P,onSave:()=>{B((e=>({...e,services:D}))),R(!1)},width:"auto",children:(0,j.jsx)(l.a,{children:f&&(0,j.jsx)(v.A,{convertToboolean:!1,data:f&&C,columns:[{selectionMode:"multiple",headerStyle:""},{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],selectedRow:D,setSelectedRow:T})})}),(0,j.jsxs)(t.zp,{children:[(0,j.jsx)(t.Ay,{label:"Save",className:"mx-2",onClick:()=>{let s=[];switch(null===k||void 0===k?void 0:k.specialRestriction){case"By Age":s=["maximumDaysAllowed","maximumDistanceAllowed","services"];break;case"By Location":s=["minimumAgeAllowed","maximumAgeAllowed","maximumDaysAllowed","services"];break;case"By Days":s=["maximumAgeAllowed","minimumAgeAllowed","maximumDistanceAllowed","services"];break;default:s=["maximumDaysAllowed","maximumDistanceAllowed","minimumAgeAllowed","maximumAgeAllowed","services"]}(0,p.nV)(k,B,s)&&e(i?(0,w.TV)(i,{...k,services:(0,p.rO)(k.services)},S):(0,w.E1)({...k,services:(0,p.rO)(k.services)},(()=>S.goBack())))},loading:P}),(0,j.jsx)(t.Ti,{label:"Cancel",onClick:()=>S.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.0d77b9d8.chunk.js.map