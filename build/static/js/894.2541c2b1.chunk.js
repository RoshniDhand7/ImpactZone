"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{8701:(e,i,s)=>{s.d(i,{A:()=>u});var a=s(5043),n=s(5378),l=s(1830),o=s(6411),t=s(7602),c=s(7994),d=s(9456),m=s(1584),r=s(579);const u=e=>{let{data:i,setData:s,id:u,loading:A}=e;const[v,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)([]),p=(0,d.wA)();(0,a.useEffect)((()=>{p((0,m.mP)())}),[p]),(0,a.useEffect)((()=>{u&&v&&g(null===i||void 0===i?void 0:i.services)}),[null===i||void 0===i?void 0:i.services,v,u]);const{catalogServiceFilterItems:w}=(0,d.d4)((e=>e.catalogItems));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.Ay,{col:"12",title:" Add Services",children:[(0,r.jsx)(n.Fq,{buttonTitle:"Add",onClick:()=>h(!0),extraClass:"justify-content-end gap-2",children:(0,r.jsx)("div",{children:(0,r.jsx)(c.Ay,{label:"Remove All",onClick:()=>{s((e=>({...e,services:[]}))),g([])}})})}),(0,r.jsx)(t.A,{data:null===i||void 0===i?void 0:i.services,columns:[{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],showSelectionElement:!1,onDelete:e=>{(0,l.QV)((()=>{s((s=>{var a;return{...s,services:null===i||void 0===i||null===(a=i.services)||void 0===a?void 0:a.filter((i=>i._id!==(null===e||void 0===e?void 0:e._id)))}}))}),"Do you want to delete this Service ?","center")}})]}),(0,r.jsx)(o.A,{title:"Add Services",visible:v,onCancel:()=>{h("")},loading:A,onSave:()=>{s((e=>({...e,services:x}))),h(!1)},width:"auto",children:(0,r.jsx)(n.a,{children:v&&(0,r.jsx)(t.A,{convertToboolean:!1,data:v&&w,columns:[{selectionMode:"multiple",headerStyle:""},{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],selectedRow:x,setSelectedRow:g})})})]})}},2894:(e,i,s)=>{s.r(i),s.d(i,{default:()=>w});var a=s(5043),n=s(5050),l=s(5378),o=s(8945),t=s(6038),c=s(7994),d=s(1688),m=s(9456),r=s(8740),u=s(6911),A=s(8110),v=s(1830),h=s(9273),x=s(1221),g=s(8701),p=s(579);const w=()=>{var e;const i=(0,m.wA)(),{id:s}=(0,d.g)();(0,a.useEffect)((()=>{i((0,A.aM)()),i((0,h.vR)())}),[i]);const[w,j]=(0,a.useState)({name:"",description:"",discountType:"None",accessRestriction:"false",accessSchedule:null,remotecheckin:"",transferToAnotherType:null,clubCreditAmount:"",specialRestriction:"",minimumAgeAllowed:0,maximumAgeAllowed:0,maximumDaysAllowed:0,maximumDistanceAllowed:0,club:[],services:[],isActive:!0}),{AccessScheduleDropdown:y}=(0,m.d4)((e=>e.accessSchedule));let{MembershipTypesDropdown:C}=(0,m.d4)((e=>e.membershipTypes));C=null===(e=C)||void 0===e?void 0:e.filter((e=>e.name!==(null===w||void 0===w?void 0:w.name)));let{clubsDropdown:f}=(0,m.d4)((e=>e.clubs));const b=(0,d.W6)(),{loading:D}=(0,m.d4)((e=>{var i;return null===e||void 0===e||null===(i=e.loader)||void 0===i?void 0:i.isLoading}));(0,a.useEffect)((()=>{s&&i((0,x.nK)(s,(e=>{j({name:e.name,description:e.description,discountType:e.discountType,accessRestriction:e.accessRestriction,accessSchedule:e.accessSchedule,remotecheckin:e.remotecheckin,transferToAnotherType:e.transferToAnotherType,clubCreditAmount:e.clubCreditAmount,specialRestriction:e.specialRestriction,minimumAgeAllowed:e.minimumAgeAllowed,maximumAgeAllowed:e.maximumAgeAllowed,maximumDaysAllowed:e.maximumDaysAllowed,maximumDistanceAllowed:e.maximumDistanceAllowed,club:e.club,services:e.services,isActive:!0})})))}),[s,i]);const R=e=>{let{name:i,value:s}=e;const a=(0,t.A)(i,s,w);j((e=>({...e,[i]:s,formErrors:a})))},T=r.$n;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(n.A,{backText:"Membership Types",children:[(0,p.jsxs)(l.Ay,{col:"12",title:"General",children:[(0,p.jsx)(o.o4,{name:"isActive",data:w,onChange:R}),(0,p.jsxs)(l.a,{children:[(0,p.jsx)(o.wi,{name:"name",data:w,onChange:R,required:!0}),(0,p.jsx)(o.wi,{name:"description",data:w,onChange:R}),(0,p.jsx)(o.BR,{name:"discountType",options:T,onChange:R,data:w}),(0,p.jsx)(o.BR,{name:"accessRestriction",options:r.r4,onChange:R,data:w}),"true"===(null===w||void 0===w?void 0:w.accessRestriction)&&(0,p.jsx)(o.BR,{name:"accessSchedule",options:y,onChange:R,data:w}),(0,p.jsx)(o.BR,{name:"remotecheckin",options:r.r4,onChange:R,data:w}),(0,p.jsx)(o.BR,{name:"transferToAnotherType",options:C,onChange:R,data:w}),(0,p.jsx)(o.Bt,{prefix:"$",name:"clubCreditAmount",data:w,onChange:R,col:"4"}),(0,p.jsx)(o.BR,{name:"specialRestriction",options:r.So,onChange:R,data:w}),"By Age"===(null===w||void 0===w?void 0:w.specialRestriction)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(o.Bt,{name:"minimumAgeAllowed",data:w,onChange:R,col:"4"}),(0,p.jsx)(o.Bt,{name:"maximumAgeAllowed",data:w,onChange:R,col:"4"})]}),"By Location"===(null===w||void 0===w?void 0:w.specialRestriction)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(o.Bt,{name:"maximumDistanceAllowed",data:w,onChange:R,col:"4"})}),"By Days"===(null===w||void 0===w?void 0:w.specialRestriction)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(o.Bt,{name:"maximumDaysAllowed",data:w,onChange:R,col:"4"})})]})]}),(0,p.jsx)(l.Ay,{col:"12",title:" Clubs",children:(0,p.jsx)(u.A,{name:"club",selected:null===w||void 0===w?void 0:w.club,sourceData:f,onPickListChange:R})}),(0,p.jsx)(g.A,{data:w,setData:j,id:s,loading:D}),(0,p.jsxs)(c.zp,{children:[(0,p.jsx)(c.Ay,{label:"Save",className:"mx-2",onClick:()=>{let e=[];switch(null===w||void 0===w?void 0:w.specialRestriction){case"By Age":e=["maximumDaysAllowed","maximumDistanceAllowed","services"];break;case"By Location":e=["minimumAgeAllowed","maximumAgeAllowed","maximumDaysAllowed","services"];break;case"By Days":e=["maximumAgeAllowed","minimumAgeAllowed","maximumDistanceAllowed","services"];break;default:e=["maximumDaysAllowed","maximumDistanceAllowed","minimumAgeAllowed","maximumAgeAllowed","services"]}(0,v.nV)(w,j,e)&&i(s?(0,x.TV)(s,{...w,services:(0,v.rO)(w.services)},b):(0,x.E1)({...w,services:(0,v.rO)(w.services)},(()=>b.goBack())))},loading:D}),(0,p.jsx)(c.Ti,{label:"Cancel",onClick:()=>b.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.2541c2b1.chunk.js.map