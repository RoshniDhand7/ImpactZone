"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[668],{2668:(e,s,n)=>{n.r(s),n.d(s,{default:()=>g});var t=n(5043),a=n(5050),r=n(3549),i=n(7639),l=n(9457),c=n(579);const o=e=>{let{values:s,expandedKeys:n,selectionKeys:t,onSelectionChange:a}=e;return(0,c.jsx)(l.P,{selectionMode:"checkbox",value:s,expandedKeys:n,selectionKeys:t,onSelectionChange:e=>a(e.value)})};var d=n(1298);function m(e){let{selected:s,setSelected:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"font-bold",children:"Permissions"}),(0,c.jsx)("div",{className:"grid",children:d.I.map(((e,t)=>{let{department:a,expended:i,permissions:l}=e;return(0,c.jsx)(r.Ay,{col:"4",title:a,children:(0,c.jsx)(o,{expandedKeys:i,values:l,selectionKeys:s,onSelectionChange:n})},t)}))})]})}var u=n(9456),x=n(9358),h=n(1688),p=n(7994),j=n(2392),y=n(8085),f=n(6038);const g=()=>{const{id:e}=(0,h.g)(),s=(0,h.W6)(),n=(0,u.wA)();(0,t.useEffect)((()=>{e&&n((0,x.rr)(e,(e=>{S(e.rawPermissions),o({name:e.name,description:e.description})})))}),[e,n]),(0,t.useEffect)((()=>{n((0,x.VE)())}),[n]);const[l,o]=(0,t.useState)({name:"",description:""}),[d,g]=(0,t.useState)(!1),[v,S]=(0,t.useState)({}),k=e=>{let{name:s,value:n}=e;const t=(0,f.A)(s,n,l);o((e=>({...e,[s]:n,formErrors:t})))};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.A,{backText:"Security Roles",children:[(0,c.jsx)(r.Ay,{col:"12",title:"General",children:(0,c.jsxs)(r.a,{children:[(0,c.jsx)(i.wi,{data:l,name:"name",onChange:k,required:!0,col:3}),(0,c.jsx)(i.Ky,{data:l,onChange:k,name:"description"})]})}),(0,c.jsx)(m,{selected:v,setSelected:e=>{S(e)}}),(0,c.jsxs)(p.zp,{children:[(0,c.jsx)(p.Ay,{label:"Save",className:"mx-2",loading:d,onClick:()=>{(0,y.nV)(l,o)?Object.keys(v).length?n(e?(0,x.pB)(e,l,v,g,s):(0,x.QQ)(l,v,g,s)):n((0,j.P)({severity:"error",summary:"Permission Matrix",detail:"Select atleast one permission"})):n((0,j.P)({severity:"error",summary:"Personal Information",detail:"Missing information"}))}}),(0,c.jsx)(p.Ti,{label:"Cancel",onClick:()=>s.goBack()})]})]})})}}}]);
//# sourceMappingURL=668.7c46cf58.chunk.js.map