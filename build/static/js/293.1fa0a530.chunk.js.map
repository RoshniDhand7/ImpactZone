{"version":3,"file":"static/js/293.1fa0a530.chunk.js","mappings":"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","sources":["shared/Image/LogoImage.jsx","views/Settings/Business/Customization/CustomizationForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport ProfileImg from '../../assets/icons/camera.png';\r\n// import CameraIcon from '../../assets/icons/Vector.png';\r\nimport { getDefaultImage, getImageURL } from '../../utils/imageUrl';\r\nimport InputLayout from '../Form/InputLayout';\r\n\r\nconst CustomLogoImage = ({\r\n    label,\r\n    name,\r\n    onFilesChange,\r\n    errorMessage,\r\n    extraClassName,\r\n    value,\r\n    data,\r\n    col,\r\n    required,\r\n    imgclass,\r\n    removeable,\r\n    editable,\r\n    uploadboxclass,\r\n    uploadIcon,\r\n    disabled = false,\r\n    ...props\r\n}) => {\r\n    const [files, setFiles] = useState(value || data?.[name] || []);\r\n\r\n    useEffect(() => {\r\n        if (value || data?.[name]) {\r\n            if (JSON.stringify(value || data?.[name]) !== JSON.stringify(files)) {\r\n                setFiles(value || data?.[name]);\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [value || data?.[name]]);\r\n\r\n    useEffect(() => {\r\n        if (onFilesChange) {\r\n            if (files.length) {\r\n                onFilesChange({ name, value: files });\r\n            }\r\n        } else {\r\n            onFilesChange({ name, value: [] });\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [files, name]);\r\n\r\n    const onFileChange = (e) => {\r\n        const chossenFile = e.target.files;\r\n        handlefileChange(Object.values(chossenFile));\r\n        e.target.value = '';\r\n    };\r\n    const handlefileChange = (uploadedfile) => {\r\n        let uploadedFiles = [];\r\n        uploadedfile.forEach((file) => {\r\n            if (files.findIndex((f) => f.name === file.name) === -1) {\r\n                uploadedFiles.push(file);\r\n            }\r\n        });\r\n        setFiles([...uploadedFiles]);\r\n    };\r\n\r\n    const onDelete = (id) => {\r\n        const s = files.filter((item, index) => index !== id);\r\n        setFiles([...s]);\r\n        onFilesChange({ name, value: [] });\r\n    };\r\n    return (\r\n        <InputLayout col={col || 12} label={label} name={name} required={required} extraClassName={extraClassName} data={data} errorMessage={errorMessage}>\r\n            <input type=\"file\" className=\" \" name={name} onChange={onFileChange} id={name} accept=\".jpg, .jpeg, .png,.jfif\" hidden {...props} />\r\n            {files.length ? (\r\n                Object.values(files).map((image, i) => (\r\n                    <div key={i} className=\"photoDiv\">\r\n                        {removeable && <i onClick={() => onDelete(i)} className=\"pi pi-times cursor-pointer\"></i>}\r\n                        <img\r\n                            src={image ? (typeof image === 'string' ? getImageURL(image) : URL.createObjectURL(image)) : ProfileImg}\r\n                            onError={(e) => (e.target.src = getDefaultImage())}\r\n                            alt=\"pic\"\r\n                            className={`profile-img relative btn-border-color ${imgclass}`}\r\n                            accept=\".jpg, .jpeg, .png, .jfif\"\r\n                        />\r\n                    </div>\r\n                ))\r\n            ) : (\r\n                <div\r\n                    className=\"photo-upload flex justify-content-center align-items-center\"\r\n                    style={{\r\n                        height: '95px',\r\n                        width: '90px',\r\n                    }}\r\n                >\r\n                    <label htmlFor={name}>\r\n                        <img\r\n                            className=\"w-full h-full fit-cover\"\r\n                            style={{ width: '50px' }}\r\n                            src={ProfileImg}\r\n                            onError={(e) => (e.target.src = getDefaultImage())}\r\n                            alt=\"\"\r\n                            accept=\".jpg, .jpeg, .png\"\r\n                        />\r\n                    </label>\r\n                </div>\r\n            )}\r\n        </InputLayout>\r\n    );\r\n};\r\n\r\nexport default CustomLogoImage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FormPage from '../../../../shared/Layout/FormPage';\r\nimport CustomCard from '../../../../shared/Cards/CustomCard';\r\nimport CustomLogoImage from '../../../../shared/Image/LogoImage';\r\nimport PrimaryButton, { CustomButtonGroup, LightButton } from '../../../../shared/Button/CustomButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport formValidation from '../../../../utils/validations';\r\nimport { showFormErrors } from '../../../../utils/commonFunctions';\r\nimport { editCompany, getCompanyDetail } from '../../../../redux/actions/Settings/Business/companyActions';\r\n\r\nconst CustomizationForm = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n    const [data, setData] = useState({\r\n        logo: [],\r\n    });\r\n    useEffect(() => {\r\n        dispatch(getCompanyDetail());\r\n    }, [dispatch]);\r\n    let { company } = useSelector((state) => state?.settings?.business);\r\n\r\n    useEffect(() => {\r\n        if (company) {\r\n            setData({\r\n                logo: company?.logo ? [company?.logo] : [],\r\n            });\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = ({ name, value }) => {\r\n        const formErrors = formValidation(name, value, data);\r\n        setData((prev) => ({ ...prev, [name]: value, formErrors }));\r\n    };\r\n    const handleSave = () => {\r\n        if (showFormErrors(data, setData)) {\r\n            dispatch(editCompany(company._id, data, setLoading, history));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormPage backText=\"Customization\">\r\n                <CustomCard col=\"12\" title=\"Customization\">\r\n                    <CustomLogoImage name=\"logo\" data={data} removeable onFilesChange={handleChange} />\r\n                </CustomCard>\r\n                <CustomButtonGroup>\r\n                    <PrimaryButton label=\"Save\" className=\"mx-2\" onClick={handleSave} loading={loading} />\r\n                    <LightButton label=\"Cancel\" onClick={() => history.replace('/settings/business/?tab=customization/')} />\r\n                </CustomButtonGroup>\r\n            </FormPage>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CustomizationForm;\r\n"],"names":["_ref","label","name","onFilesChange","errorMessage","extraClassName","value","data","col","required","imgclass","removeable","editable","uploadboxclass","uploadIcon","disabled","props","_objectWithoutProperties","_excluded","files","setFiles","useState","useEffect","JSON","stringify","length","handlefileChange","uploadedfile","uploadedFiles","forEach","file","findIndex","f","push","_jsxs","InputLayout","children","_jsx","_objectSpread","type","className","onChange","e","chossenFile","target","Object","values","id","accept","hidden","map","image","i","onClick","s","filter","item","index","onDelete","src","getImageURL","URL","createObjectURL","ProfileImg","onError","getDefaultImage","alt","concat","style","height","width","htmlFor","history","dispatch","useDispatch","setData","logo","getCompanyDetail","company","useSelector","state","_state$settings","settings","business","loading","setLoading","_Fragment","FormPage","backText","CustomCard","title","CustomLogoImage","_ref2","formErrors","formValidation","prev","CustomButtonGroup","PrimaryButton","handleSave","showFormErrors","editCompany","_id","LightButton","replace"],"sourceRoot":""}