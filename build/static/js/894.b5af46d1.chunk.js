"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{2894:(e,i,n)=>{n.r(i),n.d(i,{default:()=>y});var s=n(5043),a=n(5050),o=n(3549),l=n(2468),c=n(6038),t=n(7994),m=n(1688),d=n(9456),r=n(7374),u=n(6911),A=n(8085),x=n(9273),p=n(1221),h=n(8701),g=n(1047),v=n(4441),w=n(579);const y=()=>{var e;const i=(0,d.wA)(),{id:n}=(0,m.g)();(0,s.useEffect)((()=>{i((0,x.vR)())}),[i]);const[y,j]=(0,s.useState)({name:"",description:"",discountType:"None",accessRestriction:!1,accessSchedule:null,remotecheckin:!1,transferToAnotherType:null,clubCreditAmount:"",specialRestriction:"",minimumAgeAllowed:0,maximumAgeAllowed:0,maximumDaysAllowed:0,maximumDistanceAllowed:0,club:[],services:[],isActive:!0}),{AccessScheduleDropdown:C}=(0,d.d4)((e=>e.accessSchedule));let{MembershipTypesDropdown:T}=(0,d.d4)((e=>e.membershipTypes));T=null===(e=T)||void 0===e?void 0:e.filter((e=>e.name!==(null===y||void 0===y?void 0:y.name)));const{clubsDropdown:D}=(0,g.A)(),{allDiscountDropdown:b}=(0,v.A)(),R=(0,m.W6)(),{loading:B}=(0,d.d4)((e=>{var i;return null===e||void 0===e||null===(i=e.loader)||void 0===i?void 0:i.isLoading}));(0,s.useEffect)((()=>{n&&i((0,p.nK)(n,(e=>{j({name:e.name,description:e.description,discountType:null===e.discountType?"None":e.discountType,accessRestriction:e.accessRestriction,accessSchedule:e.accessSchedule,remotecheckin:e.remotecheckin,transferToAnotherType:e.transferToAnotherType,clubCreditAmount:e.clubCreditAmount,specialRestriction:e.specialRestriction,minimumAgeAllowed:e.minimumAgeAllowed,maximumAgeAllowed:e.maximumAgeAllowed,maximumDaysAllowed:e.maximumDaysAllowed,maximumDistanceAllowed:e.maximumDistanceAllowed,club:e.club,services:e.services,isActive:!0})})))}),[n,i]);const f=e=>{let{name:i,value:n}=e;const s=(0,c.A)(i,n,y);j((e=>({...e,[i]:n,formErrors:s})))},k=[...r.$n,...b];return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(a.A,{backText:"Membership Types",children:[(0,w.jsxs)(o.Ay,{col:"12",title:"General",children:[(0,w.jsx)(l.o4,{name:"isActive",data:y,onChange:f}),(0,w.jsxs)(o.a,{children:[(0,w.jsx)(l.wi,{name:"name",data:y,onChange:f,required:!0}),(0,w.jsx)(l.wi,{name:"description",data:y,onChange:f}),(0,w.jsx)(l.BR,{name:"discountType",options:k,onChange:f,data:y}),(0,w.jsx)(l.BR,{name:"accessRestriction",options:r.r4,onChange:f,data:y}),(null===y||void 0===y?void 0:y.accessRestriction)&&(0,w.jsx)(l.BR,{name:"accessSchedule",options:C,onChange:f,data:y}),(0,w.jsx)(l.BR,{name:"remotecheckin",options:r.r4,onChange:f,data:y}),(0,w.jsx)(l.BR,{name:"transferToAnotherType",options:T,onChange:f,data:y}),(0,w.jsx)(l.Bt,{prefix:"$",name:"clubCreditAmount",data:y,onChange:f,col:"4"}),(0,w.jsx)(l.BR,{name:"specialRestriction",options:r.So,onChange:f,data:y}),"By Age"===(null===y||void 0===y?void 0:y.specialRestriction)&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.Bt,{name:"minimumAgeAllowed",data:y,onChange:f,col:"4"}),(0,w.jsx)(l.Bt,{name:"maximumAgeAllowed",data:y,onChange:f,col:"4"})]}),"By Location"===(null===y||void 0===y?void 0:y.specialRestriction)&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(l.Bt,{name:"maximumDistanceAllowed",data:y,onChange:f,col:"4"})}),"By Days"===(null===y||void 0===y?void 0:y.specialRestriction)&&(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(l.Bt,{name:"maximumDaysAllowed",data:y,onChange:f,col:"4"})})]})]}),(0,w.jsx)(o.Ay,{col:"12",title:" Clubs",children:(0,w.jsx)(u.A,{name:"club",selected:null===y||void 0===y?void 0:y.club,sourceData:D,onPickListChange:f})}),(0,w.jsx)(h.A,{data:y,setData:j,id:n,loading:B,name:"Add Services"}),(0,w.jsxs)(t.zp,{children:[(0,w.jsx)(t.Ay,{label:"Save",className:"mx-2",onClick:()=>{let e=[];switch(null===y||void 0===y?void 0:y.specialRestriction){case"By Age":e=["maximumDaysAllowed","maximumDistanceAllowed","services"];break;case"By Location":e=["minimumAgeAllowed","maximumAgeAllowed","maximumDaysAllowed","services"];break;case"By Days":e=["maximumAgeAllowed","minimumAgeAllowed","maximumDistanceAllowed","services"];break;default:e=["maximumDaysAllowed","maximumDistanceAllowed","minimumAgeAllowed","maximumAgeAllowed","services"]}(0,A.nV)(y,j,e)&&i(n?(0,p.TV)(n,{...y,services:(0,A.rO)(y.services),discountType:"None"===y.discountType?null:y.discountType},R):(0,p.E1)({...y,services:(0,A.rO)(y.services),discountType:"None"===y.discountType?null:y.discountType},(()=>R.goBack())))},loading:B}),(0,w.jsx)(t.Ti,{label:"Cancel",onClick:()=>R.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.b5af46d1.chunk.js.map