{"version":3,"file":"static/js/975.874d8abd.chunk.js","mappings":"2QAOA,MAAMA,EAAkBA,CAACC,EAAIC,IAAeC,UACpCD,GACAA,GAAW,GAEf,MAAME,EAAS,CAAEC,SAAUJ,GACrBK,QAAYC,EAAAA,EAAAA,GAAI,MAAOC,EAAAA,EAAUC,6BAA8B,CAAC,EAAGL,GACrEE,EAAII,SACAJ,EAAIK,MACJC,EAAS,CACLC,KAAMC,EAAAA,EAAMC,oCACZC,QAASV,EAAIK,OAIrBT,GACAA,GAAW,EACf,EAEEe,EACF,SAACN,EAAMT,EAAYgB,GAAO,IAAEC,EAAGC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAE,OACpCjB,UACID,GAAW,GACX,MAAMc,EAAU,IACTL,EACHY,aAAcC,IAAOb,EAAKY,cAAcE,OAAO,cAC/CC,eAAgBF,IAAOb,EAAKe,gBAAgBD,OAAO,eAGjDnB,QAAYC,EAAAA,EAAAA,GAAI,OAAQC,EAAAA,EAAUC,6BAA8BO,GAClEV,EAAII,UACAS,EACAD,EAAQS,QAAQ,2CAADC,OAA4CtB,EAAIK,KAAKkB,IAAG,KAAAD,OAAIT,IAE3ED,EAAQY,SAEZlB,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,UAAWC,QAAS3B,EAAI4B,YAE3DhC,GAAW,EAAM,CACnB,EACAiC,EAAiBA,CAAClC,EAAImC,IAAejC,UACvCS,GAASyB,EAAAA,EAAAA,MACT,MAAM/B,QAAYC,EAAAA,EAAAA,GAAI,MAAOC,EAAAA,EAAUC,6BAA+BR,GAClEK,EAAII,SACAJ,EAAIK,MACAyB,GACAA,EAAW9B,EAAIK,MAI3BC,GAAS0B,EAAAA,EAAAA,KAAmB,EAE1BC,EACF,SAACtC,EAAIU,EAAMT,EAAYgB,GAAO,IAAEC,EAAGC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAE,OACxCjB,UACID,GAAW,GACX,MAAMc,EAAU,IACTL,EACHY,aAAcC,IAAOb,EAAKY,cAAcE,OAAO,cAC/CC,eAAgBF,IAAOb,EAAKe,gBAAgBD,OAAO,eAEjDnB,QAAYC,EAAAA,EAAAA,GAAI,MAAOC,EAAAA,EAAUC,6BAA+BR,EAAIe,GACtEV,EAAII,UACAS,EACAD,EAAQS,QAAQ,2CAADC,OAA4CtB,EAAIK,KAAKkB,IAAG,KAAAD,OAAIT,IAE3ED,EAAQY,SAEZlB,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,UAAWC,QAAS3B,EAAI4B,YAE3DhC,GAAW,EAAM,CACnB,EACAsC,EAAqBA,CAACvC,EAAIwC,IAAStC,UACrC,MAAMG,QAAYC,EAAAA,EAAAA,GAAI,SAAUC,EAAAA,EAAUC,6BAA+BR,GACrEK,EAAII,SACJE,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,UAAWC,QAAS3B,EAAI4B,WACvDO,KAEA7B,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,QAASC,QAAS3B,EAAI4B,UACzD,EAGEQ,EAAmBA,CAACrC,EAAUH,EAAYkC,IAAejC,UACvDD,GACAA,GAAW,GAEf,MAAMI,QAAYC,EAAAA,EAAAA,GAAI,MAAOC,EAAAA,EAAUmC,MAAO,GAAI,CAAEtC,aAChDC,EAAII,SACAJ,EAAIK,MACAyB,GACAA,EAAW9B,EAAIK,MAIvBT,GACAA,GAAW,EACf,EAGE0C,EAAmBA,CAACjC,EAAMT,EAAYuC,IAAStC,UACjDD,GAAW,GAEX,MAAMI,QAAYC,EAAAA,EAAAA,GAAI,OAAQC,EAAAA,EAAUmC,MAAOhC,GAC3CL,EAAII,SACJE,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,UAAWC,QAAS3B,EAAI4B,WAEvDO,KAEA7B,GAASmB,EAAAA,EAAAA,GAAU,CAAEC,SAAU,QAASC,QAAS3B,EAAI4B,WAEzDhC,GAAW,EAAM,C,4IC3GrB,MAmEA,EAnE0B2C,KACtB,MAAM,GAAE5C,EAAE,WAAE6C,IAAeC,EAAAA,EAAAA,KACrBnC,GAAWoC,EAAAA,EAAAA,MACX9B,GAAU+B,EAAAA,EAAAA,OACTtC,EAAMuC,IAAWC,EAAAA,EAAAA,UAAS,CAC7BC,KAAM,GACNC,oBAAqB,GACrBC,OAAQ,GACR/B,aAAc,GACdG,eAAgB,GAChB6B,kBAAmB,GACnBlD,SAAU,MAEdmD,EAAAA,EAAAA,YAAU,KACFvD,EACAW,GACIuB,EAAAA,EAAAA,IAAelC,GAAKU,IAChBuC,EAAQ,CACJE,KAAMzC,EAAKyC,KACXC,oBAAqB1C,EAAK0C,oBAC1BC,OAAQ3C,EAAK2C,OACb/B,aAAcZ,EAAKY,aAAe,IAAIkC,KAAS,GAC/C/B,eAAgBf,EAAKe,eAAiB,IAAI+B,KAAS,GACnDF,kBAAmB5C,EAAK4C,kBAAoB,CAAC5C,EAAK4C,mBAAqB,GACvEG,YAAa/C,EAAK+C,YAClBrD,SAAUyC,GACZ,KAIVI,EAAQ,IAAKvC,EAAMN,SAAUyC,GACjC,GACD,CAAC7C,EAAIW,IAER,MAAO+C,EAASzD,IAAciD,EAAAA,EAAAA,WAAS,GACjCS,EAAeC,IAAsB,IAArB,KAAET,EAAI,MAAEU,GAAOD,EACjCX,GAASa,IAAI,IAAWA,EAAM,CAACX,GAAOU,KAAS,EASnD,OACIE,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACIC,EAAAA,EAAAA,MAACC,EAAAA,EAAQ,CAACC,SAAS,iBAAgBH,SAAA,EAC/BF,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACC,IAAI,KAAKC,MAAM,WAAUN,UACjCC,EAAAA,EAAAA,MAACM,EAAAA,EAAgB,CAAAP,SAAA,EACbF,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACtB,KAAK,OAAOzC,KAAMA,EAAMgE,SAAUf,KAC/CI,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACtB,KAAK,sBAAsBzC,KAAMA,EAAMgE,SAAUf,KAC9DI,EAAAA,EAAAA,KAACU,EAAAA,GAAW,CAACtB,KAAK,SAASzC,KAAMA,EAAMgE,SAAUf,KACjDI,EAAAA,EAAAA,KAACY,EAAAA,GAAmB,CAACxB,KAAK,eAAezC,KAAMA,EAAMgE,SAAUf,KAC/DI,EAAAA,EAAAA,KAACY,EAAAA,GAAmB,CAACxB,KAAK,iBAAiBzC,KAAMA,EAAMgE,SAAUf,KACjEI,EAAAA,EAAAA,KAACa,EAAAA,GAAc,CAACzB,KAAK,cAAczC,KAAMA,EAAMgE,SAAUf,UAGjEO,EAAAA,EAAAA,MAACW,EAAAA,GAAiB,CAAAZ,SAAA,EACdF,EAAAA,EAAAA,KAACe,EAAAA,GAAa,CAACC,MAAM,OAAOC,UAAU,OAAOtB,QAASA,EAASuB,QArB5DC,KAEXvE,EADAX,GACSsC,EAAAA,EAAAA,IAAiBtC,EAAIU,EAAMT,EAAYgB,IAEvCD,EAAAA,EAAAA,IAAgBN,EAAMT,EAAYgB,GAC/C,KAiBY8C,EAAAA,EAAAA,KAACoB,EAAAA,GAAW,CAACJ,MAAM,SAASE,QAASA,IAAMhE,EAAQS,QAAQ,+BAGpE,C","sources":["redux/actions/EmployeeSettings/certificationAction.js","views/Settings/Employees/ManageEmployee/AddEmployee/Certifications/CertificationForm.jsx"],"sourcesContent":["import moment from 'moment/moment';\r\nimport api from '../../../services/api';\r\nimport EndPoints from '../../../services/endPoints';\r\nimport { types } from '../../types/types';\r\nimport { hideLoaderAction, showLoaderAction } from '../loaderAction';\r\nimport { showToast } from '../toastAction';\r\n\r\nconst getCertificates = (id, setLoading) => async (dispatch) => {\r\n    if (setLoading) {\r\n        setLoading(true);\r\n    }\r\n    const params = { employee: id };\r\n    const res = await api('get', EndPoints.MANAGE_EMPLOYEE_CERTIFICATES, {}, params);\r\n    if (res.success) {\r\n        if (res.data) {\r\n            dispatch({\r\n                type: types.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,\r\n                payload: res.data,\r\n            });\r\n        }\r\n    }\r\n    if (setLoading) {\r\n        setLoading(false);\r\n    }\r\n};\r\nconst addCertificates =\r\n    (data, setLoading, history, tab = '') =>\r\n    async (dispatch) => {\r\n        setLoading(true);\r\n        const payload = {\r\n            ...data,\r\n            acquiredDate: moment(data.acquiredDate).format('MM/DD/YYYY'),\r\n            expirationDate: moment(data.expirationDate).format('MM/DD/YYYY'),\r\n        };\r\n\r\n        const res = await api('post', EndPoints.MANAGE_EMPLOYEE_CERTIFICATES, payload);\r\n        if (res.success) {\r\n            if (tab) {\r\n                history.replace(`/settings/employee/manage-employee/edit/${res.data._id}/${tab}`);\r\n            } else {\r\n                history.goBack();\r\n            }\r\n            dispatch(showToast({ severity: 'success', summary: res.message }));\r\n        }\r\n        setLoading(false);\r\n    };\r\nconst getCertificate = (id, returnData) => async (dispatch) => {\r\n    dispatch(showLoaderAction());\r\n    const res = await api('get', EndPoints.MANAGE_EMPLOYEE_CERTIFICATES + id);\r\n    if (res.success) {\r\n        if (res.data) {\r\n            if (returnData) {\r\n                returnData(res.data);\r\n            }\r\n        }\r\n    }\r\n    dispatch(hideLoaderAction());\r\n};\r\nconst editCertificates =\r\n    (id, data, setLoading, history, tab = '') =>\r\n    async (dispatch) => {\r\n        setLoading(true);\r\n        const payload = {\r\n            ...data,\r\n            acquiredDate: moment(data.acquiredDate).format('MM/DD/YYYY'),\r\n            expirationDate: moment(data.expirationDate).format('MM/DD/YYYY'),\r\n        };\r\n        const res = await api('put', EndPoints.MANAGE_EMPLOYEE_CERTIFICATES + id, payload);\r\n        if (res.success) {\r\n            if (tab) {\r\n                history.replace(`/settings/employee/manage-employee/edit/${res.data._id}/${tab}`);\r\n            } else {\r\n                history.goBack();\r\n            }\r\n            dispatch(showToast({ severity: 'success', summary: res.message }));\r\n        }\r\n        setLoading(false);\r\n    };\r\nconst deleteCertificates = (id, next) => async (dispatch) => {\r\n    const res = await api('delete', EndPoints.MANAGE_EMPLOYEE_CERTIFICATES + id);\r\n    if (res.success) {\r\n        dispatch(showToast({ severity: 'success', summary: res.message }));\r\n        next();\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n};\r\n\r\nconst getEmployeeNotes = (employee, setLoading, returnData) => async (dispatch) => {\r\n    if (setLoading) {\r\n        setLoading(true);\r\n    }\r\n    const res = await api('get', EndPoints.NOTES, '', { employee });\r\n    if (res.success) {\r\n        if (res.data) {\r\n            if (returnData) {\r\n                returnData(res.data);\r\n            }\r\n        }\r\n    }\r\n    if (setLoading) {\r\n        setLoading(false);\r\n    }\r\n};\r\n\r\nconst addEmployeeNotes = (data, setLoading, next) => async (dispatch) => {\r\n    setLoading(true);\r\n\r\n    const res = await api('post', EndPoints.NOTES, data);\r\n    if (res.success) {\r\n        dispatch(showToast({ severity: 'success', summary: res.message }));\r\n\r\n        next();\r\n    } else {\r\n        dispatch(showToast({ severity: 'error', summary: res.message }));\r\n    }\r\n    setLoading(false);\r\n};\r\nexport { getCertificates, addCertificates, editCertificates, deleteCertificates, getCertificate, getEmployeeNotes, addEmployeeNotes };\r\n","import React, { useEffect, useState } from 'react';\r\nimport FormPage from '../../../../../../shared/Layout/FormPage';\r\nimport CustomCard, { CustomGridLayout } from '../../../../../../shared/Cards/CustomCard';\r\nimport { CustomCalenderInput, CustomInput, CustomTextArea } from '../../../../../../shared/Input/AllInputs';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport PrimaryButton, { CustomButtonGroup, LightButton } from '../../../../../../shared/Button/CustomButton';\r\nimport { addCertificates, editCertificates, getCertificate } from '../../../../../../redux/actions/EmployeeSettings/certificationAction';\r\n\r\nconst CertificationForm = () => {\r\n    const { id, employeeId } = useParams();\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [data, setData] = useState({\r\n        name: '',\r\n        certificationNumber: '',\r\n        issuer: '',\r\n        acquiredDate: '',\r\n        expirationDate: '',\r\n        uploadCertificate: '',\r\n        employee: '',\r\n    });\r\n    useEffect(() => {\r\n        if (id) {\r\n            dispatch(\r\n                getCertificate(id, (data) => {\r\n                    setData({\r\n                        name: data.name,\r\n                        certificationNumber: data.certificationNumber,\r\n                        issuer: data.issuer,\r\n                        acquiredDate: data.acquiredDate ? new Date() : '',\r\n                        expirationDate: data.expirationDate ? new Date() : '',\r\n                        uploadCertificate: data.uploadCertificate ? [data.uploadCertificate] : [],\r\n                        description: data.description,\r\n                        employee: employeeId,\r\n                    });\r\n                }),\r\n            );\r\n        } else {\r\n            setData({ ...data, employee: employeeId });\r\n        }\r\n    }, [id, dispatch]);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const handleChange = ({ name, value }) => {\r\n        setData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n    const handleSave = () => {\r\n        if (id) {\r\n            dispatch(editCertificates(id, data, setLoading, history));\r\n        } else {\r\n            dispatch(addCertificates(data, setLoading, history));\r\n        }\r\n    };\r\n    return (\r\n        <>\r\n            <FormPage backText=\"Certifications\">\r\n                <CustomCard col=\"12\" title=\"Personal\">\r\n                    <CustomGridLayout>\r\n                        <CustomInput name=\"name\" data={data} onChange={handleChange} />\r\n                        <CustomInput name=\"certificationNumber\" data={data} onChange={handleChange} />\r\n                        <CustomInput name=\"issuer\" data={data} onChange={handleChange} />\r\n                        <CustomCalenderInput name=\"acquiredDate\" data={data} onChange={handleChange} />\r\n                        <CustomCalenderInput name=\"expirationDate\" data={data} onChange={handleChange} />\r\n                        <CustomTextArea name=\"description\" data={data} onChange={handleChange} />\r\n                    </CustomGridLayout>\r\n                </CustomCard>\r\n                <CustomButtonGroup>\r\n                    <PrimaryButton label=\"Save\" className=\"mx-2\" loading={loading} onClick={handleSave} />\r\n                    <LightButton label=\"Cancel\" onClick={() => history.replace('/settings/employee')} />\r\n                </CustomButtonGroup>\r\n            </FormPage>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CertificationForm;\r\n"],"names":["getCertificates","id","setLoading","async","params","employee","res","api","EndPoints","MANAGE_EMPLOYEE_CERTIFICATES","success","data","dispatch","type","types","CHANGE_MANAGE_EMPLOYEE_CERTIFICATES","payload","addCertificates","history","tab","arguments","length","undefined","acquiredDate","moment","format","expirationDate","replace","concat","_id","goBack","showToast","severity","summary","message","getCertificate","returnData","showLoaderAction","hideLoaderAction","editCertificates","deleteCertificates","next","getEmployeeNotes","NOTES","addEmployeeNotes","CertificationForm","employeeId","useParams","useDispatch","useHistory","setData","useState","name","certificationNumber","issuer","uploadCertificate","useEffect","Date","description","loading","handleChange","_ref","value","prev","_jsx","_Fragment","children","_jsxs","FormPage","backText","CustomCard","col","title","CustomGridLayout","CustomInput","onChange","CustomCalenderInput","CustomTextArea","CustomButtonGroup","PrimaryButton","label","className","onClick","handleSave","LightButton"],"sourceRoot":""}