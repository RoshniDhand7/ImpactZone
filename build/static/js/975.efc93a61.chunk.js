"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[975],{7931:(e,a,t)=>{t.d(a,{Xs:()=>m,bV:()=>y,br:()=>p,gc:()=>u,kx:()=>A,m6:()=>d,mp:()=>E});var s=t(6178),c=t.n(s),i=t(7128),n=t(5659),r=t(346),o=t(7504),l=t(2392);const m=(e,a)=>async t=>{a&&a(!0);const s={employee:e},c=await(0,i.A)("get",n.A.MANAGE_EMPLOYEE_CERTIFICATES,{},s);c.success&&c.data&&t({type:r.g.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:c.data}),a&&a(!1)},d=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{a(!0);const o={...e,acquiredDate:c()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:c()(e.expirationDate).format("MM/DD/YYYY")},m=await(0,i.A)("post",n.A.MANAGE_EMPLOYEE_CERTIFICATES,o);m.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(s)):t.goBack(),r((0,l.P)({severity:"success",summary:m.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,o.r)());const s=await(0,i.A)("get",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,o.i)())},p=function(e,a,t,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async o=>{t(!0);const m={...a,acquiredDate:c()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:c()(a.expirationDate).format("MM/DD/YYYY")},d=await(0,i.A)("put",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e,m);d.success&&(r?s.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(r)):s.goBack(),o((0,l.P)({severity:"success",summary:d.message}))),t(!1)}},E=(e,a)=>async t=>{const s=await(0,i.A)("delete",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success?(t((0,l.P)({severity:"success",summary:s.message})),a()):t((0,l.P)({severity:"error",summary:s.message}))},A=(e,a,t)=>async s=>{a&&a(!0);const c=await(0,i.A)("get",n.A.NOTES,"",{employee:e});c.success&&c.data&&t&&t(c.data),a&&a(!1)},y=(e,a,t)=>async s=>{a(!0);const c=await(0,i.A)("post",n.A.NOTES,e);c.success?(s((0,l.P)({severity:"success",summary:c.message})),t()):s((0,l.P)({severity:"error",summary:c.message})),a(!1)}},5050:(e,a,t)=>{t.d(a,{A:()=>n});t(5043);var s=t(1688),c=t(6781),i=t(579);function n(e){let{children:a,backText:t,backTo:n}=e;const r=(0,s.W6)(),o=()=>{n?r.replace(n):r.goBack()};return(0,i.jsxs)(c.A,{children:[t?(0,i.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,i.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:o}),(0,i.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:o,children:["Back to ",t]})]}):null,(0,i.jsx)(i.Fragment,{children:a})]})}},8975:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var s=t(5043),c=t(5050),i=t(3549),n=t(8735),r=t(9456),o=t(1688),l=t(7994),m=t(7931),d=t(579);const u=()=>{const{id:e,employeeId:a}=(0,o.g)(),t=(0,r.wA)(),u=(0,o.W6)(),[p,E]=(0,s.useState)({name:"",certificationNumber:"",issuer:"",acquiredDate:"",expirationDate:"",uploadCertificate:"",employee:""});(0,s.useEffect)((()=>{e?t((0,m.gc)(e,(e=>{E({name:e.name,certificationNumber:e.certificationNumber,issuer:e.issuer,acquiredDate:e.acquiredDate?new Date:"",expirationDate:e.expirationDate?new Date:"",uploadCertificate:e.uploadCertificate?[e.uploadCertificate]:[],description:e.description,employee:a})}))):E({...p,employee:a})}),[e,t]);const[A,y]=(0,s.useState)(!1),g=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(c.A,{backText:"Certifications",children:[(0,d.jsx)(i.Ay,{col:"12",title:"Personal",children:(0,d.jsxs)(i.a,{children:[(0,d.jsx)(n.wi,{name:"name",data:p,onChange:g}),(0,d.jsx)(n.wi,{name:"certificationNumber",data:p,onChange:g}),(0,d.jsx)(n.wi,{name:"issuer",data:p,onChange:g}),(0,d.jsx)(n.wN,{name:"acquiredDate",data:p,onChange:g}),(0,d.jsx)(n.wN,{name:"expirationDate",data:p,onChange:g}),(0,d.jsx)(n.Ky,{name:"description",data:p,onChange:g})]})}),(0,d.jsxs)(l.zp,{children:[(0,d.jsx)(l.Ay,{label:"Save",className:"mx-2",loading:A,onClick:()=>{t(e?(0,m.br)(e,p,y,u):(0,m.m6)(p,y,u))}}),(0,d.jsx)(l.Ti,{label:"Cancel",onClick:()=>u.replace("/settings/employee")})]})]})})}}}]);
//# sourceMappingURL=975.efc93a61.chunk.js.map