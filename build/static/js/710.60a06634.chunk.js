"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[710],{3585:(e,a,t)=>{t.d(a,{GJ:()=>d,Jb:()=>m,Uf:()=>C,lU:()=>v,mv:()=>u,tG:()=>y,xJ:()=>p});var n=t(2426),s=t.n(n),o=t(1526),i=t(988),l=t(1529),r=t(3048),c=t(4499);t(1520);const d=(e,a)=>async t=>{a&&a(!0);const n={employee:e},s=await(0,o.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},n);s.success&&s.data&&t({type:l.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:s.data}),a&&a(!1)},m=function(e,a,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async l=>{a(!0);const r={...e,acquiredDate:s()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(e.expirationDate).format("MM/DD/YYYY")},d=await(0,o.Z)("post",i.Z.MANAGE_EMPLOYEE_CERTIFICATES,r);d.success&&(n?t.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(n)):t.goBack(),l((0,c.C)({severity:"success",summary:d.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,r.f)());const n=await(0,o.Z)("get",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);n.success&&n.data&&a&&a(n.data),t((0,r.t)())},y=function(e,a,t,n){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async r=>{t(!0);const d={...a,acquiredDate:s()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(a.expirationDate).format("MM/DD/YYYY")},m=await(0,o.Z)("put",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,d);m.success&&(l?n.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(l)):n.goBack(),r((0,c.C)({severity:"success",summary:m.message}))),t(!1)}},p=e=>async a=>{const t=await(0,o.Z)("delete",i.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(a(d((()=>{}))),a((0,c.C)({severity:"success",summary:t.message}))):a((0,c.C)({severity:"error",summary:t.message}))},C=(e,a,t)=>async n=>{a&&a(!0);const s=await(0,o.Z)("get",i.Z.NOTES,"",{employee:e});s.success&&s.data&&t&&t(s.data),a&&a(!1)},v=(e,a,t)=>async n=>{a(!0);const s=await(0,o.Z)("post",i.Z.NOTES,e);s.success?(n((0,c.C)({severity:"success",summary:s.message})),t()):n((0,c.C)({severity:"error",summary:s.message})),a(!1)}},6886:(e,a,t)=>{t.d(a,{Z:()=>i});t(2791);var n=t(4880),s=t(4822),o=t(184);function i(e){let{children:a,backText:t,backTo:i}=e;const l=(0,n.k6)(),r=()=>{i?l.replace(i):l.goBack()};return(0,o.jsxs)(s.Z,{children:[t?(0,o.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,o.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:r}),(0,o.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:r,children:["Back to ",t]})]}):null,(0,o.jsx)(o.Fragment,{children:a})]})}},7929:(e,a,t)=>{t.d(a,{IP:()=>v,Jj:()=>m,Ni:()=>u,SW:()=>l,WD:()=>o,WJ:()=>C,am:()=>h,es:()=>r,g9:()=>c,gv:()=>p,iq:()=>i,lp:()=>d,mt:()=>y,vA:()=>s,yM:()=>n,zC:()=>g});const n=[{name:"Yes",value:"true"},{name:"No",value:"false"}],s=[{name:"$",value:"FIXED"},{name:"%",value:"PERCENTAGE"}],o=[{name:"Single Client",value:"SINGLE_CLIENT"},{name:"Service Value",value:"SERVICE_VALUE"}],i=["Products","Services","Agreement"].map((e=>({name:e,value:e}))),l=["Days","Weeks","Months","Years"].map((e=>({name:e,value:e.toUpperCase()}))),r=["Private Sessions","Yoga Sessions","Reformer","Etc"].map((e=>({name:e,value:e}))),c=[{name:"No Limit",value:"No Limit"}];for(let x=1;x<=50;x++){const e={name:"".concat(x),value:"".concat(x)};c.push(e)}const d=[{name:"Week (7 days)",value:"Week (7 Days)"},{name:"Month (30 days)",value:"Month (30 days)"},{name:"Year (365 days)",value:"Year (365 days)"},{name:"Calendar Week (sunday)",value:"Calendar Week (sunday)"},{name:"Calendar Week (monday)",value:"Calendar Week (monday)"},{name:"Calendar Month",value:"Calendar Month"},{name:"Calendar Year",value:"Calendar Year"}],m=[{name:"Club",value:"Club"},{name:"Company",value:"Company"}],u=[];for(let x=1;x<=30;x++){const e={name:"".concat(x," days"),value:"".concat(x," days")};u.push(e)}const y=[];for(let x=12;x<=72;x+=12){const e={name:"".concat(x," hours"),value:"".concat(x," hours")};y.push(e)}const p=["Agreement Hold","Cancel Pending POS Transaction","Cancel Agreement","Cancel Price","Commission Override","Drawer Adjustment","Event Status","Freeze Agreement","No Sale","Void","Waive Tax"].map((e=>({name:e,value:e}))),C=[{name:"Incremental Pay",value:"INCREMENTAL_PAY"},{name:"Pay Per Class",value:"PAY_PER_CLASS"},{name:"Pay Per Client",value:"PAY_PER_CLIENT"},{name:"% Rate",value:"PERCENTAGE_RATE"}],v=[{name:"Suggested",value:"SUGGESTED"},{name:"High",value:"HIGH"},{name:"Medium",value:"MEDIUM"},{name:"Low",value:"LOW"}],g=[{name:"Per Event",value:"PER-EVENT"},{name:"Person",value:"PERSON"}],h=[{name:"Per Sale",value:"PER_SALE"},{name:"Per Item",value:"PER_ITEM"}]},5710:(e,a,t)=>{t.r(a),t.d(a,{default:()=>se});var n=t(2791),s=t(6886),o=t(9809),i=t(3e3),l=t(7480),r=t(2711),c=t(7929),d=t(3638),m=t(184);const u=e=>{let{selected:a=[],name:t,sourceData:s=[],onPickListChange:o,breakpoint:i="1280px",sourceHeader:l="Available",targetHeader:r="Selected",sourceStyle:c={height:"24rem"},targetStyle:u={height:"24rem"},showSourceControls:y=!1,showTargetControls:p=!1}=e;(0,n.useEffect)((()=>{if(s.length&&a){let e=s.filter((e=>a.includes(e.value))),t=s.filter((e=>!a.includes(e.value)));v(t),h(e)}}),[s,null===a||void 0===a?void 0:a.length]);const[C,v]=(0,n.useState)([]),[g,h]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(o){let e=g.map((e=>e.value));o({name:t,value:e})}}),[null===g||void 0===g?void 0:g.length,t]),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)(d.G,{source:C,target:g,onChange:e=>{let{target:a,source:t}=e;v(t),h(a)},itemTemplate:e=>(0,m.jsx)("div",{className:"flex flex-wrap p-2 align-items-center gap-3",children:(0,m.jsx)("h6",{children:e.name})}),breakpoint:i,sourceHeader:l,targetHeader:r,sourceStyle:c,targetStyle:u,showSourceControls:y,showTargetControls:p})})};var y=t(9387),p=t(1520),C=t(9434),v=t(4880),g=t(4418),h=t(2433),x=t(7099);const E=()=>{var e;const a=(0,C.I0)(),{id:t}=(0,v.UO)(),s=(0,v.k6)(),[o,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a((0,h.ip)()),a((0,x.Oh)())}),[a]);let{allSecurityRoles:E}=(0,C.v9)((e=>null===e||void 0===e?void 0:e.securityRole));E=null===(e=E)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,n.useEffect)((()=>{t&&a((0,g.Jf)(t,(e=>{P({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn.toString(),securityRoles:e.securityRoles})})))}),[t,a]);const{allJobTitle:T}=(0,C.v9)((e=>e.jobTitle)),[j,P]=(0,n.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:"",dob:"",socialSecurity:"",barCode:"",accessCode:"",email:"",multiClubClockIn:"",securityRoles:[]}),S=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,j);P((e=>({...e,[a]:t,formErrors:n})))},f=e=>{(0,p.Ao)(j,P,["jobTitle"])&&a(t?(0,g.to)(t,j,d,s,e):(0,g.tx)(j,d,s,e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.ZP,{col:"12",title:"Personal",children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.t7,{name:"firstName",required:!0,col:3,data:j,onChange:S}),(0,m.jsx)(r.t7,{name:"middleInitial",col:1,data:j,onChange:S}),(0,m.jsx)(r.t7,{name:"lastName",required:!0,data:j,onChange:S}),(0,m.jsx)(r.T3,{name:"jobTitle",data:j,onChange:S,options:null===T||void 0===T?void 0:T.map(((e,a)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,m.jsx)(r.FB,{name:"dob",data:j,onChange:S}),(0,m.jsx)(r.t7,{name:"socialSecurity",data:j,onChange:S})]})}),(0,m.jsx)(i.ZP,{col:"12",title:"System",children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.t7,{name:"barCode",required:!0,data:j,onChange:S}),(0,m.jsx)(r.t7,{name:"accessCode",required:!0,data:j,onChange:S}),(0,m.jsx)(r.t7,{name:"email",required:!0,data:j,onChange:S}),(0,m.jsx)(r.T3,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:c.yM,data:j,onChange:S})]})}),(0,m.jsx)(i.ZP,{col:"12",title:"Select Roles",children:(0,m.jsx)("div",{col:12,children:(0,m.jsx)(u,{name:"securityRoles",selected:null===j||void 0===j?void 0:j.securityRoles,sourceData:E,onPickListChange:S})})}),(0,m.jsxs)(l.GG,{children:[(0,m.jsx)(l.ZP,{label:"Save",className:"mx-2",onClick:()=>f(""),loading:o}),(0,m.jsx)(l.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>f("?tab=general"),loading:o}),(0,m.jsx)(l.ah,{label:"Cancel",onClick:()=>s.replace("/settings/employee")})]})]})};var T=t(7162),j=t(7083),P=t(3954),S=t(4053);const f={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},b=e=>{let{name:a,value:t,data:s,onDropChange:o,multiple:i=!0}=e;const[l,r]=(0,n.useState)(t||(null===s||void 0===s?void 0:s[a])||[]);(0,n.useEffect)((()=>{(t||null!==s&&void 0!==s&&s[a])&&JSON.stringify(t||(null===s||void 0===s?void 0:s[a]))!==JSON.stringify(l)&&r(t||(null===s||void 0===s?void 0:s[a]))}),[t||(null===s||void 0===s?void 0:s[a])]),(0,n.useEffect)((()=>{o&&o({name:a,value:l})}),[l,a]);const c=(0,n.useCallback)(((e,a)=>{a.length>0?console.log("Rejected Files:",a):e.forEach((e=>{l.some((a=>a.name===e.name))?console.log('File "'.concat(e.name,'" is already selected.')):r((a=>[...a,e]))}))}),[l]),{getRootProps:d,getInputProps:u,isDragActive:y,isDragAccept:p,isDragReject:C}=(0,P.uI)({onDrop:c,multiple:i,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),v=(0,n.useMemo)((()=>({...p?{borderColor:"#00e676"}:{},...C?{borderColor:"#ff1744"}:{}})),[p,C]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{...d({style:v}),style:f,children:[(0,m.jsx)("input",{...u()}),y?C?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T.q,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T.q,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T.q,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,m.jsx)("div",{className:"flex flex-wrap my-2",children:(null===l||void 0===l?void 0:l.length)>0&&(null===l||void 0===l?void 0:l.map(((e,a)=>(0,m.jsx)(T.q,{className:"p-overlay-badge my-2 mr-3",image:(0,S.Q)(e),size:"xlarge",children:(0,m.jsx)(j.C,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{r((a=>a.filter(((a,t)=>t!==e))))})(a)})}))))})]})},N=()=>{const e=(0,C.I0)(),a=(0,v.k6)(),{id:t}=(0,v.UO)(),[s,o]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[h,x]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,p.v9)();const e=(0,p.ec)("US");o(e)}),[e]),(0,n.useEffect)((()=>{t&&e((0,g.Jf)(t,(e=>{var a;T({hireDate:new Date(e.hireDate),terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:null===(a=e.emailNotification)||void 0===a?void 0:a.toString(),onlineNickName:e.onlineNickName,bio:e.bio,image:e.image?[e.image]:[]});const t=(0,p.gb)("US",e.state);u(t)})))}),[t,e]);const[E,T]=(0,n.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",image:[]}),j=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,E);if("state"===a){const e=(0,p.gb)("US",t);u(e),T((e=>({...e,[a]:t,city:"",formErrors:n})))}else T((e=>({...e,[a]:t,formErrors:n})))},P=n=>{(0,p.Ao)(E,T)&&t&&e((0,g.to)(t,E,x,a,n))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.ZP,{col:"12",title:"Employement",children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.FB,{id:"hireDate",name:"hireDate",onChange:j,data:E}),(0,m.jsx)(r.t7,{name:"adpId",onChange:j,data:E})]})}),(0,m.jsx)(i.ZP,{col:"12",title:"Contact",children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.XX,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:j,data:E}),(0,m.jsx)(r.XX,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:j,data:E}),(0,m.jsx)(r.XX,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:j,data:E}),(0,m.jsx)(r.XX,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:j,data:E}),(0,m.jsx)(r.XX,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:j,data:E}),(0,m.jsx)(r.t7,{name:"street",onChange:j,data:E}),(0,m.jsx)(r.T3,{name:"state",options:s,onChange:j,data:E}),(0,m.jsx)(r.T3,{name:"city",options:d,onChange:j,data:E}),(0,m.jsx)(r.t7,{name:"zipCode",onChange:j,data:E}),(0,m.jsx)(r.T3,{name:"emailNotification",options:c.yM,onChange:j,data:E})]})}),(0,m.jsxs)(i.ZP,{col:"12",title:"Online",children:[(0,m.jsx)(r.t7,{name:"onlineNickName",onChange:j,data:E}),(0,m.jsx)(r.Ks,{name:"bio",onChange:j,data:E})]}),(0,m.jsx)(i.ZP,{col:"12",title:"Photo",children:(0,m.jsx)(b,{name:"image",onDropChange:j,data:E,multiple:!1})}),(0,m.jsxs)(l.GG,{children:[(0,m.jsx)(l.ZP,{label:"Save",className:"mx-2",onClick:()=>P(""),loading:h}),(0,m.jsx)(l.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>P("?tab=departments"),loading:h}),(0,m.jsx)(l.ah,{label:"Cancel",onClick:()=>a.replace("/settings/employee")})]})]})};var A=t(2666);const I=()=>{const e=(0,C.I0)(),{id:a}=(0,v.UO)(),t=(0,v.k6)();(0,n.useEffect)((()=>{e((0,A.Rf)())}),[e]);let{clubsDropdown:s}=(0,C.v9)((e=>e.clubs));const[o,r]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a&&e((0,g.Jf)(a,(e=>{d({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[a,e]);const[c,d]=(0,n.useState)({reportDataAccess:[],clubs:[]}),y=e=>{let{name:a,value:t}=e;d((e=>({...e,[a]:t})))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.ZP,{col:"12",title:"Report Data Access",children:(0,m.jsx)(u,{name:"reportDataAccess",selected:null===c||void 0===c?void 0:c.reportDataAccess,sourceData:s,onPickListChange:y})}),(0,m.jsx)(i.ZP,{col:"12",title:"Clubs",children:(0,m.jsx)(u,{name:"clubs",selected:null===c||void 0===c?void 0:c.clubs,sourceData:s,onPickListChange:y})}),(0,m.jsxs)(l.GG,{children:[(0,m.jsx)(l.ZP,{label:"Save",className:"mx-2",loading:o,onClick:()=>{a&&e((0,g.to)(a,c,r,t))}}),(0,m.jsx)(l.ah,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var w=t(97);const _=e=>{let{name:a,data:t,value:n,onTextChange:s,height:o="320px"}=e;return(0,m.jsx)("div",{className:"custom-editor",children:(0,m.jsx)(w.M,{value:n||(null===t||void 0===t?void 0:t[a]),onTextChange:e=>s&&s({...e,name:a,value:e.htmlValue}),style:{height:o}})})};var R=t(8932),O=t(9856);function Z(e){let{title:a,visible:t,position:n,width:s="30vw",onSave:o,loading:i,onCancel:r,children:c}=e;const d=(0,m.jsxs)(l.GG,{children:[o?(0,m.jsx)(l.ZP,{label:"Save",className:"mx-2",loading:i,onClick:o}):null,r?(0,m.jsx)(l.ah,{label:"Cancel",onClick:r}):null]});return(0,m.jsx)(O.V,{modal:!0,header:a,headerClassName:"justify-content-start",visible:t,style:{width:s},onHide:r,footer:o||r?d:"",draggable:!1,resizable:!1,position:n,children:c})}var k=t(3585),D=t(2426),M=t.n(D);const Y=()=>{const{id:e}=(0,v.UO)(),a=(0,C.I0)(),t=((0,v.k6)(),(0,C.v9)((e=>e.profile.user)));(0,n.useEffect)((()=>{t&&o({...s,takenBy:t.firstName})}),[t]);const[s,o]=(0,n.useState)({takenBy:null===t||void 0===t?void 0:t.firstName,dateTime:M()(new Date).format("YYYY-MM-DD"),notes:""}),[l,r]=(0,n.useState)(!1),[c,d]=(0,n.useState)([]),u=e=>{a((0,k.Uf)(e,p,(e=>{d(e)})))};(0,n.useEffect)((()=>{e&&u(e)}),[e,a]);const[y,p]=(0,n.useState)(!1),g=()=>{o({notes:""}),r(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>r(!0)}),(0,m.jsx)(R.Z,{data:c,columns:[{field:"takenBy",header:"Taken By"},{field:"dateTime",header:"Date/Time"},{field:"notes",header:"Notes"}]}),(0,m.jsx)(Z,{width:"100vh",title:"Add",visible:l,onCancel:g,loading:y,onSave:()=>{e&&a((0,k.lU)({...s},p,(()=>{u(e),g()})))},children:(0,m.jsx)(i.R0,{children:(0,m.jsx)(_,{name:"notes",onTextChange:e=>{let{name:a,value:t}=e;o((e=>({...e,[a]:t})))},data:s})})})]})},L=()=>{const e=(0,C.I0)(),{id:a}=(0,v.UO)(),t=(0,v.k6)();(0,n.useEffect)((()=>{e((0,k.GJ)(a))}),[e]);const{allCertificates:s}=(0,C.v9)((e=>e.certificates));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(a)}),(0,m.jsx)(R.Z,{data:s,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{t.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(a))},onDelete:(a,t)=>{(0,p.j3)((()=>{e((0,k.xJ)(a._id,(()=>{})))}),"Do you want to delete this Certificates ?",t)}})]})};var F=t(4778);function G(){const{id:e}=(0,v.UO)();let{departmentsDropdown:a}=(0,C.v9)((e=>null===e||void 0===e?void 0:e.department));const t=(0,C.I0)();(0,n.useEffect)((()=>{t((0,F.Ps)()),s(e)}),[t]);const s=e=>{t((0,F.am)(e,d,(e=>{h(e)})))},[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,y]=(0,n.useState)(null),[g,h]=(0,n.useState)([]),[x,E]=(0,n.useState)({departments:[],wage:0}),T=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))},j=()=>{l(!1),E({departments:[],wage:0}),y(null)};let P=a.filter((e=>!g.map((e=>e.department)).includes(e.value)));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add Department",onClick:()=>l(!0)}),(0,m.jsx)(R.Z,{data:g,columns:[{field:"departmentName",header:"Name"},{field:"wage",header:"Wage"}],onEdit:e=>(e=>{y(e);let a=g.find((a=>a._id===e));E({departments:[a.department],wage:a.wage}),l(!0)})(e._id),onDelete:a=>{(0,p.j3)((()=>{t((0,F.w9)(a._id,(()=>{s(e),j()})))}),"Do you want to delete this Employee Department?")}}),(0,m.jsx)(Z,{title:"Add",visible:o,onCancel:j,loading:c,onSave:()=>{t(u?(0,F.vJ)(u,{wage:x.wage},d,(()=>{s(e),j()})):(0,F.b0)({...x,employee:e},d,(()=>{s(e),j()})))},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.pc,{col:"12",name:"departments",data:x,onChange:T,options:u?a:P,disabled:!!u}),(0,m.jsx)(r.l9,{col:"12",name:"wage",data:x,onChange:T})]})})]})}var U=t(4850),X=t(1526),B=t(988),V=t(3048),q=t(4499);const W=e=>{var a;let{visible:t,setVisible:s,id:o,employeeClassId:l,setEmployeeClassId:d}=e;console.log("id>>",o,l);const[u,v]=(0,n.useState)(!1),[g,h]=(0,n.useState)({}),x=(0,C.I0)(),E=()=>{s(!1),N(j),d(null)};(0,n.useEffect)((()=>{l&&T(l)}),[l]);const T=e=>{x(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,X.Z)("get",B.Z.EMPLOYEE_CLASSES+e);s.success&&s.data&&t&&t(s.data),a&&a(!1)})(e,v,(e=>{h(e)})))},j={payType:"INCREMENTAL_PAY",oneToFiveClients:0,sixToTenClients:0,elevenToFifteenClients:0,sixteenToTwentyClients:0,twentyOneToTwentyFiveClients:0,twentySixPlusClients:0,noRegistrationPay:0},P={payType:"PAY_PER_CLASS",payPerClassRate:0,noRegistrationPay:0},S={payType:"PAY_PER_CLIENT",baseRate:0,payPerClientRate:0,eachClientOver:[{noOfClients:0,rate:0},{noOfClients:0,rate:0},{noOfClients:0,rate:0}],maxPayPerClient:0,noRegistrationPay:0},f={payType:"PERCENTAGE_RATE",percentage:0,noRegistrationPay:0},[b,N]=(0,n.useState)(j);(0,n.useEffect)((()=>{l||("INCREMENTAL_PAY"===(null===b||void 0===b?void 0:b.payType)?N(j):"PAY_PER_CLASS"===(null===b||void 0===b?void 0:b.payType)?N(P):"PAY_PER_CLIENT"===(null===b||void 0===b?void 0:b.payType)?N(S):"PERCENTAGE_RATE"===(null===b||void 0===b?void 0:b.payType)&&N(f))}),[null===b||void 0===b?void 0:b.payType]),(0,n.useEffect)((()=>{if(l&&g){const{oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:n,twentyOneToTwentyFiveClients:s,twentySixPlusClients:o,noRegistrationPay:i,payPerClassRate:l,baseRate:r,payPerClientRate:c,maxPayPerClient:d,percentage:m}=g;let u={};switch(null===g||void 0===g?void 0:g.payType){case"INCREMENTAL_PAY":u={payType:"INCREMENTAL_PAY",oneToFiveClients:e,sixToTenClients:a,elevenToFifteenClients:t,sixteenToTwentyClients:n,twentyOneToTwentyFiveClients:s,twentySixPlusClients:o,noRegistrationPay:i};break;case"PAY_PER_CLASS":u={payType:"PAY_PER_CLASS",payPerClassRate:l,noRegistrationPay:i};break;case"PAY_PER_CLIENT":u={payType:"PAY_PER_CLIENT",baseRate:r,payPerClientRate:c,eachClientOver:g.eachClientOver.map((e=>({noOfClients:e.noOfClients,rate:e.rate}))),maxPayPerClient:d,noRegistrationPay:i};break;case"PERCENTAGE_RATE":u={payType:"PERCENTAGE_RATE",percentage:m,noRegistrationPay:i};break;default:u={}}N(u)}}),[g]);const A=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,b);N((e=>({...e,[a]:t,formErrors:n})))},I=(e,a,t)=>{const n=[...b.eachClientOver];n[e][a]=t,N((e=>({...e,eachClientOver:n})))};return console.log("data>>",b),console.log("employeeClasses>>",g),(0,m.jsx)("div",{children:(0,m.jsx)(Z,{title:l?"Edit":"Add",visible:t,onCancel:E,loading:u,onSave:()=>{let e=[];e="INCREMENTAL_PAY"===(null===b||void 0===b?void 0:b.payType)?["payPerClassRate","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLASS"===(null===b||void 0===b?void 0:b.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","percentage"]:"PAY_PER_CLIENT"===(null===b||void 0===b?void 0:b.payType)?["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","percentage","payPerClassRate"]:["oneToFiveClients","sixToTenClients","elevenToFifteenClients","sixteenToTwentyClients","twentyOneToTwentyFiveClients","twentySixPlusClients","baseRate","payPerClientRate","maxPayPerClient","payPerClassRate"],(0,p.Ao)(b,N,e)&&(l&&x(((e,a,t,n)=>async s=>{t(!0);const o=await(0,X.Z)("put",B.Z.EMPLOYEE_CLASSES+e,a);o.success?n():s((0,q.C)({severity:"error",summary:o.message})),t(!1)})(l,b,v,(()=>{E()}))),x(((e,a,t)=>async n=>{a(!0);const s=await(0,X.Z)("post",B.Z.EMPLOYEE_CLASSES,e);s.success?t():n((0,q.C)({severity:"error",summary:s.message})),a(!1)})({...b,employee:o},v,(()=>{E()}))))},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.T3,{name:"payType",data:b,onChange:A,options:c.WJ,col:12,disabled:!!l}),"INCREMENTAL_PAY"===(null===b||void 0===b?void 0:b.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{label:"1-5 Clients",name:"oneToFiveClients",data:b,onChange:A}),(0,m.jsx)(r.l9,{label:"6-10 Clients",name:"sixToTenClients",data:b,onChange:A}),(0,m.jsx)(r.l9,{label:"11-15 Clients",name:"elevenToFifteenClients",data:b,onChange:A}),(0,m.jsx)(r.l9,{label:"16-20 Clients",name:"sixteenToTwentyClients",data:b,onChange:A}),(0,m.jsx)(r.l9,{label:"21-25 Clients",data:b,name:"twentyOneToTwentyFiveClients",onChange:A}),(0,m.jsx)(r.l9,{label:"26+ Clients",data:b,name:"twentySixPlusClients",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:b,onChange:A})]}),"PAY_PER_CLASS"===(null===b||void 0===b?void 0:b.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:b,name:"payPerClassRate",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:b,onChange:A})]}),"PAY_PER_CLIENT"===(null===b||void 0===b?void 0:b.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{name:"baseRate",data:b,onChange:A}),(0,m.jsx)(r.l9,{name:"payPerClientRate",data:b,onChange:A}),null===b||void 0===b||null===(a=b.eachClientOver)||void 0===a?void 0:a.map(((e,a)=>(0,m.jsx)("div",{className:" col-12 ",children:(0,m.jsxs)("div",{className:"grid",children:[(0,m.jsx)(r.l9,{name:"noOfClients",value:null===e||void 0===e?void 0:e.noOfClients,onChange:e=>I(a,"noOfClients",e.value),col:6}),(0,m.jsx)(r.l9,{name:"rate",value:null===e||void 0===e?void 0:e.rate,onChange:e=>I(a,"rate",e.value),col:6})]})},a))),(0,m.jsx)(r.l9,{data:b,name:"noRegistrationPay",onChange:A}),(0,m.jsx)(r.l9,{data:b,name:"maxPayPerClient",onChange:A})]}),"PERCENTAGE_RATE"===(null===b||void 0===b?void 0:b.payType)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.l9,{data:b,name:"percentage",onChange:A}),(0,m.jsx)(r.l9,{name:"noRegistrationPay",data:b,onChange:A})]})]})})})};function J(){const e=(0,C.I0)(),{id:a}=(0,v.UO)();(0,n.useEffect)((()=>{y(a)}),[e]);const[t,s]=(0,n.useState)(!1),[o,l]=(0,n.useState)(!1),[r,c]=(0,n.useState)(null),[d,u]=(0,n.useState)([{id:"1000",code:"f230fh0g3",name:"Bamboo Watch",description:"Product Description",image:"bamboo-watch.jpg",price:65,category:"Accessories",quantity:24,inventoryStatus:"INSTOCK",rating:5}]),y=a=>{e(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,X.Z)("get",B.Z.EMPLOYEE_CLASSES,"",{employee:e});s.success&&s.data&&t&&t(s.data),a&&a(!1)})(a,l,(e=>{u(e)})))},g=t=>{(0,p.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,X.Z)("delete",B.Z.EMPLOYEE_CLASSES+e);n.success?a():t((0,q.C)({severity:"error",summary:n.message}))})(t._id,(()=>{y(a)})))}),"Do you want to delete this Employee Classes?")};return(0,m.jsxs)("div",{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>s(!0)}),(0,m.jsxs)(i.ZP,{col:"12",title:"Pay",children:[(0,m.jsx)(U.VO,{value:d,itemTemplate:e=>(0,m.jsxs)("div",{className:"col-12 grid",children:[(0,m.jsx)("div",{className:"col-11",children:e.payType}),(0,m.jsxs)("div",{className:"col-1",children:[(0,m.jsx)("i",{className:"mx-2 cursor-pointer pi pi-pencil",onClick:()=>(e=>{c(null===e||void 0===e?void 0:e._id),s(!0)})(e)}),(0,m.jsx)("i",{className:"mx-2 cursor-pointer pi pi-trash",onClick:()=>g(e)})]})]},e.id)}),(0,m.jsx)(W,{visible:t,setVisible:s,id:a,employeeClassId:r,setEmployeeClassId:c})]})]})}function z(){const{id:e}=(0,v.UO)(),a=(0,C.I0)(),[t,s]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),[g,h]=(0,n.useState)({name:"",priority:"MEDIUM"}),[x,E]=(0,n.useState)("");(0,n.useEffect)((()=>{T(e)}),[]);const T=e=>{a(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,X.Z)("get",B.Z.SUSTITITION_OPTIONS,"",{employee:e});s.success&&s.data&&t&&t(s.data),a&&a(!1)})(e,l,(e=>{s(e)})))};(0,n.useEffect)((()=>{console.log(x),x&&a(((e,a)=>async t=>{t((0,V.f)());const n=await(0,X.Z)("get",B.Z.SUSTITITION_OPTIONS+e);console.log("res>>",n),n.success&&(t((0,V.t)()),a&&a(n.data)),t((0,V.t)())})(x,(e=>{h({name:e.name,priority:e.priority})})))}),[x,a]);const j=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,g);h((e=>({...e,[a]:t,formErrors:n})))},P=()=>{u(!1),h({name:"",priority:"MEDIUM"}),E(null)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>u(!0)}),(0,m.jsx)(i.ZP,{col:"12",title:"Classes",children:(0,m.jsx)(R.Z,{data:t,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"}],onEdit:e=>{E(null===e||void 0===e?void 0:e._id),u(!0)},onDelete:t=>{(0,p.j3)((()=>{a(((e,a)=>async t=>{const n=await(0,X.Z)("delete",B.Z.SUSTITITION_OPTIONS+e);n.success?(t((0,q.C)({severity:"success",summary:n.message})),a()):t((0,q.C)({severity:"error",summary:n.message}))})(t._id,(()=>{T(e),P()})))}),"Do you want to delete this Substitution Option?")}})}),(0,m.jsx)(Z,{title:x?"Edit":"Add",visible:d,onCancel:P,loading:o,onSave:()=>{(0,p.Ao)(g,h)&&a(x?((e,a,t,n)=>async()=>{t(!0),(await(0,X.Z)("put",B.Z.SUSTITITION_OPTIONS+e,a)).success&&n(),t(!1)})(x,{...g,employee:e},l,(()=>{T(e),P()})):((e,a,t)=>async n=>{a(!0);const s=await(0,X.Z)("post",B.Z.SUSTITITION_OPTIONS,e);s.success?t():n((0,q.C)({severity:"error",summary:s.message})),a(!1)})({...g,employee:e},l,(()=>{T(e),P()})))},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:g,onChange:j}),(0,m.jsx)(r.T3,{name:"priority",data:g,onChange:j,options:c.IP,col:12})]})})]})}const H=()=>{const e=[{title:"Pay",content:(0,m.jsx)(J,{})},{title:"Substitute Option",content:(0,m.jsx)(z,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{name:"classes",tabs:e,useIndex:!0})})},K=(e,a,t,n)=>async s=>{t&&t(!0);const o=await(0,X.Z)("get",B.Z.EMPLOYEE_APPOINTMENT,"",{employee:e,type:a});o.success&&o.data&&n&&n(o.data),t&&t(!1)},Q=()=>{const e=(0,C.I0)(),[a,t]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),h={name:"",priority:"PER-EVENT",type:"PAY",pay:0,amountType:"FIXED"},[x,E]=(0,n.useState)(h),{id:T}=(0,v.UO)();(0,n.useEffect)((()=>{j(T)}),[]);const j=a=>{e(K(a,"PAY",o,(e=>{g(e)})))};(0,n.useEffect)((()=>{console.log(l),l&&e(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,X.Z)("get",B.Z.EMPLOYEE_APPOINTMENT+e);s.success&&s.data&&t&&t(s.data),a&&a(!1)})(l,o,(e=>{E({name:e.name,priority:e.priority,type:"PAY",pay:e.pay,amountType:e.amountType})})))}),[l,e]);const P=()=>{d(null),E(h),t(!1)},S=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,x);E((e=>({...e,[a]:t,formErrors:n})))};return console.log("data>>",x),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>t(!0)}),(0,m.jsx)(R.Z,{data:u,columns:[{field:"name",header:"Name"},{field:"priority",header:"Priority"},{field:"pay",header:"Pay"}],onEdit:e=>{d(null===e||void 0===e?void 0:e._id),t(!0)},onDelete:a=>{(0,p.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,X.Z)("delete",B.Z.EMPLOYEE_APPOINTMENT+e);n.success?a():t((0,q.C)({severity:"error",summary:n.message}))})(a._id,(()=>{j(T),P()})))}),"Do you want to delete this Appartment Pay?")}}),(0,m.jsx)(Z,{title:l?"Edit":"Add",visible:a,onCancel:P,loading:s,onSave:()=>{(0,p.Ao)(x,E)&&e(l?((e,a,t,n)=>async s=>{t(!0);const o=await(0,X.Z)("put",B.Z.EMPLOYEE_APPOINTMENT+e,a);o.success?n():s((0,q.C)({severity:"error",summary:o.message})),t(!1)})(l,{...x},o,(()=>{j(T),P()})):((e,a,t)=>async n=>{a(!0);const s=await(0,X.Z)("post",B.Z.EMPLOYEE_APPOINTMENT,e);s.success?t():n((0,q.C)({severity:"error",summary:s.message})),a(!1)})({...x,employee:T},o,(()=>{j(T),P()})))},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.t7,{col:"12",name:"name",data:x,onChange:S}),(0,m.jsx)(r.T3,{name:"priority",data:x,onChange:S,options:c.zC,col:12}),(0,m.jsx)(r.l9,{col:8,name:"pay",data:x,onChange:S}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:x,onChange:S,col:4})]})})]})},$=()=>{const e=(0,C.I0)(),{id:a}=(0,v.UO)(),t={bonusType:"SERVICE_VALUE",sessionsValue:0,ofSessions:0,over:0,duration:"DAYS",bonusAmount:0,type:"BONUS",amountType:"FIXED",services:["Private Sessions"]},[s,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),[u,g]=(0,n.useState)(null),[h,x]=(0,n.useState)([]),[E,T]=(0,n.useState)(t),j=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,E);T((e=>({...e,[a]:t,formErrors:n})))};(0,n.useEffect)((()=>{P(a)}),[]);const P=a=>{e(K(a,"BONUS",d,(e=>{x(e)})))};(0,n.useEffect)((()=>{console.log(u),u&&e(((e,a)=>async t=>{t((0,V.f)());const n=await(0,X.Z)("get",B.Z.EMPLOYEE_APPOINTMENT+e);console.log("res>>",n),n.success&&(t((0,V.t)()),a&&a(n.data)),t((0,V.t)())})(u,(e=>{T({bonusType:e.bonusType,sessionsValue:e.sessionsValue,ofSessions:e.ofSessions,over:e.selectTimeframe.over,duration:e.selectTimeframe.duration,bonusAmount:e.bonusAmount,type:"BONUS",amountType:e.amountType,services:e.services})})))}),[u,e]);const S=()=>{g(null),T(t),o(!1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>o(!0)}),(0,m.jsx)(R.Z,{data:h,columns:[{field:"bonusType",header:"Bonus Type"},{field:"services",body:e=>e.services.join(","),header:"Services"}],onEdit:e=>{g(null===e||void 0===e?void 0:e._id),o(!0)},onDelete:t=>{(0,p.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,X.Z)("delete",B.Z.EMPLOYEE_APPOINTMENT+e);n.success?(t((0,q.C)({severity:"success",summary:n.message})),a()):t((0,q.C)({severity:"error",summary:n.message}))})(t._id,(()=>{P(a),S()})))}),"Do you want to delete this Bonus?")}}),(0,m.jsx)(Z,{title:u?"Edit":"Add",visible:s,onCancel:S,loading:l,onSave:()=>{let t=[];if(t="SINGLE_CLIENT"===(null===E||void 0===E?void 0:E.bonusType)?["sessionsValue"]:["ofSessions"],(0,p.Ao)(E,T,t)){const{over:t,duration:n,...s}=E;e(u?((e,a,t,n)=>async()=>{t(!0),(await(0,X.Z)("put",B.Z.EMPLOYEE_APPOINTMENT+e,a)).success&&n(),t(!1)})(u,{...s,selectTimeframe:{over:t,duration:n}},d,(()=>{P(a),S()})):((e,a,t)=>async n=>{a(!0);const s=await(0,X.Z)("post",B.Z.EMPLOYEE_APPOINTMENT,e);s.success?t():n((0,q.C)({severity:"error",summary:s.message})),a(!1)})({...s,selectTimeframe:{over:t,duration:n},employee:a},d,(()=>{P(a),S()})))}},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.T3,{label:"",name:"bonusType",data:E,onChange:j,options:c.WD,col:6}),"SINGLE_CLIENT"===(null===E||void 0===E?void 0:E.bonusType)?(0,m.jsx)(r.l9,{col:6,name:"ofSessions",data:E,onChange:j}):(0,m.jsx)(r.l9,{col:6,name:"sessionsValue",data:E,onChange:j}),(0,m.jsx)(r.l9,{col:"6",name:"over",data:E,onChange:j}),(0,m.jsx)(r.T3,{label:"",name:"duration",data:E,onChange:j,col:6,options:c.SW}),(0,m.jsx)(r.l9,{col:8,name:"bonusAmount",data:E,onChange:j}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:E,onChange:j,col:4}),(0,m.jsx)(r.pc,{col:"12",name:"services",data:E,onChange:j,options:c.es})]})})]})},ee=()=>{const e=[{title:"Pay",content:(0,m.jsx)(Q,{})},{title:"Bonus",content:(0,m.jsx)($,{})},{title:"Calendar Default",content:(0,m.jsx)(m.Fragment,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{name:"appointment",tabs:e,useIndex:!0})})};var ae=t(8876);const te=()=>{const e=(0,C.I0)(),[a,t]=(0,n.useState)(!1),[s,o]=(0,n.useState)(!1),[l,d]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),h={commissionGroup:"",type:"ITEM_COMMISSION",commissionType:"PER_ITEM",amountType:"FIXED",pay:"0"},[x,E]=(0,n.useState)(h),{id:T}=(0,v.UO)();(0,n.useEffect)((()=>{P(T),e((0,ae.JE)())}),[]);const{commissionGroupsDropdown:j}=(0,C.v9)((e=>null===e||void 0===e?void 0:e.commissionGroup)),P=a=>{e(((e,a,t,n)=>async s=>{t&&t(!0);const o=await(0,X.Z)("get",B.Z.SALES_COMMISSION,"",{employee:e,type:a});o.success&&o.data&&n&&n(o.data),t&&t(!1)})(a,"ITEM",o,(e=>{g(e)})))};(0,n.useEffect)((()=>{console.log(l),l&&e(((e,a,t)=>async n=>{a&&a(!0);const s=await(0,X.Z)("get",B.Z.SALES_COMMISSION+e);s.success&&s.data&&t&&t(s.data),a&&a(!1)})(l,o,(e=>{E({commissionGroup:e.commissionGroup,type:e.type,commissionType:e.commissionType,amountType:e.amountType,pay:e.pay})})))}),[l,e]);const S=()=>{d(null),E(h),t(!1)},f=e=>{let{name:a,value:t}=e;const n=(0,y.Z)(a,t,x);E((e=>({...e,[a]:t,formErrors:n})))};return console.log("data>>",x),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.tX,{buttonTitle:"Add",onClick:()=>t(!0)}),(0,m.jsx)(R.Z,{data:u,columns:[{field:"commissionGroup",header:"Commission Group"},{field:"commissionType",header:"Commission Type"},{field:"pay",header:"Pay"}],onEdit:e=>{d(null===e||void 0===e?void 0:e._id),t(!0)},onDelete:a=>{(0,p.j3)((()=>{e(((e,a)=>async t=>{const n=await(0,X.Z)("delete",B.Z.SALES_COMMISSION+e);n.success?a():t((0,q.C)({severity:"error",summary:n.message}))})(a._id,(()=>{P(T),S()})))}),"Do you want to delete this Item Commission?")}}),(0,m.jsx)(Z,{title:l?"Edit":"Add",visible:a,onCancel:S,loading:s,onSave:()=>{(0,p.Ao)(x,E)&&e(l?((e,a,t,n)=>async s=>{t(!0);const o=await(0,X.Z)("put",B.Z.SALES_COMMISSION+e,a);o.success?n():s((0,q.C)({severity:"error",summary:o.message})),t(!1)})(l,{...x},o,(()=>{P(T),S()})):((e,a,t)=>async n=>{a(!0);const s=await(0,X.Z)("post",B.Z.SALES_COMMISSION,e);s.success?t():n((0,q.C)({severity:"error",summary:s.message})),a(!1)})({...x,employee:T},o,(()=>{P(T),S()})))},children:(0,m.jsxs)(i.R0,{children:[(0,m.jsx)(r.T3,{name:"commissionGroup",data:x,onChange:f,options:j,optionLabel:"name",col:12}),(0,m.jsx)(r.T3,{name:"commissionType",data:x,onChange:f,options:c.am,col:12}),(0,m.jsx)(r.l9,{col:8,name:"pay",data:x,onChange:f}),(0,m.jsx)(r.T3,{label:"",name:"amountType",options:c.vA,data:x,onChange:f,col:4})]})})]})},ne=()=>{const e=[{title:"Item Commission",content:(0,m.jsx)(te,{})},{title:"Bonus",content:(0,m.jsx)($,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.Z,{name:"sales-commission",tabs:e,useIndex:!0})})},se=()=>{const{id:e}=(0,v.UO)(),a=[{title:"Security",content:(0,m.jsx)(E,{})},{title:"General",content:(0,m.jsx)(N,{})},{title:"Departments",content:(0,m.jsx)(G,{})},{title:"Clubs",content:(0,m.jsx)(I,{})},{title:"Classes Setup",content:(0,m.jsx)(H,{})},{title:"Appointment Setup",content:(0,m.jsx)(ee,{})},{title:"Sales Commision",content:(0,m.jsx)(ne,{})},{title:"Time Sheet",content:(0,m.jsx)("h1",{children:"Tab 8"})},{title:"Notes",content:(0,m.jsx)(Y,{})},{title:"Certifications",content:(0,m.jsx)(L,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.Z,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,m.jsx)(o.Z,{tabs:a,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9]})})})}}}]);
//# sourceMappingURL=710.60a06634.chunk.js.map