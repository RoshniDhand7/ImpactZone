"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[975],{7931:(e,a,t)=>{t.d(a,{Xs:()=>u,bV:()=>y,br:()=>p,gc:()=>l,kx:()=>A,m6:()=>d,mp:()=>E});var s=t(6178),i=t.n(s),c=t(4505),n=t(5659),r=t(346),o=t(7504),m=t(2392);const u=(e,a)=>async t=>{a&&a(!0);const s={employee:e},i=await(0,c.A)("get",n.A.MANAGE_EMPLOYEE_CERTIFICATES,{},s);i.success&&i.data&&t({type:r.g.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:i.data}),a&&a(!1)},d=function(e,a,t){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async r=>{a(!0);const o={...e,acquiredDate:i()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:i()(e.expirationDate).format("MM/DD/YYYY")},u=await(0,c.A)("post",n.A.MANAGE_EMPLOYEE_CERTIFICATES,o);u.success&&(s?t.replace("/settings/employee/manage-employee/edit/".concat(u.data._id,"/").concat(s)):t.goBack(),r((0,m.P)({severity:"success",summary:u.message}))),a(!1)}},l=(e,a)=>async t=>{t((0,o.r)());const s=await(0,c.A)("get",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success&&s.data&&a&&a(s.data),t((0,o.i)())},p=function(e,a,t,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async o=>{t(!0);const u={...a,acquiredDate:i()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:i()(a.expirationDate).format("MM/DD/YYYY")},d=await(0,c.A)("put",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e,u);d.success&&(r?s.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(r)):s.goBack(),o((0,m.P)({severity:"success",summary:d.message}))),t(!1)}},E=(e,a)=>async t=>{const s=await(0,c.A)("delete",n.A.MANAGE_EMPLOYEE_CERTIFICATES+e);s.success?(t((0,m.P)({severity:"success",summary:s.message})),a()):t((0,m.P)({severity:"error",summary:s.message}))},A=(e,a,t)=>async s=>{a&&a(!0);const i=await(0,c.A)("get",n.A.NOTES,"",{employee:e});i.success&&i.data&&t&&t(i.data),a&&a(!1)},y=(e,a,t)=>async s=>{a(!0);const i=await(0,c.A)("post",n.A.NOTES,e);i.success?(s((0,m.P)({severity:"success",summary:i.message})),t()):s((0,m.P)({severity:"error",summary:i.message})),a(!1)}},8975:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var s=t(5043),i=t(5050),c=t(5378),n=t(1326),r=t(9456),o=t(1688),m=t(7994),u=t(7931),d=t(579);const l=()=>{const{id:e,employeeId:a}=(0,o.g)(),t=(0,r.wA)(),l=(0,o.W6)(),[p,E]=(0,s.useState)({name:"",certificationNumber:"",issuer:"",acquiredDate:"",expirationDate:"",uploadCertificate:"",employee:""});(0,s.useEffect)((()=>{e?t((0,u.gc)(e,(e=>{E({name:e.name,certificationNumber:e.certificationNumber,issuer:e.issuer,acquiredDate:e.acquiredDate?new Date:"",expirationDate:e.expirationDate?new Date:"",uploadCertificate:e.uploadCertificate?[e.uploadCertificate]:[],description:e.description,employee:a})}))):E({...p,employee:a})}),[e,t]);const[A,y]=(0,s.useState)(!1),g=e=>{let{name:a,value:t}=e;E((e=>({...e,[a]:t})))};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(i.A,{backText:"Certifications",children:[(0,d.jsx)(c.Ay,{col:"12",title:"Personal",children:(0,d.jsxs)(c.a,{children:[(0,d.jsx)(n.wi,{name:"name",data:p,onChange:g}),(0,d.jsx)(n.wi,{name:"certificationNumber",data:p,onChange:g}),(0,d.jsx)(n.wi,{name:"issuer",data:p,onChange:g}),(0,d.jsx)(n.wN,{name:"acquiredDate",data:p,onChange:g}),(0,d.jsx)(n.wN,{name:"expirationDate",data:p,onChange:g}),(0,d.jsx)(n.Ky,{name:"description",data:p,onChange:g})]})}),(0,d.jsxs)(m.zp,{children:[(0,d.jsx)(m.Ay,{label:"Save",className:"mx-2",loading:A,onClick:()=>{t(e?(0,u.br)(e,p,y,l):(0,u.m6)(p,y,l))}}),(0,d.jsx)(m.Ti,{label:"Cancel",onClick:()=>l.replace("/settings/employee")})]})]})})}}}]);
//# sourceMappingURL=975.3dd58d26.chunk.js.map