"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[598],{3585:(e,a,t)=>{t.d(a,{GJ:()=>d,Jb:()=>m,mv:()=>u,tG:()=>h,xJ:()=>x});var n=t(2426),s=t.n(n),o=t(1526),l=t(988),i=t(1529),c=t(3048),r=t(4499);t(1520);const d=(e,a)=>async t=>{a&&a(!0);const n={employee:e},s=await(0,o.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,{},n);s.success&&s.data&&t({type:i.V.CHANGE_MANAGE_EMPLOYEE_CERTIFICATES,payload:s.data}),a&&a(!1)},m=function(e,a,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return async i=>{a(!0);const c={...e,acquiredDate:s()(e.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(e.expirationDate).format("MM/DD/YYYY")},d=await(0,o.Z)("post",l.Z.MANAGE_EMPLOYEE_CERTIFICATES,c);d.success&&(n?t.replace("/settings/employee/manage-employee/edit/".concat(d.data._id,"/").concat(n)):t.goBack(),i((0,r.C)({severity:"success",summary:d.message}))),a(!1)}},u=(e,a)=>async t=>{t((0,c.f)());const n=await(0,o.Z)("get",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);n.success&&n.data&&a&&a(n.data),t((0,c.t)())},h=function(e,a,t,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return async c=>{t(!0);const d={...a,acquiredDate:s()(a.acquiredDate).format("MM/DD/YYYY"),expirationDate:s()(a.expirationDate).format("MM/DD/YYYY")},m=await(0,o.Z)("put",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e,d);m.success&&(i?n.replace("/settings/employee/manage-employee/edit/".concat(m.data._id,"/").concat(i)):n.goBack(),c((0,r.C)({severity:"success",summary:m.message}))),t(!1)}},x=e=>async a=>{const t=await(0,o.Z)("delete",l.Z.MANAGE_EMPLOYEE_CERTIFICATES+e);t.success?(a(d((()=>{}))),a((0,r.C)({severity:"success",summary:t.message}))):a((0,r.C)({severity:"error",summary:t.message}))}},6886:(e,a,t)=>{t.d(a,{Z:()=>l});t(2791);var n=t(4880),s=t(4822),o=t(184);function l(e){let{children:a,backText:t,backTo:l}=e;const i=(0,n.k6)(),c=()=>{l?i.replace(l):i.goBack()};return(0,o.jsxs)(s.Z,{children:[t?(0,o.jsxs)("div",{className:"flex mb-3 text-dark-gray",children:[(0,o.jsx)("i",{className:"pi pi-angle-left text-2xl cursor-pointer",onClick:c}),(0,o.jsxs)("div",{className:" my-auto font-semibold text-lg cursor-pointer",onClick:c,children:["Back to ",t]})]}):null,(0,o.jsx)(o.Fragment,{children:a})]})}},7929:(e,a,t)=>{t.d(a,{IP:()=>n,Jj:()=>c,Ni:()=>r,g9:()=>l,gv:()=>m,iq:()=>o,lp:()=>i,mt:()=>d,vA:()=>s});const n=[{name:"Yes",value:"true"},{name:"No",value:"false"}],s=[{name:"$",value:"FIXED"},{name:"%",value:"PERCENTAGE"}],o=["Products","Services","Agreement"].map((e=>({name:e,value:e}))),l=[{name:"No Limit",value:"No Limit"}];for(let u=1;u<=50;u++){const e={name:"".concat(u),value:"".concat(u)};l.push(e)}const i=[{name:"Week (7 days)",value:"Week (7 Days)"},{name:"Month (30 days)",value:"Month (30 days)"},{name:"Year (365 days)",value:"Year (365 days)"},{name:"Calendar Week (sunday)",value:"Calendar Week (sunday)"},{name:"Calendar Week (monday)",value:"Calendar Week (monday)"},{name:"Calendar Month",value:"Calendar Month"},{name:"Calendar Year",value:"Calendar Year"}],c=[{name:"Club",value:"Club"},{name:"Company",value:"Company"}],r=[];for(let u=1;u<=30;u++){const e={name:"".concat(u," days"),value:"".concat(u," days")};r.push(e)}const d=[];for(let u=12;u<=72;u+=12){const e={name:"".concat(u," hours"),value:"".concat(u," hours")};d.push(e)}const m=["Agreement Hold","Cancel Pending POS Transaction","Cancel Agreement","Cancel Price","Commission Override","Drawer Adjustment","Event Status","Freeze Agreement","No Sale","Void","Waive Tax"].map((e=>({name:e,value:e})))},598:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Y});var n=t(2791),s=t(6886),o=t(9809),l=t(3e3),i=t(7480),c=t(9955),r=t(7929),d=t(3638),m=t(184);const u=e=>{let{selected:a=[],name:t,sourceData:s=[],onPickListChange:o,breakpoint:l="1280px",sourceHeader:i="Available",targetHeader:c="Selected",sourceStyle:r={height:"24rem"},targetStyle:u={height:"24rem"},showSourceControls:h=!1,showTargetControls:x=!1}=e;(0,n.useEffect)((()=>{if(s.length&&a){let e=s.filter((e=>a.includes(e.value))),t=s.filter((e=>!a.includes(e.value)));p(t),j(e)}}),[s,null===a||void 0===a?void 0:a.length]);const[g,p]=(0,n.useState)([]),[C,j]=(0,n.useState)([]);return(0,n.useEffect)((()=>{if(o){let e=C.map((e=>e.value));o({name:t,value:e})}}),[null===C||void 0===C?void 0:C.length,t]),(0,m.jsx)("div",{className:"card",children:(0,m.jsx)(d.G,{source:g,target:C,onChange:e=>{let{target:a,source:t}=e;p(t),j(a)},itemTemplate:e=>(0,m.jsx)("div",{className:"flex flex-wrap p-2 align-items-center gap-3",children:(0,m.jsx)("h6",{children:e.name})}),breakpoint:l,sourceHeader:i,targetHeader:c,sourceStyle:r,targetStyle:u,showSourceControls:h,showTargetControls:x})})};var h=t(9387),x=t(1520),g=t(9434),p=t(4880),C=t(4418),j=t(2433),v=t(7099);const f=()=>{var e;const a=(0,g.I0)(),{id:t}=(0,p.UO)(),s=(0,p.k6)(),[o,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a((0,j.ip)()),a((0,v.Oh)())}),[a]);let{allSecurityRoles:f}=(0,g.v9)((e=>null===e||void 0===e?void 0:e.securityRole));f=null===(e=f)||void 0===e?void 0:e.map((e=>({name:e.name,value:e._id}))),(0,n.useEffect)((()=>{t&&a((0,C.Jf)(t,(e=>{k({firstName:e.firstName,lastName:e.lastName,middleInitial:e.middleInitial,jobTitle:e.jobTitle,dob:new Date(e.dob),socialSecurity:e.socialSecurity,barCode:e.barCode,accessCode:e.accessCode,email:e.email,multiClubClockIn:e.multiClubClockIn.toString(),securityRoles:e.securityRoles})})))}),[t,a]);const{allJobTitle:y}=(0,g.v9)((e=>e.jobTitle)),[b,k]=(0,n.useState)({firstName:"",lastName:"",middleInitial:"",jobTitle:"",dob:"",socialSecurity:"",barCode:"",accessCode:"",email:"",multiClubClockIn:"",securityRoles:[]}),E=e=>{let{name:a,value:t}=e;const n=(0,h.Z)(a,t,b);k((e=>({...e,[a]:t,formErrors:n})))},P=e=>{(0,x.Ao)(b,k,["jobTitle"])&&a(t?(0,C.to)(t,b,d,s,e):(0,C.tx)(b,d,s,e))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Personal",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(c.t7,{name:"firstName",required:!0,col:3,data:b,onChange:E}),(0,m.jsx)(c.t7,{name:"middleInitial",col:1,data:b,onChange:E}),(0,m.jsx)(c.t7,{name:"lastName",required:!0,data:b,onChange:E}),(0,m.jsx)(c.T3,{name:"jobTitle",data:b,onChange:E,options:null===y||void 0===y?void 0:y.map(((e,a)=>({label:e.jobTitle,value:e._id}))),optionLabel:"label"}),(0,m.jsx)(c.FB,{name:"dob",data:b,onChange:E}),(0,m.jsx)(c.t7,{name:"socialSecurity",data:b,onChange:E})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"System",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(c.t7,{name:"barCode",required:!0,data:b,onChange:E}),(0,m.jsx)(c.t7,{name:"accessCode",required:!0,data:b,onChange:E}),(0,m.jsx)(c.t7,{name:"email",required:!0,data:b,onChange:E}),(0,m.jsx)(c.T3,{label:"Allow Multi-Club Clock In/Out",name:"multiClubClockIn",options:r.IP,data:b,onChange:E})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Select Roles",children:(0,m.jsx)("div",{col:12,children:(0,m.jsx)(u,{name:"securityRoles",selected:null===b||void 0===b?void 0:b.securityRoles,sourceData:f,onPickListChange:E})})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",onClick:()=>P(""),loading:o}),(0,m.jsx)(i.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>P("?tab=general"),loading:o}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>s.replace("/settings/employee")})]})]})};var y=t(7162),b=t(7083),k=t(3954),E=t(4053);const P={border:"2px dashed #eeeeee",borderRadius:"4px",padding:"60px",textAlign:"center",cursor:"pointer",background:"#fff"},N=e=>{let{name:a,value:t,data:s,onDropChange:o,multiple:l=!0}=e;const[i,c]=(0,n.useState)(t||(null===s||void 0===s?void 0:s[a])||[]);(0,n.useEffect)((()=>{(t||null!==s&&void 0!==s&&s[a])&&JSON.stringify(t||(null===s||void 0===s?void 0:s[a]))!==JSON.stringify(i)&&c(t||(null===s||void 0===s?void 0:s[a]))}),[t||(null===s||void 0===s?void 0:s[a])]),(0,n.useEffect)((()=>{o&&o({name:a,value:i})}),[i,a]);const r=(0,n.useCallback)(((e,a)=>{a.length>0?console.log("Rejected Files:",a):e.forEach((e=>{i.some((a=>a.name===e.name))?console.log('File "'.concat(e.name,'" is already selected.')):c((a=>[...a,e]))}))}),[i]),{getRootProps:d,getInputProps:u,isDragActive:h,isDragAccept:x,isDragReject:g}=(0,k.uI)({onDrop:r,multiple:l,accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}),p=(0,n.useMemo)((()=>({...x?{borderColor:"#00e676"}:{},...g?{borderColor:"#ff1744"}:{}})),[x,g]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{...d({style:p}),style:P,children:[(0,m.jsx)("input",{...u()}),h?g?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.q,{icon:"pi pi-exclamation-triangle",size:"large",className:"bg-red-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Only image files are allowed!"})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.q,{icon:"pi pi-download",size:"large",className:"bg-green-50",style:{color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drop the photo here..."})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(y.q,{icon:"pi pi-file",size:"large",style:{backgroundColor:"#F2F5FE",color:"#252B42"},shape:"circle"}),(0,m.jsx)("p",{className:"text-color-secondary font-medium text-lg",children:"Drag your photo here or browse."})]})]}),(0,m.jsx)("div",{className:"flex flex-wrap my-2",children:(null===i||void 0===i?void 0:i.length)>0&&(null===i||void 0===i?void 0:i.map(((e,a)=>(0,m.jsx)(y.q,{className:"p-overlay-badge my-2 mr-3",image:(0,E.Q)(e),size:"xlarge",children:(0,m.jsx)(b.C,{value:"X",icon:"pi pi-fast-forward",severity:"danger",className:"cursor-pointer",onClick:()=>(e=>{c((a=>a.filter(((a,t)=>t!==e))))})(a)})}))))})]})},D=()=>{const e=(0,g.I0)(),a=(0,p.k6)(),{id:t}=(0,p.UO)(),[s,o]=(0,n.useState)([]),[d,u]=(0,n.useState)([]),[j,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,x.v9)();const e=(0,x.ec)("US");o(e)}),[e]),(0,n.useEffect)((()=>{t&&e((0,C.Jf)(t,(e=>{var a;y({hireDate:new Date(e.hireDate),terminationDate:e.terminationDate,adpId:e.adpId,primaryPhone:e.primaryPhone,workPhone:e.workPhone,workPhoneExt:e.workPhoneExt,mobilePhone:e.mobilePhone,faxPhone:e.faxPhone,emergencyPhone:e.emergencyPhone,emergencyPhoneExt:e.emergencyPhoneExt,street:e.street,city:e.city,state:e.state,zipCode:e.zipCode,emailNotification:null===(a=e.emailNotification)||void 0===a?void 0:a.toString(),onlineNickName:e.onlineNickName,bio:e.bio,image:e.image?[e.image]:[]});const t=(0,x.gb)("US",e.state);u(t)})))}),[t,e]);const[f,y]=(0,n.useState)({hireDate:"",terminationDate:"",adpId:"",primaryPhone:"",workPhone:"",workPhoneExt:"",mobilePhone:"",faxPhone:"",emergencyPhone:"",emergencyPhoneExt:"",street:"",city:"",state:"",zipCode:"",emailNotification:!0,onlineNickName:"",bio:"",image:[]}),b=e=>{let{name:a,value:t}=e;const n=(0,h.Z)(a,t,f);if("state"===a){const e=(0,x.gb)("US",t);u(e),y((e=>({...e,[a]:t,city:"",formErrors:n})))}else y((e=>({...e,[a]:t,formErrors:n})))},k=n=>{(0,x.Ao)(f,y)&&t&&e((0,C.to)(t,f,v,a,n))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Employement",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(c.FB,{id:"hireDate",name:"hireDate",onChange:b,data:f}),(0,m.jsx)(c.t7,{name:"adpId",onChange:b,data:f})]})}),(0,m.jsx)(l.ZP,{col:"12",title:"Contact",children:(0,m.jsxs)(l.R0,{children:[(0,m.jsx)(c.XX,{id:"primaryPhone",name:"primaryPhone",mask:"(999) 999-9999",placeholder:"",onChange:b,data:f}),(0,m.jsx)(c.XX,{id:"workPhone",name:"workPhone",mask:"(999) 999-9999",placeholder:"",onChange:b,data:f}),(0,m.jsx)(c.XX,{id:"mobilePhone",name:"mobilePhone",mask:"(999) 999-9999",placeholder:"",onChange:b,data:f}),(0,m.jsx)(c.XX,{id:"faxPhone",name:"faxPhone",mask:"(999) 999-9999",placeholder:"",onChange:b,data:f}),(0,m.jsx)(c.XX,{id:"emergencyPhone",name:"emergencyPhone",mask:"(999) 999-9999",placeholder:"",onChange:b,data:f}),(0,m.jsx)(c.t7,{name:"street",onChange:b,data:f}),(0,m.jsx)(c.T3,{name:"state",options:s,onChange:b,data:f}),(0,m.jsx)(c.T3,{name:"city",options:d,onChange:b,data:f}),(0,m.jsx)(c.t7,{name:"zipCode",onChange:b,data:f}),(0,m.jsx)(c.T3,{name:"emailNotification",options:r.IP,onChange:b,data:f})]})}),(0,m.jsxs)(l.ZP,{col:"12",title:"Online",children:[(0,m.jsx)(c.t7,{name:"onlineNickName",onChange:b,data:f}),(0,m.jsx)(c.Ks,{name:"bio",onChange:b,data:f})]}),(0,m.jsx)(l.ZP,{col:"12",title:"Photo",children:(0,m.jsx)(N,{name:"image",onDropChange:b,data:f,multiple:!1})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",onClick:()=>k(""),loading:j}),(0,m.jsx)(i.ZP,{label:"Save & Next",className:"mx-2",onClick:()=>k("?tab=departments"),loading:j}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>a.replace("/settings/employee")})]})]})};var S=t(2666);const T=()=>{const e=(0,g.I0)(),{id:a}=(0,p.UO)(),t=(0,p.k6)();(0,n.useEffect)((()=>{e((0,S.Rf)())}),[e]);let{clubsDropdown:s}=(0,g.v9)((e=>e.clubs));const[o,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{a&&e((0,C.Jf)(a,(e=>{d({reportDataAccess:e.reportDataAccess,clubs:e.clubs})})))}),[a,e]);const[r,d]=(0,n.useState)({reportDataAccess:[],clubs:[]}),h=e=>{let{name:a,value:t}=e;d((e=>({...e,[a]:t})))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Report Data Access",children:(0,m.jsx)(u,{name:"reportDataAccess",selected:null===r||void 0===r?void 0:r.reportDataAccess,sourceData:s,onPickListChange:h})}),(0,m.jsx)(l.ZP,{col:"12",title:"Clubs",children:(0,m.jsx)(u,{name:"clubs",selected:null===r||void 0===r?void 0:r.clubs,sourceData:s,onPickListChange:h})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",loading:o,onClick:()=>{a&&e((0,C.to)(a,r,c,t))}}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var A=t(97);const I=e=>{let{name:a,data:t,value:n,onTextChange:s,height:o="320px"}=e;return(0,m.jsx)("div",{className:"custom-editor",children:(0,m.jsx)(A.M,{value:n||(null===t||void 0===t?void 0:t[a]),onTextChange:e=>s&&s({...e,name:a,value:e.htmlValue}),style:{height:o}})})},Z=()=>{const{id:e}=(0,p.UO)(),a=(0,g.I0)(),t=(0,p.k6)(),[s,o]=(0,n.useState)({notes:""});(0,n.useEffect)((()=>{e&&a((0,C.Jf)(e,(e=>{o({notes:e.notes})})))}),[e,a]);const[c,r]=(0,n.useState)(!1);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.ZP,{col:"12",title:"Notes",children:(0,m.jsx)(I,{name:"notes",onTextChange:e=>{let{name:a,value:t}=e;o((e=>({...e,[a]:t})))},data:s})}),(0,m.jsxs)(i.GG,{children:[(0,m.jsx)(i.ZP,{label:"Save",className:"mx-2",loading:c,onClick:()=>{e&&a((0,C.to)(e,s,r,t))}}),(0,m.jsx)(i.ah,{label:"Cancel",onClick:()=>t.replace("/settings/employee")})]})]})};var w=t(8932),M=t(3585);const F=()=>{const e=(0,g.I0)(),{id:a}=(0,p.UO)(),t=(0,p.k6)();(0,n.useEffect)((()=>{e((0,M.GJ)(a))}),[e]);const{allCertificates:s}=(0,g.v9)((e=>e.certificates));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(l.tX,{buttonTitle:"Add Certifications",linkTo:"/settings/employee/manage-employee/add/certifications/".concat(a)}),(0,m.jsx)(w.Z,{data:s,columns:[{field:"name",header:"Name"},{field:"certificateNumber",header:"Cerificate Number"},{field:"description",header:"Description"},{field:"issuer",header:"Issuer"},{field:"acquiredDate",header:"Acquired Date"},{field:"expirationDate",header:"Expiration Date"}],onEdit:e=>{t.push("/settings/employee/manage-employee/edit/".concat(e._id,"/certifications/").concat(a))},onDelete:(a,t)=>{(0,x.j3)((()=>{e((0,M.xJ)(a._id,(()=>{})))}),"Do you want to delete this Certificates ?",t)}})]})},Y=()=>{const{id:e}=(0,p.UO)(),a=[{title:"Security",content:(0,m.jsx)(f,{})},{title:"General",content:(0,m.jsx)(D,{})},{title:"Departments",content:(0,m.jsx)("h1",{children:"Department"})},{title:"Clubs",content:(0,m.jsx)(T,{})},{title:"Classes Setup",content:(0,m.jsx)(m.Fragment,{})},{title:"Appointment Setup",content:(0,m.jsx)("h1",{children:"Tab 6"})},{title:"Sales Commision",content:(0,m.jsx)("h1",{children:"Tab 7"})},{title:"Time Sheet",content:(0,m.jsx)("h1",{children:"Tab 8"})},{title:"Notes",content:(0,m.jsx)(Z,{})},{title:"Certifications",content:(0,m.jsx)(F,{})}];return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.Z,{backText:"Manage Employees",backTo:"/settings/employee",children:(0,m.jsx)(o.Z,{tabs:a,disabledTabIndices:e?[]:[1,2,3,4,5,6,7,8,9]})})})}}}]);
//# sourceMappingURL=598.dcf4df8a.chunk.js.map