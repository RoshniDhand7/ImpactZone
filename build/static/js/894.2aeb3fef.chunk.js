"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{2894:(e,n,a)=>{a.r(n),a.d(n,{default:()=>C});var i=a(5043),l=a(5050),s=a(5378),o=a(8945),t=a(6038),c=a(7994),d=a(1688),r=a(9456),m=a(8740),u=a(6911),h=a(8110),v=a(7602),x=a(6411),j=a(1584),g=a(1830),A=a(579);const C=()=>{const e=(0,r.wA)();(0,i.useEffect)((()=>{e((0,h.aM)()),e((0,j.mP)())}),[e]);const{catalogServiceFilterItems:n}=(0,r.d4)((e=>e.catalogItems));let{clubsDropdown:a}=(0,r.d4)((e=>e.clubs));const[C,p]=(0,i.useState)(!1),[w,b]=(0,i.useState)([]),[y,R]=(0,i.useState)({name:"",description:"",discountType:"",accessRestriction:"",accessSchedule:null,allowRemoteCheckIn:"",minimumAgeAllowed:"",maximumAgeAllowed:"",maximumDaysAllowed:"",club:[],services:[],isActive:!0}),f=(0,d.W6)(),{loading:B}=(0,r.d4)((e=>{var n;return null===e||void 0===e||null===(n=e.loader)||void 0===n?void 0:n.isLoading})),S=e=>{let{name:n,value:a}=e;const i=(0,t.A)(n,a,y);R((e=>({...e,[n]:a,formErrors:i})))},k=m.$n,D=()=>{R((e=>({...e,services:w}))),p(!1)};return console.log("data>>",y),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(l.A,{backText:"Membership Types",children:[(0,A.jsxs)(s.Ay,{col:"12",title:"General",children:[(0,A.jsx)(o.o4,{name:"isActive",data:y,onChange:S}),(0,A.jsxs)(s.a,{children:[(0,A.jsx)(o.wi,{name:"name",data:y,onChange:S,required:!0}),(0,A.jsx)(o.wi,{name:"description",data:y,onChange:S,required:!0}),(0,A.jsx)(o.BR,{name:"discountType",options:k,onChange:S,data:y}),(0,A.jsx)(o.BR,{name:"accessRestriction",options:m.r4,onChange:S,data:y}),"true"===(null===y||void 0===y?void 0:y.accessRestriction)&&(0,A.jsx)(o.BR,{name:"accessSchedule",options:m.r4,onChange:S,data:y}),(0,A.jsx)(o.BR,{name:"allowRemoteCheckIn",options:m.r4,onChange:S,data:y}),(0,A.jsx)(o.BR,{name:"availableTypes",options:m.r4,onChange:S,data:y}),(0,A.jsx)(o.Bt,{prefix:"$",name:"clubCreditAmount",data:y,onChange:S,col:"4"}),(0,A.jsx)(o.BR,{name:"specialResrictions",options:m.So,onChange:S,data:y}),"By Age"===(null===y||void 0===y?void 0:y.specialResrictions)&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.Bt,{name:"minimumAgeAllowed",data:y,onChange:S,col:"4"}),(0,A.jsx)(o.Bt,{name:"maximumAgeAllowed",data:y,onChange:S,col:"4"})]}),"By Location"===(null===y||void 0===y?void 0:y.specialResrictions)&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(o.Bt,{name:"maximumDistanceAllowed",data:y,onChange:S,col:"4"})}),"By Days"===(null===y||void 0===y?void 0:y.specialResrictions)&&(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(o.Bt,{name:"maximumDaysAllowed",data:y,onChange:S,col:"4"})})]})]}),(0,A.jsx)(s.Ay,{col:"12",title:" Clubs",children:(0,A.jsx)(u.A,{name:"club",selected:null===y||void 0===y?void 0:y.club,sourceData:a,onPickListChange:S})}),(0,A.jsxs)(s.Ay,{col:"12",title:" Add Services",children:[(0,A.jsx)(s.Fq,{buttonTitle:"Add",onClick:()=>p(!0),extraClass:"justify-content-end gap-2",children:(0,A.jsx)("div",{children:(0,A.jsx)(c.Ay,{label:"Remove All",onClick:()=>{R((e=>({...e,services:[]}))),b([])}})})}),(0,A.jsx)(v.A,{data:null===y||void 0===y?void 0:y.services,columns:[{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],showSelectionElement:!1,onDelete:e=>{(0,g.QV)((()=>{R((n=>{var a;return{...n,services:null===y||void 0===y||null===(a=y.services)||void 0===a?void 0:a.filter((n=>n._id!==(null===e||void 0===e?void 0:e._id)))}}))}),"Do you want to delete this Service ?","center")}})]}),(0,A.jsx)(x.A,{title:"Add Services",visible:C,onCancel:()=>{p("")},loading:B,onSave:D,width:"auto",children:(0,A.jsx)(s.a,{children:C&&(0,A.jsx)(v.A,{convertToboolean:!1,data:C&&n,columns:[{selectionMode:"multiple",headerStyle:""},{field:"name",header:"Item Name"},{field:"upc",header:"Item UPC"},{field:"unitPrice",header:"Price"}],selectedRow:w,setSelectedRow:b})})}),(0,A.jsxs)(c.zp,{children:[(0,A.jsx)(c.Ay,{label:"Save",className:"mx-2",onClick:D,loading:B}),(0,A.jsx)(c.Ti,{label:"Cancel",onClick:()=>f.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.2aeb3fef.chunk.js.map