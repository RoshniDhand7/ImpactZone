"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[894],{2894:(e,s,i)=>{i.r(s),i.d(s,{default:()=>j});var n=i(9379),a=i(5043),o=i(5050),l=i(3549),c=i(4572),t=i(6038),m=i(7994),d=i(1688),r=i(9456),u=i(7374),A=i(6911),x=i(3335),h=i(8701),g=i(1047),v=i(4441),w=i(1923),p=i(304),C=i(579);const j=()=>{var e;const s=(0,r.wA)(),{id:i}=(0,d.g)();(0,a.useEffect)((()=>{s((0,p.vR)())}),[s]);const[j,b]=(0,a.useState)({name:"",description:"",discount:"NONE",accessRestriction:!1,accessSchedule:null,remoteCheckin:!1,transferToAnotherType:null,clubCreditAmount:"",specialResrictions:"NONE",minimumAgeAllowed:0,maximumAgeAllowed:0,maximumDaysAllowed:0,maximumDistanceAllowed:0,clubs:[],services:[],isActive:!0}),{assessScheduleDropdown:D}=(0,r.d4)((e=>{var s;return null===e||void 0===e||null===(s=e.settings)||void 0===s?void 0:s.members}));let{membershipTypesDropdown:y}=(0,r.d4)((e=>e.settings.members));y=null===(e=y)||void 0===e?void 0:e.filter((e=>e.name!==(null===j||void 0===j?void 0:j.name)));const{clubsDropdown:R}=(0,g.A)(),{allDiscountDropdown:B}=(0,v.A)(),f=(0,d.W6)(),{isTableLoading:k}=(0,r.d4)((e=>null===e||void 0===e?void 0:e.tableLoader));(0,a.useEffect)((()=>{i&&s((0,w.nK)(i,(e=>{b({name:e.name,description:e.description,discount:null===e.discount?"NONE":e.discount,accessRestriction:e.accessRestriction,accessSchedule:e.accessSchedule,remoteCheckin:e.remoteCheckin,transferToAnotherType:e.transferToAnotherType,clubCreditAmount:e.clubCreditAmount,specialResrictions:e.specialResrictions,minimumAgeAllowed:e.minimumAgeAllowed,maximumAgeAllowed:e.maximumAgeAllowed,maximumDaysAllowed:e.maximumDaysAllowed,maximumDistanceAllowed:e.maximumDistanceAllowed,clubs:e.clubs,services:e.services,isActive:!0})})))}),[i,s]);const T=e=>{let{name:s,value:i}=e;const a=(0,t.A)(s,i,j);b((e=>(0,n.A)((0,n.A)({},e),{},{[s]:i,formErrors:a})))},N=[...u.$n,...B];return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(o.A,{backText:"Membership Types",children:[(0,C.jsxs)(l.Ay,{col:"12",title:"General",children:[(0,C.jsx)(c.o4,{name:"isActive",data:j,onChange:T}),(0,C.jsxs)(l.a,{children:[(0,C.jsx)(c.wi,{name:"name",data:j,onChange:T,required:!0}),(0,C.jsx)(c.wi,{name:"description",data:j,onChange:T}),(0,C.jsx)(c.BR,{name:"discount",options:N,onChange:T,data:j}),(0,C.jsx)(c.BR,{name:"accessRestriction",options:u.r4,onChange:T,data:j}),(null===j||void 0===j?void 0:j.accessRestriction)&&(0,C.jsx)(c.BR,{name:"accessSchedule",options:D,onChange:T,data:j}),(0,C.jsx)(c.BR,{name:"remoteCheckin",options:u.r4,onChange:T,data:j}),(0,C.jsx)(c.BR,{name:"transferToAnotherType",options:y,onChange:T,data:j}),(0,C.jsx)(c.Bt,{prefix:"$",name:"clubCreditAmount",data:j,onChange:T,col:"4"}),(0,C.jsx)(c.BR,{name:"specialResrictions",options:u.So,onChange:T,data:j}),"BY_AGE"===(null===j||void 0===j?void 0:j.specialResrictions)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(c.Bt,{name:"minimumAgeAllowed",data:j,onChange:T,col:"4"}),(0,C.jsx)(c.Bt,{name:"maximumAgeAllowed",data:j,onChange:T,col:"4"})]}),"BY_LOCATION"===(null===j||void 0===j?void 0:j.specialResrictions)&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(c.Bt,{name:"maximumDistanceAllowed",data:j,onChange:T,col:"4"})}),"BY_DAYS"===(null===j||void 0===j?void 0:j.specialResrictions)&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(c.Bt,{name:"maximumDaysAllowed",data:j,onChange:T,col:"4"})})]})]}),(0,C.jsx)(l.Ay,{col:"12",title:" Clubs",children:(0,C.jsx)(A.A,{name:"clubs",selected:null===j||void 0===j?void 0:j.clubs,sourceData:R,onPickListChange:T})}),(0,C.jsx)(h.A,{data:j,setData:b,id:i,loading:k,name:"Add Services"}),(0,C.jsxs)(m.zp,{children:[(0,C.jsx)(m.Ay,{label:"Save",className:"mx-2",onClick:()=>{let e=[];switch(null===j||void 0===j?void 0:j.specialResrictions){case"By Age":e=["maximumDaysAllowed","maximumDistanceAllowed","services"];break;case"By Location":e=["minimumAgeAllowed","maximumAgeAllowed","maximumDaysAllowed","services"];break;case"By Days":e=["maximumAgeAllowed","minimumAgeAllowed","maximumDistanceAllowed","services"];break;default:e=["maximumDaysAllowed","maximumDistanceAllowed","minimumAgeAllowed","maximumAgeAllowed","services","clubs"]}(0,x.nV)(j,b,e)&&s(i?(0,w.TV)(i,(0,n.A)((0,n.A)({},j),{},{services:(0,x.rO)(j.services),discount:"NONE"===j.discount?null:j.discount}),f):(0,w.E1)((0,n.A)((0,n.A)({},j),{},{services:(0,x.rO)(j.services),discount:"NONE"===j.discount?null:j.discount}),(()=>f.goBack())))},loading:k}),(0,C.jsx)(m.Ti,{label:"Cancel",onClick:()=>f.goBack()})]})]})})}}}]);
//# sourceMappingURL=894.b8abbcb7.chunk.js.map