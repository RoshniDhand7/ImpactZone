"use strict";(self.webpackChunkimpact_zone_frontend=self.webpackChunkimpact_zone_frontend||[]).push([[293],{5090:(e,l,t)=>{t.d(l,{A:()=>r});var s=t(5043),a=t(6796),n=t(8702),o=t(3631),i=t(579);const r=e=>{let{label:l,name:t,onFilesChange:r,errorMessage:c,extraClassName:d,value:u,data:g,col:m,required:p,imgclass:v,removeable:f,editable:h,uploadboxclass:j,uploadIcon:x,disabled:b=!1,...C}=e;const[N,y]=(0,s.useState)(u||(null===g||void 0===g?void 0:g[t])||[]);(0,s.useEffect)((()=>{(u||null!==g&&void 0!==g&&g[t])&&JSON.stringify(u||(null===g||void 0===g?void 0:g[t]))!==JSON.stringify(N)&&y(u||(null===g||void 0===g?void 0:g[t]))}),[u||(null===g||void 0===g?void 0:g[t])]),(0,s.useEffect)((()=>{r?N.length&&r({name:t,value:N}):r({name:t,value:[]})}),[N,t]);const k=e=>{let l=[];e.forEach((e=>{-1===N.findIndex((l=>l.name===e.name))&&l.push(e)})),y([...l])};return(0,i.jsxs)(o.A,{col:m||12,label:l,name:t,required:p,extraClassName:d,data:g,errorMessage:c,children:[(0,i.jsx)("input",{type:"file",className:" ",name:t,onChange:e=>{const l=e.target.files;k(Object.values(l)),e.target.value=""},id:t,accept:".jpg, .jpeg, .png,.jfif",hidden:!0,...C}),N.length?Object.values(N).map(((e,l)=>(0,i.jsxs)("div",{className:"photoDiv",children:[f&&(0,i.jsx)("i",{onClick:()=>(e=>{const l=N.filter(((l,t)=>t!==e));y([...l]),r({name:t,value:[]})})(l),className:"pi pi-times cursor-pointer"}),(0,i.jsx)("img",{src:e?"string"===typeof e?(0,n.b)(e):URL.createObjectURL(e):a,onError:e=>e.target.src=(0,n.N)(),alt:"pic",className:"profile-img relative btn-border-color ".concat(v),accept:".jpg, .jpeg, .png, .jfif"})]},l))):(0,i.jsx)("div",{className:"photo-upload flex justify-content-center align-items-center",style:{height:"95px",width:"90px"},children:(0,i.jsx)("label",{htmlFor:t,children:(0,i.jsx)("img",{className:"w-full h-full fit-cover",style:{width:"50px"},src:a,onError:e=>e.target.src=(0,n.N)(),alt:"",accept:".jpg, .jpeg, .png"})})})]})}},1293:(e,l,t)=>{t.r(l),t.d(l,{default:()=>m});var s=t(5043),a=t(5050),n=t(3549),o=t(5090),i=t(7994),r=t(9456),c=t(6038),d=t(8085),u=t(6658),g=t(579);const m=e=>{let{history:l}=e;const t=(0,r.wA)(),[m,p]=(0,s.useState)({logo:[]});(0,s.useEffect)((()=>{t((0,u.l)())}),[t]);let{company:v}=(0,r.d4)((e=>{var l;return null===e||void 0===e||null===(l=e.settings)||void 0===l?void 0:l.business}));(0,s.useEffect)((()=>{v&&p({logo:null!==v&&void 0!==v&&v.logo?[null===v||void 0===v?void 0:v.logo]:[]})}),[]);const[f,h]=(0,s.useState)(!1);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(a.A,{backText:"Customization",children:[(0,g.jsx)(n.Ay,{col:"12",title:"Customization",children:(0,g.jsx)(o.A,{name:"logo",data:m,removeable:!0,onFilesChange:e=>{let{name:l,value:t}=e;const s=(0,c.A)(l,t,m);p((e=>({...e,[l]:t,formErrors:s})))}})}),(0,g.jsxs)(i.zp,{children:[(0,g.jsx)(i.Ay,{label:"Save",className:"mx-2",onClick:()=>{(0,d.nV)(m,p)&&t((0,u.O)(v._id,m,h,l))},loading:f}),(0,g.jsx)(i.Ti,{label:"Cancel",onClick:()=>l.replace("/settings/business/?tab=customization/")})]})]})})}}}]);
//# sourceMappingURL=293.19622c1b.chunk.js.map